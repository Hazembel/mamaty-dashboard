(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const m of h)if(m.type==="childList")for(const v of m.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&c(v)}).observe(document,{childList:!0,subtree:!0});function u(h){const m={};return h.integrity&&(m.integrity=h.integrity),h.referrerPolicy&&(m.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?m.credentials="include":h.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(h){if(h.ep)return;h.ep=!0;const m=u(h);fetch(h.href,m)}})();function qm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ro={exports:{}},dn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function wp(){if(Sm)return dn;Sm=1;var i=Symbol.for("react.transitional.element"),d=Symbol.for("react.fragment");function u(c,h,m){var v=null;if(m!==void 0&&(v=""+m),h.key!==void 0&&(v=""+h.key),"key"in h){m={};for(var j in h)j!=="key"&&(m[j]=h[j])}else m=h;return h=m.ref,{$$typeof:i,type:c,key:v,ref:h!==void 0?h:null,props:m}}return dn.Fragment=d,dn.jsx=u,dn.jsxs=u,dn}var Cm;function Sp(){return Cm||(Cm=1,ro.exports=wp()),ro.exports}var l=Sp(),io={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function Cp(){if(Am)return Se;Am=1;var i=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),v=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),Y=Symbol.iterator;function k(p){return p===null||typeof p!="object"?null:(p=Y&&p[Y]||p["@@iterator"],typeof p=="function"?p:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,H={};function ee(p,V,ie){this.props=p,this.context=V,this.refs=H,this.updater=ie||S}ee.prototype.isReactComponent={},ee.prototype.setState=function(p,V){if(typeof p!="object"&&typeof p!="function"&&p!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,p,V,"setState")},ee.prototype.forceUpdate=function(p){this.updater.enqueueForceUpdate(this,p,"forceUpdate")};function P(){}P.prototype=ee.prototype;function A(p,V,ie){this.props=p,this.context=V,this.refs=H,this.updater=ie||S}var G=A.prototype=new P;G.constructor=A,_(G,ee.prototype),G.isPureReactComponent=!0;var ne=Array.isArray;function Z(){}var q={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function $(p,V,ie){var F=ie.ref;return{$$typeof:i,type:p,key:V,ref:F!==void 0?F:null,props:ie}}function K(p,V){return $(p.type,V,p.props)}function xe(p){return typeof p=="object"&&p!==null&&p.$$typeof===i}function ue(p){var V={"=":"=0",":":"=2"};return"$"+p.replace(/[=:]/g,function(ie){return V[ie]})}var ve=/\/+/g;function pe(p,V){return typeof p=="object"&&p!==null&&p.key!=null?ue(""+p.key):V.toString(36)}function me(p){switch(p.status){case"fulfilled":return p.value;case"rejected":throw p.reason;default:switch(typeof p.status=="string"?p.then(Z,Z):(p.status="pending",p.then(function(V){p.status==="pending"&&(p.status="fulfilled",p.value=V)},function(V){p.status==="pending"&&(p.status="rejected",p.reason=V)})),p.status){case"fulfilled":return p.value;case"rejected":throw p.reason}}throw p}function O(p,V,ie,F,b){var C=typeof p;(C==="undefined"||C==="boolean")&&(p=null);var Q=!1;if(p===null)Q=!0;else switch(C){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(p.$$typeof){case i:case d:Q=!0;break;case R:return Q=p._init,O(Q(p._payload),V,ie,F,b)}}if(Q)return b=b(p),Q=F===""?"."+pe(p,0):F,ne(b)?(ie="",Q!=null&&(ie=Q.replace(ve,"$&/")+"/"),O(b,V,ie,"",function(te){return te})):b!=null&&(xe(b)&&(b=K(b,ie+(b.key==null||p&&p.key===b.key?"":(""+b.key).replace(ve,"$&/")+"/")+Q)),V.push(b)),1;Q=0;var I=F===""?".":F+":";if(ne(p))for(var D=0;D<p.length;D++)F=p[D],C=I+pe(F,D),Q+=O(F,V,ie,C,b);else if(D=k(p),typeof D=="function")for(p=D.call(p),D=0;!(F=p.next()).done;)F=F.value,C=I+pe(F,D++),Q+=O(F,V,ie,C,b);else if(C==="object"){if(typeof p.then=="function")return O(me(p),V,ie,F,b);throw V=String(p),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Q}function le(p,V,ie){if(p==null)return p;var F=[],b=0;return O(p,F,"","",function(C){return V.call(ie,C,b++)}),F}function de(p){if(p._status===-1){var V=p._result;V=V(),V.then(function(ie){(p._status===0||p._status===-1)&&(p._status=1,p._result=ie)},function(ie){(p._status===0||p._status===-1)&&(p._status=2,p._result=ie)}),p._status===-1&&(p._status=0,p._result=V)}if(p._status===1)return p._result.default;throw p._result}var ce=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},re={map:le,forEach:function(p,V,ie){le(p,function(){V.apply(this,arguments)},ie)},count:function(p){var V=0;return le(p,function(){V++}),V},toArray:function(p){return le(p,function(V){return V})||[]},only:function(p){if(!xe(p))throw Error("React.Children.only expected to receive a single React element child.");return p}};return Se.Activity=T,Se.Children=re,Se.Component=ee,Se.Fragment=u,Se.Profiler=h,Se.PureComponent=A,Se.StrictMode=c,Se.Suspense=w,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Se.__COMPILER_RUNTIME={__proto__:null,c:function(p){return q.H.useMemoCache(p)}},Se.cache=function(p){return function(){return p.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(p,V,ie){if(p==null)throw Error("The argument must be a React element, but you passed "+p+".");var F=_({},p.props),b=p.key;if(V!=null)for(C in V.key!==void 0&&(b=""+V.key),V)!M.call(V,C)||C==="key"||C==="__self"||C==="__source"||C==="ref"&&V.ref===void 0||(F[C]=V[C]);var C=arguments.length-2;if(C===1)F.children=ie;else if(1<C){for(var Q=Array(C),I=0;I<C;I++)Q[I]=arguments[I+2];F.children=Q}return $(p.type,b,F)},Se.createContext=function(p){return p={$$typeof:v,_currentValue:p,_currentValue2:p,_threadCount:0,Provider:null,Consumer:null},p.Provider=p,p.Consumer={$$typeof:m,_context:p},p},Se.createElement=function(p,V,ie){var F,b={},C=null;if(V!=null)for(F in V.key!==void 0&&(C=""+V.key),V)M.call(V,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(b[F]=V[F]);var Q=arguments.length-2;if(Q===1)b.children=ie;else if(1<Q){for(var I=Array(Q),D=0;D<Q;D++)I[D]=arguments[D+2];b.children=I}if(p&&p.defaultProps)for(F in Q=p.defaultProps,Q)b[F]===void 0&&(b[F]=Q[F]);return $(p,C,b)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(p){return{$$typeof:j,render:p}},Se.isValidElement=xe,Se.lazy=function(p){return{$$typeof:R,_payload:{_status:-1,_result:p},_init:de}},Se.memo=function(p,V){return{$$typeof:g,type:p,compare:V===void 0?null:V}},Se.startTransition=function(p){var V=q.T,ie={};q.T=ie;try{var F=p(),b=q.S;b!==null&&b(ie,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(Z,ce)}catch(C){ce(C)}finally{V!==null&&ie.types!==null&&(V.types=ie.types),q.T=V}},Se.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Se.use=function(p){return q.H.use(p)},Se.useActionState=function(p,V,ie){return q.H.useActionState(p,V,ie)},Se.useCallback=function(p,V){return q.H.useCallback(p,V)},Se.useContext=function(p){return q.H.useContext(p)},Se.useDebugValue=function(){},Se.useDeferredValue=function(p,V){return q.H.useDeferredValue(p,V)},Se.useEffect=function(p,V){return q.H.useEffect(p,V)},Se.useEffectEvent=function(p){return q.H.useEffectEvent(p)},Se.useId=function(){return q.H.useId()},Se.useImperativeHandle=function(p,V,ie){return q.H.useImperativeHandle(p,V,ie)},Se.useInsertionEffect=function(p,V){return q.H.useInsertionEffect(p,V)},Se.useLayoutEffect=function(p,V){return q.H.useLayoutEffect(p,V)},Se.useMemo=function(p,V){return q.H.useMemo(p,V)},Se.useOptimistic=function(p,V){return q.H.useOptimistic(p,V)},Se.useReducer=function(p,V,ie){return q.H.useReducer(p,V,ie)},Se.useRef=function(p){return q.H.useRef(p)},Se.useState=function(p){return q.H.useState(p)},Se.useSyncExternalStore=function(p,V,ie){return q.H.useSyncExternalStore(p,V,ie)},Se.useTransition=function(){return q.H.useTransition()},Se.version="19.2.0",Se}var Em;function jo(){return Em||(Em=1,io.exports=Cp()),io.exports}var x=jo();const No=qm(x);var co={exports:{}},fn={},oo={exports:{}},uo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function Ap(){return Tm||(Tm=1,(function(i){function d(O,le){var de=O.length;O.push(le);e:for(;0<de;){var ce=de-1>>>1,re=O[ce];if(0<h(re,le))O[ce]=le,O[de]=re,de=ce;else break e}}function u(O){return O.length===0?null:O[0]}function c(O){if(O.length===0)return null;var le=O[0],de=O.pop();if(de!==le){O[0]=de;e:for(var ce=0,re=O.length,p=re>>>1;ce<p;){var V=2*(ce+1)-1,ie=O[V],F=V+1,b=O[F];if(0>h(ie,de))F<re&&0>h(b,ie)?(O[ce]=b,O[F]=de,ce=F):(O[ce]=ie,O[V]=de,ce=V);else if(F<re&&0>h(b,de))O[ce]=b,O[F]=de,ce=F;else break e}}return le}function h(O,le){var de=O.sortIndex-le.sortIndex;return de!==0?de:O.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;i.unstable_now=function(){return m.now()}}else{var v=Date,j=v.now();i.unstable_now=function(){return v.now()-j}}var w=[],g=[],R=1,T=null,Y=3,k=!1,S=!1,_=!1,H=!1,ee=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function G(O){for(var le=u(g);le!==null;){if(le.callback===null)c(g);else if(le.startTime<=O)c(g),le.sortIndex=le.expirationTime,d(w,le);else break;le=u(g)}}function ne(O){if(_=!1,G(O),!S)if(u(w)!==null)S=!0,Z||(Z=!0,ue());else{var le=u(g);le!==null&&me(ne,le.startTime-O)}}var Z=!1,q=-1,M=5,$=-1;function K(){return H?!0:!(i.unstable_now()-$<M)}function xe(){if(H=!1,Z){var O=i.unstable_now();$=O;var le=!0;try{e:{S=!1,_&&(_=!1,P(q),q=-1),k=!0;var de=Y;try{t:{for(G(O),T=u(w);T!==null&&!(T.expirationTime>O&&K());){var ce=T.callback;if(typeof ce=="function"){T.callback=null,Y=T.priorityLevel;var re=ce(T.expirationTime<=O);if(O=i.unstable_now(),typeof re=="function"){T.callback=re,G(O),le=!0;break t}T===u(w)&&c(w),G(O)}else c(w);T=u(w)}if(T!==null)le=!0;else{var p=u(g);p!==null&&me(ne,p.startTime-O),le=!1}}break e}finally{T=null,Y=de,k=!1}le=void 0}}finally{le?ue():Z=!1}}}var ue;if(typeof A=="function")ue=function(){A(xe)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,pe=ve.port2;ve.port1.onmessage=xe,ue=function(){pe.postMessage(null)}}else ue=function(){ee(xe,0)};function me(O,le){q=ee(function(){O(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(O){O.callback=null},i.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<O?Math.floor(1e3/O):5},i.unstable_getCurrentPriorityLevel=function(){return Y},i.unstable_next=function(O){switch(Y){case 1:case 2:case 3:var le=3;break;default:le=Y}var de=Y;Y=le;try{return O()}finally{Y=de}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(O,le){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var de=Y;Y=O;try{return le()}finally{Y=de}},i.unstable_scheduleCallback=function(O,le,de){var ce=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ce+de:ce):de=ce,O){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=de+re,O={id:R++,callback:le,priorityLevel:O,startTime:de,expirationTime:re,sortIndex:-1},de>ce?(O.sortIndex=de,d(g,O),u(w)===null&&O===u(g)&&(_?(P(q),q=-1):_=!0,me(ne,de-ce))):(O.sortIndex=re,d(w,O),S||k||(S=!0,Z||(Z=!0,ue()))),O},i.unstable_shouldYield=K,i.unstable_wrapCallback=function(O){var le=Y;return function(){var de=Y;Y=le;try{return O.apply(this,arguments)}finally{Y=de}}}})(uo)),uo}var zm;function Ep(){return zm||(zm=1,oo.exports=Ap()),oo.exports}var fo={exports:{}},gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function Tp(){if(Mm)return gt;Mm=1;var i=jo();function d(w){var g="https://react.dev/errors/"+w;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)g+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+w+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var c={d:{f:u,r:function(){throw Error(d(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},h=Symbol.for("react.portal");function m(w,g,R){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:T==null?null:""+T,children:w,containerInfo:g,implementation:R}}var v=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function j(w,g){if(w==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,gt.createPortal=function(w,g){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(d(299));return m(w,g,null,R)},gt.flushSync=function(w){var g=v.T,R=c.p;try{if(v.T=null,c.p=2,w)return w()}finally{v.T=g,c.p=R,c.d.f()}},gt.preconnect=function(w,g){typeof w=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,c.d.C(w,g))},gt.prefetchDNS=function(w){typeof w=="string"&&c.d.D(w)},gt.preinit=function(w,g){if(typeof w=="string"&&g&&typeof g.as=="string"){var R=g.as,T=j(R,g.crossOrigin),Y=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;R==="style"?c.d.S(w,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:Y,fetchPriority:k}):R==="script"&&c.d.X(w,{crossOrigin:T,integrity:Y,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},gt.preinitModule=function(w,g){if(typeof w=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var R=j(g.as,g.crossOrigin);c.d.M(w,{crossOrigin:R,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&c.d.M(w)},gt.preload=function(w,g){if(typeof w=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var R=g.as,T=j(R,g.crossOrigin);c.d.L(w,R,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},gt.preloadModule=function(w,g){if(typeof w=="string")if(g){var R=j(g.as,g.crossOrigin);c.d.m(w,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:R,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else c.d.m(w)},gt.requestFormReset=function(w){c.d.r(w)},gt.unstable_batchedUpdates=function(w,g){return w(g)},gt.useFormState=function(w,g,R){return v.H.useFormState(w,g,R)},gt.useFormStatus=function(){return v.H.useHostTransitionStatus()},gt.version="19.2.0",gt}var Dm;function zp(){if(Dm)return fo.exports;Dm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(d){console.error(d)}}return i(),fo.exports=Tp(),fo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function Mp(){if(Om)return fn;Om=1;var i=Ep(),d=jo(),u=zp();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function j(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w(e){if(m(e)!==e)throw Error(c(188))}function g(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(c(188));return t!==e?null:e}for(var a=e,s=t;;){var n=a.return;if(n===null)break;var r=n.alternate;if(r===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===a)return w(n),e;if(r===s)return w(n),t;r=r.sibling}throw Error(c(188))}if(a.return!==s.return)a=n,s=r;else{for(var o=!1,f=n.child;f;){if(f===a){o=!0,a=n,s=r;break}if(f===s){o=!0,s=n,a=r;break}f=f.sibling}if(!o){for(f=r.child;f;){if(f===a){o=!0,a=r,s=n;break}if(f===s){o=!0,s=r,a=n;break}f=f.sibling}if(!o)throw Error(c(189))}}if(a.alternate!==s)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?e:t}function R(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=R(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,Y=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),A=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=xe&&e[xe]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Symbol.for("react.client.reference");function pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ve?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case ee:return"Profiler";case H:return"StrictMode";case ne:return"Suspense";case Z:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case A:return e.displayName||"Context";case P:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}var me=Array.isArray,O=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ce=[],re=-1;function p(e){return{current:e}}function V(e){0>re||(e.current=ce[re],ce[re]=null,re--)}function ie(e,t){re++,ce[re]=e.current,e.current=t}var F=p(null),b=p(null),C=p(null),Q=p(null);function I(e,t){switch(ie(C,t),ie(b,e),ie(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Zf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Zf(t),e=Jf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(F),ie(F,e)}function D(){V(F),V(b),V(C)}function te(e){e.memoizedState!==null&&ie(Q,e);var t=F.current,a=Jf(t,e.type);t!==a&&(ie(b,e),ie(F,a))}function z(e){b.current===e&&(V(F),V(b)),Q.current===e&&(V(Q),rn._currentValue=de)}var se,oe;function je(e){if(se===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);se=t&&t[1]||"",oe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+e+oe}var Oe=!1;function ke(e,t){if(!e||Oe)return"";Oe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var L=X}Reflect.construct(e,[],ae)}else{try{ae.call()}catch(X){L=X}e.call(ae.prototype)}}else{try{throw Error()}catch(X){L=X}(ae=e())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&L&&typeof X.stack=="string")return[X.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),o=r[0],f=r[1];if(o&&f){var y=o.split(`
`),B=f.split(`
`);for(n=s=0;s<y.length&&!y[s].includes("DetermineComponentFrameRoot");)s++;for(;n<B.length&&!B[n].includes("DetermineComponentFrameRoot");)n++;if(s===y.length||n===B.length)for(s=y.length-1,n=B.length-1;1<=s&&0<=n&&y[s]!==B[n];)n--;for(;1<=s&&0<=n;s--,n--)if(y[s]!==B[n]){if(s!==1||n!==1)do if(s--,n--,0>n||y[s]!==B[n]){var J=`
`+y[s].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=s&&0<=n);break}}}finally{Oe=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?je(a):""}function Ie(e,t){switch(e.tag){case 26:case 27:case 5:return je(e.type);case 16:return je("Lazy");case 13:return e.child!==t&&t!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return ke(e.type,!1);case 11:return ke(e.type.render,!1);case 1:return ke(e.type,!0);case 31:return je("Activity");default:return""}}function $e(e){try{var t="",a=null;do t+=Ie(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ut=Object.prototype.hasOwnProperty,It=i.unstable_scheduleCallback,Tt=i.unstable_cancelCallback,vt=i.unstable_shouldYield,ua=i.unstable_requestPaint,qe=i.unstable_now,aa=i.unstable_getCurrentPriorityLevel,jn=i.unstable_ImmediatePriority,Sl=i.unstable_UserBlockingPriority,fe=i.unstable_NormalPriority,ye=i.unstable_LowPriority,we=i.unstable_IdlePriority,Ze=i.log,Da=i.unstable_setDisableYieldValue,zt=null,Je=null;function Ht(e){if(typeof Ze=="function"&&Da(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(zt,e)}catch{}}var pt=Math.clz32?Math.clz32:ox,ix=Math.log,cx=Math.LN2;function ox(e){return e>>>=0,e===0?32:31-(ix(e)/cx|0)|0}var Nn=256,wn=262144,Sn=4194304;function al(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Cn(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var n=0,r=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var f=s&134217727;return f!==0?(s=f&~r,s!==0?n=al(s):(o&=f,o!==0?n=al(o):a||(a=f&~e,a!==0&&(n=al(a))))):(f=s&~r,f!==0?n=al(f):o!==0?n=al(o):a||(a=s&~e,a!==0&&(n=al(a)))),n===0?0:t!==0&&t!==n&&(t&r)===0&&(r=n&-n,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:n}function bs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ux(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(){var e=Sn;return Sn<<=1,(Sn&62914560)===0&&(Sn=4194304),e}function Jr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function vs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function dx(e,t,a,s,n,r){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var f=e.entanglements,y=e.expirationTimes,B=e.hiddenUpdates;for(a=o&~a;0<a;){var J=31-pt(a),ae=1<<J;f[J]=0,y[J]=-1;var L=B[J];if(L!==null)for(B[J]=null,J=0;J<L.length;J++){var X=L[J];X!==null&&(X.lane&=-536870913)}a&=~ae}s!==0&&To(e,s,0),r!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=r&~(o&~t))}function To(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-pt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function zo(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-pt(a),n=1<<s;n&t|e[s]&t&&(e[s]|=t),a&=~n}}function Mo(e,t){var a=t&-t;return a=(a&42)!==0?1:Kr(a),(a&(e.suspendedLanes|t))!==0?0:a}function Kr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Do(){var e=le.p;return e!==0?e:(e=window.event,e===void 0?32:gm(e.type))}function Oo(e,t){var a=le.p;try{return le.p=e,t()}finally{le.p=a}}var Oa=Math.random().toString(36).slice(2),dt="__reactFiber$"+Oa,jt="__reactProps$"+Oa,Cl="__reactContainer$"+Oa,Ir="__reactEvents$"+Oa,fx="__reactListeners$"+Oa,mx="__reactHandles$"+Oa,_o="__reactResources$"+Oa,js="__reactMarker$"+Oa;function Wr(e){delete e[dt],delete e[jt],delete e[Ir],delete e[fx],delete e[mx]}function Al(e){var t=e[dt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Cl]||a[dt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=tm(e);e!==null;){if(a=e[dt])return a;e=tm(e)}return t}e=a,a=e.parentNode}return null}function El(e){if(e=e[dt]||e[Cl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ns(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function Tl(e){var t=e[_o];return t||(t=e[_o]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ct(e){e[js]=!0}var Uo=new Set,Bo={};function ll(e,t){zl(e,t),zl(e+"Capture",t)}function zl(e,t){for(Bo[e]=t,e=0;e<t.length;e++)Uo.add(t[e])}var xx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},Ro={};function hx(e){return ut.call(Ro,e)?!0:ut.call(ko,e)?!1:xx.test(e)?Ro[e]=!0:(ko[e]=!0,!1)}function An(e,t,a){if(hx(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function En(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function da(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function px(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,r=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,r.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pr(e){if(!e._valueTracker){var t=Lo(e)?"checked":"value";e._valueTracker=px(e,t,""+e[t])}}function Ho(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Lo(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Tn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gx=/[\n"\\]/g;function Vt(e){return e.replace(gx,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ei(e,t,a,s,n,r,o,f){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qt(t)):e.value!==""+qt(t)&&(e.value=""+qt(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?ti(e,o,qt(t)):a!=null?ti(e,o,qt(a)):s!=null&&e.removeAttribute("value"),n==null&&r!=null&&(e.defaultChecked=!!r),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+qt(f):e.removeAttribute("name")}function qo(e,t,a,s,n,r,o,f){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Pr(e);return}a=a!=null?""+qt(a):"",t=t!=null?""+qt(t):a,f||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=f?e.checked:!!s,e.defaultChecked=!!s,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),Pr(e)}function ti(e,t,a){t==="number"&&Tn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ml(e,t,a,s){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&s&&(e[a].defaultSelected=!0)}else{for(a=""+qt(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Vo(e,t,a){if(t!=null&&(t=""+qt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+qt(a):""}function Go(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(c(92));if(me(s)){if(1<s.length)throw Error(c(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=qt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Pr(e)}function Dl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var yx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||yx.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Qo(e,t,a){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&a[n]!==s&&Yo(e,n,s)}else for(var r in t)t.hasOwnProperty(r)&&Yo(e,r,t[r])}function ai(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zn(e){return vx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fa(){}var li=null;function si(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ol=null,_l=null;function Xo(e){var t=El(e);if(t&&(e=t.stateNode)){var a=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(ei(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Vt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var n=s[jt]||null;if(!n)throw Error(c(90));ei(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Ho(s)}break e;case"textarea":Vo(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ml(e,!!a.multiple,t,!1)}}}var ni=!1;function $o(e,t,a){if(ni)return e(t,a);ni=!0;try{var s=e(t);return s}finally{if(ni=!1,(Ol!==null||_l!==null)&&(pr(),Ol&&(t=Ol,e=_l,_l=Ol=null,Xo(t),e)))for(t=0;t<e.length;t++)Xo(e[t])}}function ws(e,t){var a=e.stateNode;if(a===null)return null;var s=a[jt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(c(231,t,typeof a));return a}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ri=!1;if(ma)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){ri=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{ri=!1}var _a=null,ii=null,Mn=null;function Zo(){if(Mn)return Mn;var e,t=ii,a=t.length,s,n="value"in _a?_a.value:_a.textContent,r=n.length;for(e=0;e<a&&t[e]===n[e];e++);var o=a-e;for(s=1;s<=o&&t[a-s]===n[r-s];s++);return Mn=n.slice(e,1<s?1-s:void 0)}function Dn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function On(){return!0}function Jo(){return!1}function Nt(e){function t(a,s,n,r,o){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(a=e[f],this[f]=a?a(r):r[f]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?On:Jo,this.isPropagationStopped=Jo,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=On)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=On)},persist:function(){},isPersistent:On}),t}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_n=Nt(sl),Cs=T({},sl,{view:0,detail:0}),jx=Nt(Cs),ci,oi,As,Un=T({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:di,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==As&&(As&&e.type==="mousemove"?(ci=e.screenX-As.screenX,oi=e.screenY-As.screenY):oi=ci=0,As=e),ci)},movementY:function(e){return"movementY"in e?e.movementY:oi}}),Ko=Nt(Un),Nx=T({},Un,{dataTransfer:0}),wx=Nt(Nx),Sx=T({},Cs,{relatedTarget:0}),ui=Nt(Sx),Cx=T({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),Ax=Nt(Cx),Ex=T({},sl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tx=Nt(Ex),zx=T({},sl,{data:0}),Fo=Nt(zx),Mx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ox={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _x(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ox[e])?!!t[e]:!1}function di(){return _x}var Ux=T({},Cs,{key:function(e){if(e.key){var t=Mx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:di,charCode:function(e){return e.type==="keypress"?Dn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bx=Nt(Ux),kx=T({},Un,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Io=Nt(kx),Rx=T({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:di}),Lx=Nt(Rx),Hx=T({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),qx=Nt(Hx),Vx=T({},Un,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gx=Nt(Vx),Yx=T({},sl,{newState:0,oldState:0}),Qx=Nt(Yx),Xx=[9,13,27,32],fi=ma&&"CompositionEvent"in window,Es=null;ma&&"documentMode"in document&&(Es=document.documentMode);var $x=ma&&"TextEvent"in window&&!Es,Wo=ma&&(!fi||Es&&8<Es&&11>=Es),Po=" ",eu=!1;function tu(e,t){switch(e){case"keyup":return Xx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function au(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ul=!1;function Zx(e,t){switch(e){case"compositionend":return au(t);case"keypress":return t.which!==32?null:(eu=!0,Po);case"textInput":return e=t.data,e===Po&&eu?null:e;default:return null}}function Jx(e,t){if(Ul)return e==="compositionend"||!fi&&tu(e,t)?(e=Zo(),Mn=ii=_a=null,Ul=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wo&&t.locale!=="ko"?null:t.data;default:return null}}var Kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kx[e.type]:t==="textarea"}function su(e,t,a,s){Ol?_l?_l.push(s):_l=[s]:Ol=s,t=wr(t,"onChange"),0<t.length&&(a=new _n("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Ts=null,zs=null;function Fx(e){Vf(e,0)}function Bn(e){var t=Ns(e);if(Ho(t))return e}function nu(e,t){if(e==="change")return t}var ru=!1;if(ma){var mi;if(ma){var xi="oninput"in document;if(!xi){var iu=document.createElement("div");iu.setAttribute("oninput","return;"),xi=typeof iu.oninput=="function"}mi=xi}else mi=!1;ru=mi&&(!document.documentMode||9<document.documentMode)}function cu(){Ts&&(Ts.detachEvent("onpropertychange",ou),zs=Ts=null)}function ou(e){if(e.propertyName==="value"&&Bn(zs)){var t=[];su(t,zs,e,si(e)),$o(Fx,t)}}function Ix(e,t,a){e==="focusin"?(cu(),Ts=t,zs=a,Ts.attachEvent("onpropertychange",ou)):e==="focusout"&&cu()}function Wx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bn(zs)}function Px(e,t){if(e==="click")return Bn(t)}function eh(e,t){if(e==="input"||e==="change")return Bn(t)}function th(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:th;function Ms(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!ut.call(t,n)||!Mt(e[n],t[n]))return!1}return!0}function uu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function du(e,t){var a=uu(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=uu(a)}}function fu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Tn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Tn(e.document)}return t}function hi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ah=ma&&"documentMode"in document&&11>=document.documentMode,Bl=null,pi=null,Ds=null,gi=!1;function xu(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gi||Bl==null||Bl!==Tn(s)||(s=Bl,"selectionStart"in s&&hi(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ds&&Ms(Ds,s)||(Ds=s,s=wr(pi,"onSelect"),0<s.length&&(t=new _n("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Bl)))}function nl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var kl={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionrun:nl("Transition","TransitionRun"),transitionstart:nl("Transition","TransitionStart"),transitioncancel:nl("Transition","TransitionCancel"),transitionend:nl("Transition","TransitionEnd")},yi={},hu={};ma&&(hu=document.createElement("div").style,"AnimationEvent"in window||(delete kl.animationend.animation,delete kl.animationiteration.animation,delete kl.animationstart.animation),"TransitionEvent"in window||delete kl.transitionend.transition);function rl(e){if(yi[e])return yi[e];if(!kl[e])return e;var t=kl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in hu)return yi[e]=t[a];return e}var pu=rl("animationend"),gu=rl("animationiteration"),yu=rl("animationstart"),lh=rl("transitionrun"),sh=rl("transitionstart"),nh=rl("transitioncancel"),bu=rl("transitionend"),vu=new Map,bi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bi.push("scrollEnd");function Wt(e,t){vu.set(e,t),ll(t,[e])}var kn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],Rl=0,vi=0;function Rn(){for(var e=Rl,t=vi=Rl=0;t<e;){var a=Gt[t];Gt[t++]=null;var s=Gt[t];Gt[t++]=null;var n=Gt[t];Gt[t++]=null;var r=Gt[t];if(Gt[t++]=null,s!==null&&n!==null){var o=s.pending;o===null?n.next=n:(n.next=o.next,o.next=n),s.pending=n}r!==0&&ju(a,n,r)}}function Ln(e,t,a,s){Gt[Rl++]=e,Gt[Rl++]=t,Gt[Rl++]=a,Gt[Rl++]=s,vi|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function ji(e,t,a,s){return Ln(e,t,a,s),Hn(e)}function il(e,t){return Ln(e,null,null,t),Hn(e)}function ju(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var n=!1,r=e.return;r!==null;)r.childLanes|=a,s=r.alternate,s!==null&&(s.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(n=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,n&&t!==null&&(n=31-pt(a),e=r.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=a|536870912),r):null}function Hn(e){if(50<Ps)throw Ps=0,Mc=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ll={};function rh(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,a,s){return new rh(e,t,a,s)}function Ni(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xa(e,t){var a=e.alternate;return a===null?(a=Dt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Nu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qn(e,t,a,s,n,r){var o=0;if(s=e,typeof e=="function")Ni(e)&&(o=1);else if(typeof e=="string")o=dp(e,a,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $:return e=Dt(31,a,t,n),e.elementType=$,e.lanes=r,e;case _:return cl(a.children,n,r,t);case H:o=8,n|=24;break;case ee:return e=Dt(12,a,t,n|2),e.elementType=ee,e.lanes=r,e;case ne:return e=Dt(13,a,t,n),e.elementType=ne,e.lanes=r,e;case Z:return e=Dt(19,a,t,n),e.elementType=Z,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:o=10;break e;case P:o=9;break e;case G:o=11;break e;case q:o=14;break e;case M:o=16,s=null;break e}o=29,a=Error(c(130,e===null?"null":typeof e,"")),s=null}return t=Dt(o,a,t,n),t.elementType=e,t.type=s,t.lanes=r,t}function cl(e,t,a,s){return e=Dt(7,e,s,t),e.lanes=a,e}function wi(e,t,a){return e=Dt(6,e,null,t),e.lanes=a,e}function wu(e){var t=Dt(18,null,null,0);return t.stateNode=e,t}function Si(e,t,a){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Su=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var a=Su.get(e);return a!==void 0?a:(t={value:e,source:t,stack:$e(t)},Su.set(e,t),t)}return{value:e,source:t,stack:$e(t)}}var Hl=[],ql=0,Vn=null,Os=0,Qt=[],Xt=0,Ua=null,la=1,sa="";function ha(e,t){Hl[ql++]=Os,Hl[ql++]=Vn,Vn=e,Os=t}function Cu(e,t,a){Qt[Xt++]=la,Qt[Xt++]=sa,Qt[Xt++]=Ua,Ua=e;var s=la;e=sa;var n=32-pt(s)-1;s&=~(1<<n),a+=1;var r=32-pt(t)+n;if(30<r){var o=n-n%5;r=(s&(1<<o)-1).toString(32),s>>=o,n-=o,la=1<<32-pt(t)+n|a<<n|s,sa=r+e}else la=1<<r|a<<n|s,sa=e}function Ci(e){e.return!==null&&(ha(e,1),Cu(e,1,0))}function Ai(e){for(;e===Vn;)Vn=Hl[--ql],Hl[ql]=null,Os=Hl[--ql],Hl[ql]=null;for(;e===Ua;)Ua=Qt[--Xt],Qt[Xt]=null,sa=Qt[--Xt],Qt[Xt]=null,la=Qt[--Xt],Qt[Xt]=null}function Au(e,t){Qt[Xt++]=la,Qt[Xt++]=sa,Qt[Xt++]=Ua,la=t.id,sa=t.overflow,Ua=e}var ft=null,Ke=null,De=!1,Ba=null,$t=!1,Ei=Error(c(519));function ka(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _s(Yt(t,e)),Ei}function Eu(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[dt]=e,t[jt]=s,a){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(a=0;a<tn.length;a++)Te(tn[a],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),qo(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),Go(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Xf(t.textContent,a)?(s.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),s.onScroll!=null&&Te("scroll",t),s.onScrollEnd!=null&&Te("scrollend",t),s.onClick!=null&&(t.onclick=fa),t=!0):t=!1,t||ka(e,!0)}function Tu(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:ft=ft.return}}function Vl(e){if(e!==ft)return!1;if(!De)return Tu(e),De=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Xc(e.type,e.memoizedProps)),a=!a),a&&Ke&&ka(e),Tu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Ke=em(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Ke=em(e)}else t===27?(t=Ke,Fa(e.type)?(e=Fc,Fc=null,Ke=e):Ke=t):Ke=ft?Jt(e.stateNode.nextSibling):null;return!0}function ol(){Ke=ft=null,De=!1}function Ti(){var e=Ba;return e!==null&&(At===null?At=e:At.push.apply(At,e),Ba=null),e}function _s(e){Ba===null?Ba=[e]:Ba.push(e)}var zi=p(null),ul=null,pa=null;function Ra(e,t,a){ie(zi,t._currentValue),t._currentValue=a}function ga(e){e._currentValue=zi.current,V(zi)}function Mi(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Di(e,t,a,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var r=n.dependencies;if(r!==null){var o=n.child;r=r.firstContext;e:for(;r!==null;){var f=r;r=n;for(var y=0;y<t.length;y++)if(f.context===t[y]){r.lanes|=a,f=r.alternate,f!==null&&(f.lanes|=a),Mi(r.return,a,e),s||(o=null);break e}r=f.next}}else if(n.tag===18){if(o=n.return,o===null)throw Error(c(341));o.lanes|=a,r=o.alternate,r!==null&&(r.lanes|=a),Mi(o,a,e),o=null}else o=n.child;if(o!==null)o.return=n;else for(o=n;o!==null;){if(o===e){o=null;break}if(n=o.sibling,n!==null){n.return=o.return,o=n;break}o=o.return}n=o}}function Gl(e,t,a,s){e=null;for(var n=t,r=!1;n!==null;){if(!r){if((n.flags&524288)!==0)r=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var o=n.alternate;if(o===null)throw Error(c(387));if(o=o.memoizedProps,o!==null){var f=n.type;Mt(n.pendingProps.value,o.value)||(e!==null?e.push(f):e=[f])}}else if(n===Q.current){if(o=n.alternate,o===null)throw Error(c(387));o.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(rn):e=[rn])}n=n.return}e!==null&&Di(t,e,a,s),t.flags|=262144}function Gn(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function dl(e){ul=e,pa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mt(e){return zu(ul,e)}function Yn(e,t){return ul===null&&dl(e),zu(e,t)}function zu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},pa===null){if(e===null)throw Error(c(308));pa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else pa=pa.next=t;return a}var ih=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},ch=i.unstable_scheduleCallback,oh=i.unstable_NormalPriority,lt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oi(){return{controller:new ih,data:new Map,refCount:0}}function Us(e){e.refCount--,e.refCount===0&&ch(oh,function(){e.controller.abort()})}var Bs=null,_i=0,Yl=0,Ql=null;function uh(e,t){if(Bs===null){var a=Bs=[];_i=0,Yl=kc(),Ql={status:"pending",value:void 0,then:function(s){a.push(s)}}}return _i++,t.then(Mu,Mu),t}function Mu(){if(--_i===0&&Bs!==null){Ql!==null&&(Ql.status="fulfilled");var e=Bs;Bs=null,Yl=0,Ql=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function dh(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),s}var Du=O.S;O.S=function(e,t){hf=qe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&uh(e,t),Du!==null&&Du(e,t)};var fl=p(null);function Ui(){var e=fl.current;return e!==null?e:Xe.pooledCache}function Qn(e,t){t===null?ie(fl,fl.current):ie(fl,t.pool)}function Ou(){var e=Ui();return e===null?null:{parent:lt._currentValue,pool:e}}var Xl=Error(c(460)),Bi=Error(c(474)),Xn=Error(c(542)),$n={then:function(){}};function _u(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Uu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(fa,fa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ku(e),e;default:if(typeof t.status=="string")t.then(fa,fa);else{if(e=Xe,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ku(e),e}throw xl=t,Xl}}function ml(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(xl=a,Xl):a}}var xl=null;function Bu(){if(xl===null)throw Error(c(459));var e=xl;return xl=null,e}function ku(e){if(e===Xl||e===Xn)throw Error(c(483))}var $l=null,ks=0;function Zn(e){var t=ks;return ks+=1,$l===null&&($l=[]),Uu($l,e,t)}function Rs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Jn(e,t){throw t.$$typeof===Y?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ru(e){function t(E,N){if(e){var U=E.deletions;U===null?(E.deletions=[N],E.flags|=16):U.push(N)}}function a(E,N){if(!e)return null;for(;N!==null;)t(E,N),N=N.sibling;return null}function s(E){for(var N=new Map;E!==null;)E.key!==null?N.set(E.key,E):N.set(E.index,E),E=E.sibling;return N}function n(E,N){return E=xa(E,N),E.index=0,E.sibling=null,E}function r(E,N,U){return E.index=U,e?(U=E.alternate,U!==null?(U=U.index,U<N?(E.flags|=67108866,N):U):(E.flags|=67108866,N)):(E.flags|=1048576,N)}function o(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function f(E,N,U,W){return N===null||N.tag!==6?(N=wi(U,E.mode,W),N.return=E,N):(N=n(N,U),N.return=E,N)}function y(E,N,U,W){var be=U.type;return be===_?J(E,N,U.props.children,W,U.key):N!==null&&(N.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===M&&ml(be)===N.type)?(N=n(N,U.props),Rs(N,U),N.return=E,N):(N=qn(U.type,U.key,U.props,null,E.mode,W),Rs(N,U),N.return=E,N)}function B(E,N,U,W){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Si(U,E.mode,W),N.return=E,N):(N=n(N,U.children||[]),N.return=E,N)}function J(E,N,U,W,be){return N===null||N.tag!==7?(N=cl(U,E.mode,W,be),N.return=E,N):(N=n(N,U),N.return=E,N)}function ae(E,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=wi(""+N,E.mode,U),N.return=E,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case k:return U=qn(N.type,N.key,N.props,null,E.mode,U),Rs(U,N),U.return=E,U;case S:return N=Si(N,E.mode,U),N.return=E,N;case M:return N=ml(N),ae(E,N,U)}if(me(N)||ue(N))return N=cl(N,E.mode,U,null),N.return=E,N;if(typeof N.then=="function")return ae(E,Zn(N),U);if(N.$$typeof===A)return ae(E,Yn(E,N),U);Jn(E,N)}return null}function L(E,N,U,W){var be=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return be!==null?null:f(E,N,""+U,W);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case k:return U.key===be?y(E,N,U,W):null;case S:return U.key===be?B(E,N,U,W):null;case M:return U=ml(U),L(E,N,U,W)}if(me(U)||ue(U))return be!==null?null:J(E,N,U,W,null);if(typeof U.then=="function")return L(E,N,Zn(U),W);if(U.$$typeof===A)return L(E,N,Yn(E,U),W);Jn(E,U)}return null}function X(E,N,U,W,be){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return E=E.get(U)||null,f(N,E,""+W,be);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case k:return E=E.get(W.key===null?U:W.key)||null,y(N,E,W,be);case S:return E=E.get(W.key===null?U:W.key)||null,B(N,E,W,be);case M:return W=ml(W),X(E,N,U,W,be)}if(me(W)||ue(W))return E=E.get(U)||null,J(N,E,W,be,null);if(typeof W.then=="function")return X(E,N,U,Zn(W),be);if(W.$$typeof===A)return X(E,N,U,Yn(N,W),be);Jn(N,W)}return null}function he(E,N,U,W){for(var be=null,_e=null,ge=N,Ae=N=0,Me=null;ge!==null&&Ae<U.length;Ae++){ge.index>Ae?(Me=ge,ge=null):Me=ge.sibling;var Ue=L(E,ge,U[Ae],W);if(Ue===null){ge===null&&(ge=Me);break}e&&ge&&Ue.alternate===null&&t(E,ge),N=r(Ue,N,Ae),_e===null?be=Ue:_e.sibling=Ue,_e=Ue,ge=Me}if(Ae===U.length)return a(E,ge),De&&ha(E,Ae),be;if(ge===null){for(;Ae<U.length;Ae++)ge=ae(E,U[Ae],W),ge!==null&&(N=r(ge,N,Ae),_e===null?be=ge:_e.sibling=ge,_e=ge);return De&&ha(E,Ae),be}for(ge=s(ge);Ae<U.length;Ae++)Me=X(ge,E,Ae,U[Ae],W),Me!==null&&(e&&Me.alternate!==null&&ge.delete(Me.key===null?Ae:Me.key),N=r(Me,N,Ae),_e===null?be=Me:_e.sibling=Me,_e=Me);return e&&ge.forEach(function(tl){return t(E,tl)}),De&&ha(E,Ae),be}function Ne(E,N,U,W){if(U==null)throw Error(c(151));for(var be=null,_e=null,ge=N,Ae=N=0,Me=null,Ue=U.next();ge!==null&&!Ue.done;Ae++,Ue=U.next()){ge.index>Ae?(Me=ge,ge=null):Me=ge.sibling;var tl=L(E,ge,Ue.value,W);if(tl===null){ge===null&&(ge=Me);break}e&&ge&&tl.alternate===null&&t(E,ge),N=r(tl,N,Ae),_e===null?be=tl:_e.sibling=tl,_e=tl,ge=Me}if(Ue.done)return a(E,ge),De&&ha(E,Ae),be;if(ge===null){for(;!Ue.done;Ae++,Ue=U.next())Ue=ae(E,Ue.value,W),Ue!==null&&(N=r(Ue,N,Ae),_e===null?be=Ue:_e.sibling=Ue,_e=Ue);return De&&ha(E,Ae),be}for(ge=s(ge);!Ue.done;Ae++,Ue=U.next())Ue=X(ge,E,Ae,Ue.value,W),Ue!==null&&(e&&Ue.alternate!==null&&ge.delete(Ue.key===null?Ae:Ue.key),N=r(Ue,N,Ae),_e===null?be=Ue:_e.sibling=Ue,_e=Ue);return e&&ge.forEach(function(Np){return t(E,Np)}),De&&ha(E,Ae),be}function Ye(E,N,U,W){if(typeof U=="object"&&U!==null&&U.type===_&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case k:e:{for(var be=U.key;N!==null;){if(N.key===be){if(be=U.type,be===_){if(N.tag===7){a(E,N.sibling),W=n(N,U.props.children),W.return=E,E=W;break e}}else if(N.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===M&&ml(be)===N.type){a(E,N.sibling),W=n(N,U.props),Rs(W,U),W.return=E,E=W;break e}a(E,N);break}else t(E,N);N=N.sibling}U.type===_?(W=cl(U.props.children,E.mode,W,U.key),W.return=E,E=W):(W=qn(U.type,U.key,U.props,null,E.mode,W),Rs(W,U),W.return=E,E=W)}return o(E);case S:e:{for(be=U.key;N!==null;){if(N.key===be)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(E,N.sibling),W=n(N,U.children||[]),W.return=E,E=W;break e}else{a(E,N);break}else t(E,N);N=N.sibling}W=Si(U,E.mode,W),W.return=E,E=W}return o(E);case M:return U=ml(U),Ye(E,N,U,W)}if(me(U))return he(E,N,U,W);if(ue(U)){if(be=ue(U),typeof be!="function")throw Error(c(150));return U=be.call(U),Ne(E,N,U,W)}if(typeof U.then=="function")return Ye(E,N,Zn(U),W);if(U.$$typeof===A)return Ye(E,N,Yn(E,U),W);Jn(E,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(a(E,N.sibling),W=n(N,U),W.return=E,E=W):(a(E,N),W=wi(U,E.mode,W),W.return=E,E=W),o(E)):a(E,N)}return function(E,N,U,W){try{ks=0;var be=Ye(E,N,U,W);return $l=null,be}catch(ge){if(ge===Xl||ge===Xn)throw ge;var _e=Dt(29,ge,null,E.mode);return _e.lanes=W,_e.return=E,_e}finally{}}}var hl=Ru(!0),Lu=Ru(!1),La=!1;function ki(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ha(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qa(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Be&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=Hn(e),ju(e,null,a),t}return Ln(e,s,t,a),Hn(e)}function Ls(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,zo(e,a)}}function Li(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?n=r=o:r=r.next=o,a=a.next}while(a!==null);r===null?n=r=t:r=r.next=t}else n=r=t;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Hi=!1;function Hs(){if(Hi){var e=Ql;if(e!==null)throw e}}function qs(e,t,a,s){Hi=!1;var n=e.updateQueue;La=!1;var r=n.firstBaseUpdate,o=n.lastBaseUpdate,f=n.shared.pending;if(f!==null){n.shared.pending=null;var y=f,B=y.next;y.next=null,o===null?r=B:o.next=B,o=y;var J=e.alternate;J!==null&&(J=J.updateQueue,f=J.lastBaseUpdate,f!==o&&(f===null?J.firstBaseUpdate=B:f.next=B,J.lastBaseUpdate=y))}if(r!==null){var ae=n.baseState;o=0,J=B=y=null,f=r;do{var L=f.lane&-536870913,X=L!==f.lane;if(X?(ze&L)===L:(s&L)===L){L!==0&&L===Yl&&(Hi=!0),J!==null&&(J=J.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var he=e,Ne=f;L=t;var Ye=a;switch(Ne.tag){case 1:if(he=Ne.payload,typeof he=="function"){ae=he.call(Ye,ae,L);break e}ae=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ne.payload,L=typeof he=="function"?he.call(Ye,ae,L):he,L==null)break e;ae=T({},ae,L);break e;case 2:La=!0}}L=f.callback,L!==null&&(e.flags|=64,X&&(e.flags|=8192),X=n.callbacks,X===null?n.callbacks=[L]:X.push(L))}else X={lane:L,tag:f.tag,payload:f.payload,callback:f.callback,next:null},J===null?(B=J=X,y=ae):J=J.next=X,o|=L;if(f=f.next,f===null){if(f=n.shared.pending,f===null)break;X=f,f=X.next,X.next=null,n.lastBaseUpdate=X,n.shared.pending=null}}while(!0);J===null&&(y=ae),n.baseState=y,n.firstBaseUpdate=B,n.lastBaseUpdate=J,r===null&&(n.shared.lanes=0),Xa|=o,e.lanes=o,e.memoizedState=ae}}function Hu(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function qu(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Hu(a[e],t)}var Zl=p(null),Kn=p(0);function Vu(e,t){e=Aa,ie(Kn,e),ie(Zl,t),Aa=e|t.baseLanes}function qi(){ie(Kn,Aa),ie(Zl,Zl.current)}function Vi(){Aa=Kn.current,V(Zl),V(Kn)}var Ot=p(null),Zt=null;function Va(e){var t=e.alternate;ie(tt,tt.current&1),ie(Ot,e),Zt===null&&(t===null||Zl.current!==null||t.memoizedState!==null)&&(Zt=e)}function Gi(e){ie(tt,tt.current),ie(Ot,e),Zt===null&&(Zt=e)}function Gu(e){e.tag===22?(ie(tt,tt.current),ie(Ot,e),Zt===null&&(Zt=e)):Ga()}function Ga(){ie(tt,tt.current),ie(Ot,Ot.current)}function _t(e){V(Ot),Zt===e&&(Zt=null),V(tt)}var tt=p(0);function Fn(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Jc(a)||Kc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ya=0,Ce=null,Ve=null,st=null,In=!1,Jl=!1,pl=!1,Wn=0,Vs=0,Kl=null,fh=0;function Pe(){throw Error(c(321))}function Yi(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Mt(e[a],t[a]))return!1;return!0}function Qi(e,t,a,s,n,r){return ya=r,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?Cd:nc,pl=!1,r=a(s,n),pl=!1,Jl&&(r=Qu(t,a,s,n)),Yu(e),r}function Yu(e){O.H=Qs;var t=Ve!==null&&Ve.next!==null;if(ya=0,st=Ve=Ce=null,In=!1,Vs=0,Kl=null,t)throw Error(c(300));e===null||nt||(e=e.dependencies,e!==null&&Gn(e)&&(nt=!0))}function Qu(e,t,a,s){Ce=e;var n=0;do{if(Jl&&(Kl=null),Vs=0,Jl=!1,25<=n)throw Error(c(301));if(n+=1,st=Ve=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}O.H=Ad,r=t(a,s)}while(Jl);return r}function mh(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Gs(t):t,e=e.useState()[0],(Ve!==null?Ve.memoizedState:null)!==e&&(Ce.flags|=1024),t}function Xi(){var e=Wn!==0;return Wn=0,e}function $i(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Zi(e){if(In){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}In=!1}ya=0,st=Ve=Ce=null,Jl=!1,Vs=Wn=0,Kl=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Ce.memoizedState=st=e:st=st.next=e,st}function at(){if(Ve===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=st===null?Ce.memoizedState:st.next;if(t!==null)st=t,Ve=e;else{if(e===null)throw Ce.alternate===null?Error(c(467)):Error(c(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},st===null?Ce.memoizedState=st=e:st=st.next=e}return st}function Pn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gs(e){var t=Vs;return Vs+=1,Kl===null&&(Kl=[]),e=Uu(Kl,e,t),t=Ce,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?Cd:nc),e}function er(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gs(e);if(e.$$typeof===A)return mt(e)}throw Error(c(438,String(e)))}function Ji(e){var t=null,a=Ce.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=Ce.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Pn(),Ce.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=K;return t.index++,a}function ba(e,t){return typeof t=="function"?t(e):t}function tr(e){var t=at();return Ki(t,Ve,e)}function Ki(e,t,a){var s=e.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=a;var n=e.baseQueue,r=s.pending;if(r!==null){if(n!==null){var o=n.next;n.next=r.next,r.next=o}t.baseQueue=n=r,s.pending=null}if(r=e.baseState,n===null)e.memoizedState=r;else{t=n.next;var f=o=null,y=null,B=t,J=!1;do{var ae=B.lane&-536870913;if(ae!==B.lane?(ze&ae)===ae:(ya&ae)===ae){var L=B.revertLane;if(L===0)y!==null&&(y=y.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ae===Yl&&(J=!0);else if((ya&L)===L){B=B.next,L===Yl&&(J=!0);continue}else ae={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},y===null?(f=y=ae,o=r):y=y.next=ae,Ce.lanes|=L,Xa|=L;ae=B.action,pl&&a(r,ae),r=B.hasEagerState?B.eagerState:a(r,ae)}else L={lane:ae,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},y===null?(f=y=L,o=r):y=y.next=L,Ce.lanes|=ae,Xa|=ae;B=B.next}while(B!==null&&B!==t);if(y===null?o=r:y.next=f,!Mt(r,e.memoizedState)&&(nt=!0,J&&(a=Ql,a!==null)))throw a;e.memoizedState=r,e.baseState=o,e.baseQueue=y,s.lastRenderedState=r}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Fi(e){var t=at(),a=t.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=e;var s=a.dispatch,n=a.pending,r=t.memoizedState;if(n!==null){a.pending=null;var o=n=n.next;do r=e(r,o.action),o=o.next;while(o!==n);Mt(r,t.memoizedState)||(nt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,s]}function Xu(e,t,a){var s=Ce,n=at(),r=De;if(r){if(a===void 0)throw Error(c(407));a=a()}else a=t();var o=!Mt((Ve||n).memoizedState,a);if(o&&(n.memoizedState=a,nt=!0),n=n.queue,Pi(Ju.bind(null,s,n,e),[e]),n.getSnapshot!==t||o||st!==null&&st.memoizedState.tag&1){if(s.flags|=2048,Fl(9,{destroy:void 0},Zu.bind(null,s,n,a,t),null),Xe===null)throw Error(c(349));r||(ya&127)!==0||$u(s,t,a)}return a}function $u(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ce.updateQueue,t===null?(t=Pn(),Ce.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Zu(e,t,a,s){t.value=a,t.getSnapshot=s,Ku(t)&&Fu(e)}function Ju(e,t,a){return a(function(){Ku(t)&&Fu(e)})}function Ku(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Mt(e,a)}catch{return!0}}function Fu(e){var t=il(e,2);t!==null&&Et(t,e,2)}function Ii(e){var t=yt();if(typeof e=="function"){var a=e;if(e=a(),pl){Ht(!0);try{a()}finally{Ht(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t}function Iu(e,t,a,s){return e.baseState=a,Ki(e,Ve,typeof s=="function"?s:ba)}function xh(e,t,a,s,n){if(sr(e))throw Error(c(485));if(e=t.action,e!==null){var r={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){r.listeners.push(o)}};O.T!==null?a(!0):r.isTransition=!1,s(r),a=t.pending,a===null?(r.next=t.pending=r,Wu(t,r)):(r.next=a.next,t.pending=a.next=r)}}function Wu(e,t){var a=t.action,s=t.payload,n=e.state;if(t.isTransition){var r=O.T,o={};O.T=o;try{var f=a(n,s),y=O.S;y!==null&&y(o,f),Pu(e,t,f)}catch(B){Wi(e,t,B)}finally{r!==null&&o.types!==null&&(r.types=o.types),O.T=r}}else try{r=a(n,s),Pu(e,t,r)}catch(B){Wi(e,t,B)}}function Pu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){ed(e,t,s)},function(s){return Wi(e,t,s)}):ed(e,t,a)}function ed(e,t,a){t.status="fulfilled",t.value=a,td(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Wu(e,a)))}function Wi(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,td(t),t=t.next;while(t!==s)}e.action=null}function td(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ad(e,t){return t}function ld(e,t){if(De){var a=Xe.formState;if(a!==null){e:{var s=Ce;if(De){if(Ke){t:{for(var n=Ke,r=$t;n.nodeType!==8;){if(!r){n=null;break t}if(n=Jt(n.nextSibling),n===null){n=null;break t}}r=n.data,n=r==="F!"||r==="F"?n:null}if(n){Ke=Jt(n.nextSibling),s=n.data==="F!";break e}}ka(s)}s=!1}s&&(t=a[0])}}return a=yt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ad,lastRenderedState:t},a.queue=s,a=Nd.bind(null,Ce,s),s.dispatch=a,s=Ii(!1),r=sc.bind(null,Ce,!1,s.queue),s=yt(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,a=xh.bind(null,Ce,n,r,a),n.dispatch=a,s.memoizedState=e,[t,a,!1]}function sd(e){var t=at();return nd(t,Ve,e)}function nd(e,t,a){if(t=Ki(e,t,ad)[0],e=tr(ba)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Gs(t)}catch(o){throw o===Xl?Xn:o}else s=t;t=at();var n=t.queue,r=n.dispatch;return a!==t.memoizedState&&(Ce.flags|=2048,Fl(9,{destroy:void 0},hh.bind(null,n,a),null)),[s,r,e]}function hh(e,t){e.action=t}function rd(e){var t=at(),a=Ve;if(a!==null)return nd(t,a,e);at(),t=t.memoizedState,a=at();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Fl(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=Ce.updateQueue,t===null&&(t=Pn(),Ce.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function id(){return at().memoizedState}function ar(e,t,a,s){var n=yt();Ce.flags|=e,n.memoizedState=Fl(1|t,{destroy:void 0},a,s===void 0?null:s)}function lr(e,t,a,s){var n=at();s=s===void 0?null:s;var r=n.memoizedState.inst;Ve!==null&&s!==null&&Yi(s,Ve.memoizedState.deps)?n.memoizedState=Fl(t,r,a,s):(Ce.flags|=e,n.memoizedState=Fl(1|t,r,a,s))}function cd(e,t){ar(8390656,8,e,t)}function Pi(e,t){lr(2048,8,e,t)}function ph(e){Ce.flags|=4;var t=Ce.updateQueue;if(t===null)t=Pn(),Ce.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function od(e){var t=at().memoizedState;return ph({ref:t,nextImpl:e}),function(){if((Be&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function ud(e,t){return lr(4,2,e,t)}function dd(e,t){return lr(4,4,e,t)}function fd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function md(e,t,a){a=a!=null?a.concat([e]):null,lr(4,4,fd.bind(null,t,e),a)}function ec(){}function xd(e,t){var a=at();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Yi(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function hd(e,t){var a=at();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Yi(t,s[1]))return s[0];if(s=e(),pl){Ht(!0);try{e()}finally{Ht(!1)}}return a.memoizedState=[s,t],s}function tc(e,t,a){return a===void 0||(ya&1073741824)!==0&&(ze&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=gf(),Ce.lanes|=e,Xa|=e,a)}function pd(e,t,a,s){return Mt(a,t)?a:Zl.current!==null?(e=tc(e,a,s),Mt(e,t)||(nt=!0),e):(ya&42)===0||(ya&1073741824)!==0&&(ze&261930)===0?(nt=!0,e.memoizedState=a):(e=gf(),Ce.lanes|=e,Xa|=e,t)}function gd(e,t,a,s,n){var r=le.p;le.p=r!==0&&8>r?r:8;var o=O.T,f={};O.T=f,sc(e,!1,t,a);try{var y=n(),B=O.S;if(B!==null&&B(f,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var J=dh(y,s);Ys(e,t,J,kt(e))}else Ys(e,t,s,kt(e))}catch(ae){Ys(e,t,{then:function(){},status:"rejected",reason:ae},kt())}finally{le.p=r,o!==null&&f.types!==null&&(o.types=f.types),O.T=o}}function gh(){}function ac(e,t,a,s){if(e.tag!==5)throw Error(c(476));var n=yd(e).queue;gd(e,n,t,de,a===null?gh:function(){return bd(e),a(s)})}function yd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:de},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function bd(e){var t=yd(e);t.next===null&&(t=e.alternate.memoizedState),Ys(e,t.next.queue,{},kt())}function lc(){return mt(rn)}function vd(){return at().memoizedState}function jd(){return at().memoizedState}function yh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=kt();e=Ha(a);var s=qa(t,e,a);s!==null&&(Et(s,t,a),Ls(s,t,a)),t={cache:Oi()},e.payload=t;return}t=t.return}}function bh(e,t,a){var s=kt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},sr(e)?wd(t,a):(a=ji(e,t,a,s),a!==null&&(Et(a,e,s),Sd(a,t,s)))}function Nd(e,t,a){var s=kt();Ys(e,t,a,s)}function Ys(e,t,a,s){var n={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(sr(e))wd(t,n);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,f=r(o,a);if(n.hasEagerState=!0,n.eagerState=f,Mt(f,o))return Ln(e,t,n,0),Xe===null&&Rn(),!1}catch{}finally{}if(a=ji(e,t,n,s),a!==null)return Et(a,e,s),Sd(a,t,s),!0}return!1}function sc(e,t,a,s){if(s={lane:2,revertLane:kc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},sr(e)){if(t)throw Error(c(479))}else t=ji(e,a,s,2),t!==null&&Et(t,e,2)}function sr(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function wd(e,t){Jl=In=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Sd(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,zo(e,a)}}var Qs={readContext:mt,use:er,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};Qs.useEffectEvent=Pe;var Cd={readContext:mt,use:er,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:cd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ar(4194308,4,fd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ar(4194308,4,e,t)},useInsertionEffect:function(e,t){ar(4,2,e,t)},useMemo:function(e,t){var a=yt();t=t===void 0?null:t;var s=e();if(pl){Ht(!0);try{e()}finally{Ht(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=yt();if(a!==void 0){var n=a(t);if(pl){Ht(!0);try{a(t)}finally{Ht(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=bh.bind(null,Ce,e),[s.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ii(e);var t=e.queue,a=Nd.bind(null,Ce,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:ec,useDeferredValue:function(e,t){var a=yt();return tc(a,e,t)},useTransition:function(){var e=Ii(!1);return e=gd.bind(null,Ce,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=Ce,n=yt();if(De){if(a===void 0)throw Error(c(407));a=a()}else{if(a=t(),Xe===null)throw Error(c(349));(ze&127)!==0||$u(s,t,a)}n.memoizedState=a;var r={value:a,getSnapshot:t};return n.queue=r,cd(Ju.bind(null,s,r,e),[e]),s.flags|=2048,Fl(9,{destroy:void 0},Zu.bind(null,s,r,a,t),null),a},useId:function(){var e=yt(),t=Xe.identifierPrefix;if(De){var a=sa,s=la;a=(s&~(1<<32-pt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Wn++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=fh++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:lc,useFormState:ld,useActionState:ld,useOptimistic:function(e){var t=yt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=sc.bind(null,Ce,!0,a),a.dispatch=t,[e,t]},useMemoCache:Ji,useCacheRefresh:function(){return yt().memoizedState=yh.bind(null,Ce)},useEffectEvent:function(e){var t=yt(),a={impl:e};return t.memoizedState=a,function(){if((Be&2)!==0)throw Error(c(440));return a.impl.apply(void 0,arguments)}}},nc={readContext:mt,use:er,useCallback:xd,useContext:mt,useEffect:Pi,useImperativeHandle:md,useInsertionEffect:ud,useLayoutEffect:dd,useMemo:hd,useReducer:tr,useRef:id,useState:function(){return tr(ba)},useDebugValue:ec,useDeferredValue:function(e,t){var a=at();return pd(a,Ve.memoizedState,e,t)},useTransition:function(){var e=tr(ba)[0],t=at().memoizedState;return[typeof e=="boolean"?e:Gs(e),t]},useSyncExternalStore:Xu,useId:vd,useHostTransitionStatus:lc,useFormState:sd,useActionState:sd,useOptimistic:function(e,t){var a=at();return Iu(a,Ve,e,t)},useMemoCache:Ji,useCacheRefresh:jd};nc.useEffectEvent=od;var Ad={readContext:mt,use:er,useCallback:xd,useContext:mt,useEffect:Pi,useImperativeHandle:md,useInsertionEffect:ud,useLayoutEffect:dd,useMemo:hd,useReducer:Fi,useRef:id,useState:function(){return Fi(ba)},useDebugValue:ec,useDeferredValue:function(e,t){var a=at();return Ve===null?tc(a,e,t):pd(a,Ve.memoizedState,e,t)},useTransition:function(){var e=Fi(ba)[0],t=at().memoizedState;return[typeof e=="boolean"?e:Gs(e),t]},useSyncExternalStore:Xu,useId:vd,useHostTransitionStatus:lc,useFormState:rd,useActionState:rd,useOptimistic:function(e,t){var a=at();return Ve!==null?Iu(a,Ve,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ji,useCacheRefresh:jd};Ad.useEffectEvent=od;function rc(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:T({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ic={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=kt(),n=Ha(s);n.payload=t,a!=null&&(n.callback=a),t=qa(e,n,s),t!==null&&(Et(t,e,s),Ls(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=kt(),n=Ha(s);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=qa(e,n,s),t!==null&&(Et(t,e,s),Ls(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=kt(),s=Ha(a);s.tag=2,t!=null&&(s.callback=t),t=qa(e,s,a),t!==null&&(Et(t,e,a),Ls(t,e,a))}};function Ed(e,t,a,s,n,r,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,r,o):t.prototype&&t.prototype.isPureReactComponent?!Ms(a,s)||!Ms(n,r):!0}function Td(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&ic.enqueueReplaceState(t,t.state,null)}function gl(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=T({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function zd(e){kn(e)}function Md(e){console.error(e)}function Dd(e){kn(e)}function nr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Od(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function cc(e,t,a){return a=Ha(a),a.tag=3,a.payload={element:null},a.callback=function(){nr(e,t)},a}function _d(e){return e=Ha(e),e.tag=3,e}function Ud(e,t,a,s){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var r=s.value;e.payload=function(){return n(r)},e.callback=function(){Od(t,a,s)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Od(t,a,s),typeof n!="function"&&($a===null?$a=new Set([this]):$a.add(this));var f=s.stack;this.componentDidCatch(s.value,{componentStack:f!==null?f:""})})}function vh(e,t,a,s,n){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Gl(t,a,n,!0),a=Ot.current,a!==null){switch(a.tag){case 31:case 13:return Zt===null?gr():a.alternate===null&&et===0&&(et=3),a.flags&=-257,a.flags|=65536,a.lanes=n,s===$n?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),_c(e,s,n)),!1;case 22:return a.flags|=65536,s===$n?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),_c(e,s,n)),!1}throw Error(c(435,a.tag))}return _c(e,s,n),gr(),!1}if(De)return t=Ot.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==Ei&&(e=Error(c(422),{cause:s}),_s(Yt(e,a)))):(s!==Ei&&(t=Error(c(423),{cause:s}),_s(Yt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=Yt(s,a),n=cc(e.stateNode,s,n),Li(e,n),et!==4&&(et=2)),!1;var r=Error(c(520),{cause:s});if(r=Yt(r,a),Ws===null?Ws=[r]:Ws.push(r),et!==4&&(et=2),t===null)return!0;s=Yt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=cc(a.stateNode,s,e),Li(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&($a===null||!$a.has(r))))return a.flags|=65536,n&=-n,a.lanes|=n,n=_d(n),Ud(n,e,a,s),Li(a,n),!1}a=a.return}while(a!==null);return!1}var oc=Error(c(461)),nt=!1;function xt(e,t,a,s){t.child=e===null?Lu(t,null,a,s):hl(t,e.child,a,s)}function Bd(e,t,a,s,n){a=a.render;var r=t.ref;if("ref"in s){var o={};for(var f in s)f!=="ref"&&(o[f]=s[f])}else o=s;return dl(t),s=Qi(e,t,a,o,r,n),f=Xi(),e!==null&&!nt?($i(e,t,n),va(e,t,n)):(De&&f&&Ci(t),t.flags|=1,xt(e,t,s,n),t.child)}function kd(e,t,a,s,n){if(e===null){var r=a.type;return typeof r=="function"&&!Ni(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,Rd(e,t,r,s,n)):(e=qn(a.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!gc(e,n)){var o=r.memoizedProps;if(a=a.compare,a=a!==null?a:Ms,a(o,s)&&e.ref===t.ref)return va(e,t,n)}return t.flags|=1,e=xa(r,s),e.ref=t.ref,e.return=t,t.child=e}function Rd(e,t,a,s,n){if(e!==null){var r=e.memoizedProps;if(Ms(r,s)&&e.ref===t.ref)if(nt=!1,t.pendingProps=s=r,gc(e,n))(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,va(e,t,n)}return uc(e,t,a,s,n)}function Ld(e,t,a,s){var n=s.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|a:a,e!==null){for(s=t.child=e.child,n=0;s!==null;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~r}else s=0,t.child=null;return Hd(e,t,r,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qn(t,r!==null?r.cachePool:null),r!==null?Vu(t,r):qi(),Gu(t);else return s=t.lanes=536870912,Hd(e,t,r!==null?r.baseLanes|a:a,a,s)}else r!==null?(Qn(t,r.cachePool),Vu(t,r),Ga(),t.memoizedState=null):(e!==null&&Qn(t,null),qi(),Ga());return xt(e,t,n,a),t.child}function Xs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Hd(e,t,a,s,n){var r=Ui();return r=r===null?null:{parent:lt._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&Qn(t,null),qi(),Gu(t),e!==null&&Gl(e,t,s,!0),t.childLanes=n,null}function rr(e,t){return t=cr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function qd(e,t,a){return hl(t,e.child,null,a),e=rr(t,t.pendingProps),e.flags|=2,_t(t),t.memoizedState=null,e}function jh(e,t,a){var s=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(De){if(s.mode==="hidden")return e=rr(t,s),t.lanes=536870912,Xs(null,e);if(Gi(t),(e=Ke)?(e=Pf(e,$t),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ua!==null?{id:la,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},a=wu(e),a.return=t,t.child=a,ft=t,Ke=null)):e=null,e===null)throw ka(t);return t.lanes=536870912,null}return rr(t,s)}var r=e.memoizedState;if(r!==null){var o=r.dehydrated;if(Gi(t),n)if(t.flags&256)t.flags&=-257,t=qd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(nt||Gl(e,t,a,!1),n=(a&e.childLanes)!==0,nt||n){if(s=Xe,s!==null&&(o=Mo(s,a),o!==0&&o!==r.retryLane))throw r.retryLane=o,il(e,o),Et(s,e,o),oc;gr(),t=qd(e,t,a)}else e=r.treeContext,Ke=Jt(o.nextSibling),ft=t,De=!0,Ba=null,$t=!1,e!==null&&Au(t,e),t=rr(t,s),t.flags|=4096;return t}return e=xa(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ir(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function uc(e,t,a,s,n){return dl(t),a=Qi(e,t,a,s,void 0,n),s=Xi(),e!==null&&!nt?($i(e,t,n),va(e,t,n)):(De&&s&&Ci(t),t.flags|=1,xt(e,t,a,n),t.child)}function Vd(e,t,a,s,n,r){return dl(t),t.updateQueue=null,a=Qu(t,s,a,n),Yu(e),s=Xi(),e!==null&&!nt?($i(e,t,r),va(e,t,r)):(De&&s&&Ci(t),t.flags|=1,xt(e,t,a,r),t.child)}function Gd(e,t,a,s,n){if(dl(t),t.stateNode===null){var r=Ll,o=a.contextType;typeof o=="object"&&o!==null&&(r=mt(o)),r=new a(s,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ic,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=s,r.state=t.memoizedState,r.refs={},ki(t),o=a.contextType,r.context=typeof o=="object"&&o!==null?mt(o):Ll,r.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(rc(t,a,o,s),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(o=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),o!==r.state&&ic.enqueueReplaceState(r,r.state,null),qs(t,s,r,n),Hs(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){r=t.stateNode;var f=t.memoizedProps,y=gl(a,f);r.props=y;var B=r.context,J=a.contextType;o=Ll,typeof J=="object"&&J!==null&&(o=mt(J));var ae=a.getDerivedStateFromProps;J=typeof ae=="function"||typeof r.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,J||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(f||B!==o)&&Td(t,r,s,o),La=!1;var L=t.memoizedState;r.state=L,qs(t,s,r,n),Hs(),B=t.memoizedState,f||L!==B||La?(typeof ae=="function"&&(rc(t,a,ae,s),B=t.memoizedState),(y=La||Ed(t,a,y,s,L,B,o))?(J||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=B),r.props=s,r.state=B,r.context=o,s=y):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{r=t.stateNode,Ri(e,t),o=t.memoizedProps,J=gl(a,o),r.props=J,ae=t.pendingProps,L=r.context,B=a.contextType,y=Ll,typeof B=="object"&&B!==null&&(y=mt(B)),f=a.getDerivedStateFromProps,(B=typeof f=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o!==ae||L!==y)&&Td(t,r,s,y),La=!1,L=t.memoizedState,r.state=L,qs(t,s,r,n),Hs();var X=t.memoizedState;o!==ae||L!==X||La||e!==null&&e.dependencies!==null&&Gn(e.dependencies)?(typeof f=="function"&&(rc(t,a,f,s),X=t.memoizedState),(J=La||Ed(t,a,J,s,L,X,y)||e!==null&&e.dependencies!==null&&Gn(e.dependencies))?(B||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,X,y),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,X,y)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||o===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=X),r.props=s,r.state=X,r.context=y,s=J):(typeof r.componentDidUpdate!="function"||o===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),s=!1)}return r=s,ir(e,t),s=(t.flags&128)!==0,r||s?(r=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&s?(t.child=hl(t,e.child,null,n),t.child=hl(t,null,a,n)):xt(e,t,a,n),t.memoizedState=r.state,e=t.child):e=va(e,t,n),e}function Yd(e,t,a,s){return ol(),t.flags|=256,xt(e,t,a,s),t.child}var dc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fc(e){return{baseLanes:e,cachePool:Ou()}}function mc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Bt),e}function Qd(e,t,a){var s=t.pendingProps,n=!1,r=(t.flags&128)!==0,o;if((o=r)||(o=e!==null&&e.memoizedState===null?!1:(tt.current&2)!==0),o&&(n=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(n?Va(t):Ga(),(e=Ke)?(e=Pf(e,$t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ua!==null?{id:la,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},a=wu(e),a.return=t,t.child=a,ft=t,Ke=null)):e=null,e===null)throw ka(t);return Kc(e)?t.lanes=32:t.lanes=536870912,null}var f=s.children;return s=s.fallback,n?(Ga(),n=t.mode,f=cr({mode:"hidden",children:f},n),s=cl(s,n,a,null),f.return=t,s.return=t,f.sibling=s,t.child=f,s=t.child,s.memoizedState=fc(a),s.childLanes=mc(e,o,a),t.memoizedState=dc,Xs(null,s)):(Va(t),xc(t,f))}var y=e.memoizedState;if(y!==null&&(f=y.dehydrated,f!==null)){if(r)t.flags&256?(Va(t),t.flags&=-257,t=hc(e,t,a)):t.memoizedState!==null?(Ga(),t.child=e.child,t.flags|=128,t=null):(Ga(),f=s.fallback,n=t.mode,s=cr({mode:"visible",children:s.children},n),f=cl(f,n,a,null),f.flags|=2,s.return=t,f.return=t,s.sibling=f,t.child=s,hl(t,e.child,null,a),s=t.child,s.memoizedState=fc(a),s.childLanes=mc(e,o,a),t.memoizedState=dc,t=Xs(null,s));else if(Va(t),Kc(f)){if(o=f.nextSibling&&f.nextSibling.dataset,o)var B=o.dgst;o=B,s=Error(c(419)),s.stack="",s.digest=o,_s({value:s,source:null,stack:null}),t=hc(e,t,a)}else if(nt||Gl(e,t,a,!1),o=(a&e.childLanes)!==0,nt||o){if(o=Xe,o!==null&&(s=Mo(o,a),s!==0&&s!==y.retryLane))throw y.retryLane=s,il(e,s),Et(o,e,s),oc;Jc(f)||gr(),t=hc(e,t,a)}else Jc(f)?(t.flags|=192,t.child=e.child,t=null):(e=y.treeContext,Ke=Jt(f.nextSibling),ft=t,De=!0,Ba=null,$t=!1,e!==null&&Au(t,e),t=xc(t,s.children),t.flags|=4096);return t}return n?(Ga(),f=s.fallback,n=t.mode,y=e.child,B=y.sibling,s=xa(y,{mode:"hidden",children:s.children}),s.subtreeFlags=y.subtreeFlags&65011712,B!==null?f=xa(B,f):(f=cl(f,n,a,null),f.flags|=2),f.return=t,s.return=t,s.sibling=f,t.child=s,Xs(null,s),s=t.child,f=e.child.memoizedState,f===null?f=fc(a):(n=f.cachePool,n!==null?(y=lt._currentValue,n=n.parent!==y?{parent:y,pool:y}:n):n=Ou(),f={baseLanes:f.baseLanes|a,cachePool:n}),s.memoizedState=f,s.childLanes=mc(e,o,a),t.memoizedState=dc,Xs(e.child,s)):(Va(t),a=e.child,e=a.sibling,a=xa(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function xc(e,t){return t=cr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function cr(e,t){return e=Dt(22,e,null,t),e.lanes=0,e}function hc(e,t,a){return hl(t,e.child,null,a),e=xc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xd(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Mi(e.return,t,a)}function pc(e,t,a,s,n,r){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n,treeForkCount:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=a,o.tailMode=n,o.treeForkCount=r)}function $d(e,t,a){var s=t.pendingProps,n=s.revealOrder,r=s.tail;s=s.children;var o=tt.current,f=(o&2)!==0;if(f?(o=o&1|2,t.flags|=128):o&=1,ie(tt,o),xt(e,t,s,a),s=De?Os:0,!f&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xd(e,a,t);else if(e.tag===19)Xd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&Fn(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),pc(t,!1,n,a,r,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Fn(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}pc(t,!0,a,null,r,s);break;case"together":pc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function va(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Xa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Gl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,a=xa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=xa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function gc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Gn(e)))}function Nh(e,t,a){switch(t.tag){case 3:I(t,t.stateNode.containerInfo),Ra(t,lt,e.memoizedState.cache),ol();break;case 27:case 5:te(t);break;case 4:I(t,t.stateNode.containerInfo);break;case 10:Ra(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Gi(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Va(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Qd(e,t,a):(Va(t),e=va(e,t,a),e!==null?e.sibling:null);Va(t);break;case 19:var n=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Gl(e,t,a,!1),s=(a&t.childLanes)!==0),n){if(s)return $d(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ie(tt,tt.current),s)break;return null;case 22:return t.lanes=0,Ld(e,t,a,t.pendingProps);case 24:Ra(t,lt,e.memoizedState.cache)}return va(e,t,a)}function Zd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)nt=!0;else{if(!gc(e,a)&&(t.flags&128)===0)return nt=!1,Nh(e,t,a);nt=(e.flags&131072)!==0}else nt=!1,De&&(t.flags&1048576)!==0&&Cu(t,Os,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ml(t.elementType),t.type=e,typeof e=="function")Ni(e)?(s=gl(e,s),t.tag=1,t=Gd(null,t,e,s,a)):(t.tag=0,t=uc(null,t,e,s,a));else{if(e!=null){var n=e.$$typeof;if(n===G){t.tag=11,t=Bd(null,t,e,s,a);break e}else if(n===q){t.tag=14,t=kd(null,t,e,s,a);break e}}throw t=pe(e)||e,Error(c(306,t,""))}}return t;case 0:return uc(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,n=gl(s,t.pendingProps),Gd(e,t,s,n,a);case 3:e:{if(I(t,t.stateNode.containerInfo),e===null)throw Error(c(387));s=t.pendingProps;var r=t.memoizedState;n=r.element,Ri(e,t),qs(t,s,null,a);var o=t.memoizedState;if(s=o.cache,Ra(t,lt,s),s!==r.cache&&Di(t,[lt],a,!0),Hs(),s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Yd(e,t,s,a);break e}else if(s!==n){n=Yt(Error(c(424)),t),_s(n),t=Yd(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ke=Jt(e.firstChild),ft=t,De=!0,Ba=null,$t=!0,a=Lu(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ol(),s===n){t=va(e,t,a);break e}xt(e,t,s,a)}t=t.child}return t;case 26:return ir(e,t),e===null?(a=nm(t.type,null,t.pendingProps,null))?t.memoizedState=a:De||(a=t.type,e=t.pendingProps,s=Sr(C.current).createElement(a),s[dt]=t,s[jt]=e,ht(s,a,e),ct(s),t.stateNode=s):t.memoizedState=nm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return te(t),e===null&&De&&(s=t.stateNode=am(t.type,t.pendingProps,C.current),ft=t,$t=!0,n=Ke,Fa(t.type)?(Fc=n,Ke=Jt(s.firstChild)):Ke=n),xt(e,t,t.pendingProps.children,a),ir(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((n=s=Ke)&&(s=Wh(s,t.type,t.pendingProps,$t),s!==null?(t.stateNode=s,ft=t,Ke=Jt(s.firstChild),$t=!1,n=!0):n=!1),n||ka(t)),te(t),n=t.type,r=t.pendingProps,o=e!==null?e.memoizedProps:null,s=r.children,Xc(n,r)?s=null:o!==null&&Xc(n,o)&&(t.flags|=32),t.memoizedState!==null&&(n=Qi(e,t,mh,null,null,a),rn._currentValue=n),ir(e,t),xt(e,t,s,a),t.child;case 6:return e===null&&De&&((e=a=Ke)&&(a=Ph(a,t.pendingProps,$t),a!==null?(t.stateNode=a,ft=t,Ke=null,e=!0):e=!1),e||ka(t)),null;case 13:return Qd(e,t,a);case 4:return I(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=hl(t,null,s,a):xt(e,t,s,a),t.child;case 11:return Bd(e,t,t.type,t.pendingProps,a);case 7:return xt(e,t,t.pendingProps,a),t.child;case 8:return xt(e,t,t.pendingProps.children,a),t.child;case 12:return xt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Ra(t,t.type,s.value),xt(e,t,s.children,a),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,dl(t),n=mt(n),s=s(n),t.flags|=1,xt(e,t,s,a),t.child;case 14:return kd(e,t,t.type,t.pendingProps,a);case 15:return Rd(e,t,t.type,t.pendingProps,a);case 19:return $d(e,t,a);case 31:return jh(e,t,a);case 22:return Ld(e,t,a,t.pendingProps);case 24:return dl(t),s=mt(lt),e===null?(n=Ui(),n===null&&(n=Xe,r=Oi(),n.pooledCache=r,r.refCount++,r!==null&&(n.pooledCacheLanes|=a),n=r),t.memoizedState={parent:s,cache:n},ki(t),Ra(t,lt,n)):((e.lanes&a)!==0&&(Ri(e,t),qs(t,null,null,a),Hs()),n=e.memoizedState,r=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Ra(t,lt,s)):(s=r.cache,Ra(t,lt,s),s!==n.cache&&Di(t,[lt],a,!0))),xt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function ja(e){e.flags|=4}function yc(e,t,a,s,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(jf())e.flags|=8192;else throw xl=$n,Bi}else e.flags&=-16777217}function Jd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!um(t))if(jf())e.flags|=8192;else throw xl=$n,Bi}function or(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Eo():536870912,e.lanes|=t,es|=t)}function $s(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function wh(e,t,a){var s=t.pendingProps;switch(Ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return Fe(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ga(lt),D(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vl(t)?ja(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ti())),Fe(t),null;case 26:var n=t.type,r=t.memoizedState;return e===null?(ja(t),r!==null?(Fe(t),Jd(t,r)):(Fe(t),yc(t,n,null,s,a))):r?r!==e.memoizedState?(ja(t),Fe(t),Jd(t,r)):(Fe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&ja(t),Fe(t),yc(t,n,e,s,a)),null;case 27:if(z(t),a=C.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ja(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return Fe(t),null}e=F.current,Vl(t)?Eu(t):(e=am(n,s,a),t.stateNode=e,ja(t))}return Fe(t),null;case 5:if(z(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ja(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return Fe(t),null}if(r=F.current,Vl(t))Eu(t);else{var o=Sr(C.current);switch(r){case 1:r=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:r=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":r=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":r=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":r=o.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof s.is=="string"?o.createElement("select",{is:s.is}):o.createElement("select"),s.multiple?r.multiple=!0:s.size&&(r.size=s.size);break;default:r=typeof s.is=="string"?o.createElement(n,{is:s.is}):o.createElement(n)}}r[dt]=t,r[jt]=s;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=r;e:switch(ht(r,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ja(t)}}return Fe(t),yc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ja(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(c(166));if(e=C.current,Vl(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,n=ft,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[dt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Xf(e.nodeValue,a)),e||ka(t,!0)}else e=Sr(e).createTextNode(s),e[dt]=t,t.stateNode=e}return Fe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Vl(t),a!==null){if(e===null){if(!s)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[dt]=t}else ol(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),e=!1}else a=Ti(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(_t(t),t):(_t(t),null);if((t.flags&128)!==0)throw Error(c(558))}return Fe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Vl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(c(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(c(317));n[dt]=t}else ol(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Fe(t),n=!1}else n=Ti(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(_t(t),t):(_t(t),null)}return _t(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==n&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),or(t,t.updateQueue),Fe(t),null);case 4:return D(),e===null&&qc(t.stateNode.containerInfo),Fe(t),null;case 10:return ga(t.type),Fe(t),null;case 19:if(V(tt),s=t.memoizedState,s===null)return Fe(t),null;if(n=(t.flags&128)!==0,r=s.rendering,r===null)if(n)$s(s,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=Fn(e),r!==null){for(t.flags|=128,$s(s,!1),e=r.updateQueue,t.updateQueue=e,or(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Nu(a,e),a=a.sibling;return ie(tt,tt.current&1|2),De&&ha(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&qe()>xr&&(t.flags|=128,n=!0,$s(s,!1),t.lanes=4194304)}else{if(!n)if(e=Fn(r),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,or(t,e),$s(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!De)return Fe(t),null}else 2*qe()-s.renderingStartTime>xr&&a!==536870912&&(t.flags|=128,n=!0,$s(s,!1),t.lanes=4194304);s.isBackwards?(r.sibling=t.child,t.child=r):(e=s.last,e!==null?e.sibling=r:t.child=r,s.last=r)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qe(),e.sibling=null,a=tt.current,ie(tt,n?a&1|2:a&1),De&&ha(t,s.treeForkCount),e):(Fe(t),null);case 22:case 23:return _t(t),Vi(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),a=t.updateQueue,a!==null&&or(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&V(fl),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ga(lt),Fe(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function Sh(e,t){switch(Ai(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ga(lt),D(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return z(t),null;case 31:if(t.memoizedState!==null){if(_t(t),t.alternate===null)throw Error(c(340));ol()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(_t(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));ol()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(tt),null;case 4:return D(),null;case 10:return ga(t.type),null;case 22:case 23:return _t(t),Vi(),e!==null&&V(fl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ga(lt),null;case 25:return null;default:return null}}function Kd(e,t){switch(Ai(t),t.tag){case 3:ga(lt),D();break;case 26:case 27:case 5:z(t);break;case 4:D();break;case 31:t.memoizedState!==null&&_t(t);break;case 13:_t(t);break;case 19:V(tt);break;case 10:ga(t.type);break;case 22:case 23:_t(t),Vi(),e!==null&&V(fl);break;case 24:ga(lt)}}function Zs(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var n=s.next;a=n;do{if((a.tag&e)===e){s=void 0;var r=a.create,o=a.inst;s=r(),o.destroy=s}a=a.next}while(a!==n)}}catch(f){He(t,t.return,f)}}function Ya(e,t,a){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var r=n.next;s=r;do{if((s.tag&e)===e){var o=s.inst,f=o.destroy;if(f!==void 0){o.destroy=void 0,n=t;var y=a,B=f;try{B()}catch(J){He(n,y,J)}}}s=s.next}while(s!==r)}}catch(J){He(t,t.return,J)}}function Fd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{qu(t,a)}catch(s){He(e,e.return,s)}}}function Id(e,t,a){a.props=gl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){He(e,t,s)}}function Js(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(n){He(e,t,n)}}function na(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(n){He(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){He(e,t,n)}else a.current=null}function Wd(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(n){He(e,e.return,n)}}function bc(e,t,a){try{var s=e.stateNode;$h(s,e.type,a,t),s[jt]=t}catch(n){He(e,e.return,n)}}function Pd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fa(e.type)||e.tag===4}function vc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jc(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=fa));else if(s!==4&&(s===27&&Fa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(jc(e,t,a),e=e.sibling;e!==null;)jc(e,t,a),e=e.sibling}function ur(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Fa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ur(e,t,a),e=e.sibling;e!==null;)ur(e,t,a),e=e.sibling}function ef(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ht(t,s,a),t[dt]=e,t[jt]=a}catch(r){He(e,e.return,r)}}var Na=!1,rt=!1,Nc=!1,tf=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Ch(e,t){if(e=e.containerInfo,Yc=Dr,e=mu(e),hi(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var o=0,f=-1,y=-1,B=0,J=0,ae=e,L=null;t:for(;;){for(var X;ae!==a||n!==0&&ae.nodeType!==3||(f=o+n),ae!==r||s!==0&&ae.nodeType!==3||(y=o+s),ae.nodeType===3&&(o+=ae.nodeValue.length),(X=ae.firstChild)!==null;)L=ae,ae=X;for(;;){if(ae===e)break t;if(L===a&&++B===n&&(f=o),L===r&&++J===s&&(y=o),(X=ae.nextSibling)!==null)break;ae=L,L=ae.parentNode}ae=X}a=f===-1||y===-1?null:{start:f,end:y}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qc={focusedElem:e,selectionRange:a},Dr=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){switch(t=ot,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,a=t,n=r.memoizedProps,r=r.memoizedState,s=a.stateNode;try{var he=gl(a.type,n);e=s.getSnapshotBeforeUpdate(he,r),s.__reactInternalSnapshotBeforeUpdate=e}catch(Ne){He(a,a.return,Ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Zc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}}function af(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Sa(e,a),s&4&&Zs(5,a);break;case 1:if(Sa(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){He(a,a.return,o)}else{var n=gl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){He(a,a.return,o)}}s&64&&Fd(a),s&512&&Js(a,a.return);break;case 3:if(Sa(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{qu(e,t)}catch(o){He(a,a.return,o)}}break;case 27:t===null&&s&4&&ef(a);case 26:case 5:Sa(e,a),t===null&&s&4&&Wd(a),s&512&&Js(a,a.return);break;case 12:Sa(e,a);break;case 31:Sa(e,a),s&4&&nf(e,a);break;case 13:Sa(e,a),s&4&&rf(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Uh.bind(null,a),ep(e,a))));break;case 22:if(s=a.memoizedState!==null||Na,!s){t=t!==null&&t.memoizedState!==null||rt,n=Na;var r=rt;Na=s,(rt=t)&&!r?Ca(e,a,(a.subtreeFlags&8772)!==0):Sa(e,a),Na=n,rt=r}break;case 30:break;default:Sa(e,a)}}function lf(e){var t=e.alternate;t!==null&&(e.alternate=null,lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Wr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var We=null,wt=!1;function wa(e,t,a){for(a=a.child;a!==null;)sf(e,t,a),a=a.sibling}function sf(e,t,a){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(zt,a)}catch{}switch(a.tag){case 26:rt||na(a,t),wa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:rt||na(a,t);var s=We,n=wt;Fa(a.type)&&(We=a.stateNode,wt=!1),wa(e,t,a),ln(a.stateNode),We=s,wt=n;break;case 5:rt||na(a,t);case 6:if(s=We,n=wt,We=null,wa(e,t,a),We=s,wt=n,We!==null)if(wt)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(a.stateNode)}catch(r){He(a,t,r)}else try{We.removeChild(a.stateNode)}catch(r){He(a,t,r)}break;case 18:We!==null&&(wt?(e=We,If(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),cs(e)):If(We,a.stateNode));break;case 4:s=We,n=wt,We=a.stateNode.containerInfo,wt=!0,wa(e,t,a),We=s,wt=n;break;case 0:case 11:case 14:case 15:Ya(2,a,t),rt||Ya(4,a,t),wa(e,t,a);break;case 1:rt||(na(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Id(a,t,s)),wa(e,t,a);break;case 21:wa(e,t,a);break;case 22:rt=(s=rt)||a.memoizedState!==null,wa(e,t,a),rt=s;break;default:wa(e,t,a)}}function nf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{cs(e)}catch(a){He(t,t.return,a)}}}function rf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cs(e)}catch(a){He(t,t.return,a)}}function Ah(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new tf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new tf),t;default:throw Error(c(435,e.tag))}}function dr(e,t){var a=Ah(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var n=Bh.bind(null,e,s);s.then(n,n)}})}function St(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s],r=e,o=t,f=o;e:for(;f!==null;){switch(f.tag){case 27:if(Fa(f.type)){We=f.stateNode,wt=!1;break e}break;case 5:We=f.stateNode,wt=!1;break e;case 3:case 4:We=f.stateNode.containerInfo,wt=!0;break e}f=f.return}if(We===null)throw Error(c(160));sf(r,o,n),We=null,wt=!1,r=n.alternate,r!==null&&(r.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)cf(t,e),t=t.sibling}var Pt=null;function cf(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(t,e),Ct(e),s&4&&(Ya(3,e,e.return),Zs(3,e),Ya(5,e,e.return));break;case 1:St(t,e),Ct(e),s&512&&(rt||a===null||na(a,a.return)),s&64&&Na&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var n=Pt;if(St(t,e),Ct(e),s&512&&(rt||a===null||na(a,a.return)),s&4){var r=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":r=n.getElementsByTagName("title")[0],(!r||r[js]||r[dt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=n.createElement(s),n.head.insertBefore(r,n.querySelector("head > title"))),ht(r,s,a),r[dt]=e,ct(r),s=r;break e;case"link":var o=cm("link","href",n).get(s+(a.href||""));if(o){for(var f=0;f<o.length;f++)if(r=o[f],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(f,1);break t}}r=n.createElement(s),ht(r,s,a),n.head.appendChild(r);break;case"meta":if(o=cm("meta","content",n).get(s+(a.content||""))){for(f=0;f<o.length;f++)if(r=o[f],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(f,1);break t}}r=n.createElement(s),ht(r,s,a),n.head.appendChild(r);break;default:throw Error(c(468,s))}r[dt]=e,ct(r),s=r}e.stateNode=s}else om(n,e.type,e.stateNode);else e.stateNode=im(n,s,e.memoizedProps);else r!==s?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,s===null?om(n,e.type,e.stateNode):im(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&bc(e,e.memoizedProps,a.memoizedProps)}break;case 27:St(t,e),Ct(e),s&512&&(rt||a===null||na(a,a.return)),a!==null&&s&4&&bc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(St(t,e),Ct(e),s&512&&(rt||a===null||na(a,a.return)),e.flags&32){n=e.stateNode;try{Dl(n,"")}catch(he){He(e,e.return,he)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,bc(e,n,a!==null?a.memoizedProps:n)),s&1024&&(Nc=!0);break;case 6:if(St(t,e),Ct(e),s&4){if(e.stateNode===null)throw Error(c(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(he){He(e,e.return,he)}}break;case 3:if(Er=null,n=Pt,Pt=Cr(t.containerInfo),St(t,e),Pt=n,Ct(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{cs(t.containerInfo)}catch(he){He(e,e.return,he)}Nc&&(Nc=!1,of(e));break;case 4:s=Pt,Pt=Cr(e.stateNode.containerInfo),St(t,e),Ct(e),Pt=s;break;case 12:St(t,e),Ct(e);break;case 31:St(t,e),Ct(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,dr(e,s)));break;case 13:St(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mr=qe()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,dr(e,s)));break;case 22:n=e.memoizedState!==null;var y=a!==null&&a.memoizedState!==null,B=Na,J=rt;if(Na=B||n,rt=J||y,St(t,e),rt=J,Na=B,Ct(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||y||Na||rt||yl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){y=a=t;try{if(r=y.stateNode,n)o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{f=y.stateNode;var ae=y.memoizedProps.style,L=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;f.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(he){He(y,y.return,he)}}}else if(t.tag===6){if(a===null){y=t;try{y.stateNode.nodeValue=n?"":y.memoizedProps}catch(he){He(y,y.return,he)}}}else if(t.tag===18){if(a===null){y=t;try{var X=y.stateNode;n?Wf(X,!0):Wf(y.stateNode,!1)}catch(he){He(y,y.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,dr(e,a))));break;case 19:St(t,e),Ct(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,dr(e,s)));break;case 30:break;case 21:break;default:St(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Pd(s)){a=s;break}s=s.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var n=a.stateNode,r=vc(e);ur(e,r,n);break;case 5:var o=a.stateNode;a.flags&32&&(Dl(o,""),a.flags&=-33);var f=vc(e);ur(e,f,o);break;case 3:case 4:var y=a.stateNode.containerInfo,B=vc(e);jc(e,B,y);break;default:throw Error(c(161))}}catch(J){He(e,e.return,J)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function of(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;of(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)af(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ya(4,t,t.return),yl(t);break;case 1:na(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Id(t,t.return,a),yl(t);break;case 27:ln(t.stateNode);case 26:case 5:na(t,t.return),yl(t);break;case 22:t.memoizedState===null&&yl(t);break;case 30:yl(t);break;default:yl(t)}e=e.sibling}}function Ca(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,r=t,o=r.flags;switch(r.tag){case 0:case 11:case 15:Ca(n,r,a),Zs(4,r);break;case 1:if(Ca(n,r,a),s=r,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(B){He(s,s.return,B)}if(s=r,n=s.updateQueue,n!==null){var f=s.stateNode;try{var y=n.shared.hiddenCallbacks;if(y!==null)for(n.shared.hiddenCallbacks=null,n=0;n<y.length;n++)Hu(y[n],f)}catch(B){He(s,s.return,B)}}a&&o&64&&Fd(r),Js(r,r.return);break;case 27:ef(r);case 26:case 5:Ca(n,r,a),a&&s===null&&o&4&&Wd(r),Js(r,r.return);break;case 12:Ca(n,r,a);break;case 31:Ca(n,r,a),a&&o&4&&nf(n,r);break;case 13:Ca(n,r,a),a&&o&4&&rf(n,r);break;case 22:r.memoizedState===null&&Ca(n,r,a),Js(r,r.return);break;case 30:break;default:Ca(n,r,a)}t=t.sibling}}function wc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Us(a))}function Sc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Us(e))}function ea(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)uf(e,t,a,s),t=t.sibling}function uf(e,t,a,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:ea(e,t,a,s),n&2048&&Zs(9,t);break;case 1:ea(e,t,a,s);break;case 3:ea(e,t,a,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Us(e)));break;case 12:if(n&2048){ea(e,t,a,s),e=t.stateNode;try{var r=t.memoizedProps,o=r.id,f=r.onPostCommit;typeof f=="function"&&f(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(y){He(t,t.return,y)}}else ea(e,t,a,s);break;case 31:ea(e,t,a,s);break;case 13:ea(e,t,a,s);break;case 23:break;case 22:r=t.stateNode,o=t.alternate,t.memoizedState!==null?r._visibility&2?ea(e,t,a,s):Ks(e,t):r._visibility&2?ea(e,t,a,s):(r._visibility|=2,Il(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),n&2048&&wc(o,t);break;case 24:ea(e,t,a,s),n&2048&&Sc(t.alternate,t);break;default:ea(e,t,a,s)}}function Il(e,t,a,s,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,o=t,f=a,y=s,B=o.flags;switch(o.tag){case 0:case 11:case 15:Il(r,o,f,y,n),Zs(8,o);break;case 23:break;case 22:var J=o.stateNode;o.memoizedState!==null?J._visibility&2?Il(r,o,f,y,n):Ks(r,o):(J._visibility|=2,Il(r,o,f,y,n)),n&&B&2048&&wc(o.alternate,o);break;case 24:Il(r,o,f,y,n),n&&B&2048&&Sc(o.alternate,o);break;default:Il(r,o,f,y,n)}t=t.sibling}}function Ks(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,n=s.flags;switch(s.tag){case 22:Ks(a,s),n&2048&&wc(s.alternate,s);break;case 24:Ks(a,s),n&2048&&Sc(s.alternate,s);break;default:Ks(a,s)}t=t.sibling}}var Fs=8192;function Wl(e,t,a){if(e.subtreeFlags&Fs)for(e=e.child;e!==null;)df(e,t,a),e=e.sibling}function df(e,t,a){switch(e.tag){case 26:Wl(e,t,a),e.flags&Fs&&e.memoizedState!==null&&fp(a,Pt,e.memoizedState,e.memoizedProps);break;case 5:Wl(e,t,a);break;case 3:case 4:var s=Pt;Pt=Cr(e.stateNode.containerInfo),Wl(e,t,a),Pt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Fs,Fs=16777216,Wl(e,t,a),Fs=s):Wl(e,t,a));break;default:Wl(e,t,a)}}function ff(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Is(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];ot=s,xf(s,e)}ff(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mf(e),e=e.sibling}function mf(e){switch(e.tag){case 0:case 11:case 15:Is(e),e.flags&2048&&Ya(9,e,e.return);break;case 3:Is(e);break;case 12:Is(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fr(e)):Is(e);break;default:Is(e)}}function fr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];ot=s,xf(s,e)}ff(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ya(8,t,t.return),fr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,fr(t));break;default:fr(t)}e=e.sibling}}function xf(e,t){for(;ot!==null;){var a=ot;switch(a.tag){case 0:case 11:case 15:Ya(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Us(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,ot=s;else e:for(a=e;ot!==null;){s=ot;var n=s.sibling,r=s.return;if(lf(s),s===a){ot=null;break e}if(n!==null){n.return=r,ot=n;break e}ot=r}}}var Eh={getCacheForType:function(e){var t=mt(lt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return mt(lt).controller.signal}},Th=typeof WeakMap=="function"?WeakMap:Map,Be=0,Xe=null,Ee=null,ze=0,Le=0,Ut=null,Qa=!1,Pl=!1,Cc=!1,Aa=0,et=0,Xa=0,bl=0,Ac=0,Bt=0,es=0,Ws=null,At=null,Ec=!1,mr=0,hf=0,xr=1/0,hr=null,$a=null,it=0,Za=null,ts=null,Ea=0,Tc=0,zc=null,pf=null,Ps=0,Mc=null;function kt(){return(Be&2)!==0&&ze!==0?ze&-ze:O.T!==null?kc():Do()}function gf(){if(Bt===0)if((ze&536870912)===0||De){var e=wn;wn<<=1,(wn&3932160)===0&&(wn=262144),Bt=e}else Bt=536870912;return e=Ot.current,e!==null&&(e.flags|=32),Bt}function Et(e,t,a){(e===Xe&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(as(e,0),Ja(e,ze,Bt,!1)),vs(e,a),((Be&2)===0||e!==Xe)&&(e===Xe&&((Be&2)===0&&(bl|=a),et===4&&Ja(e,ze,Bt,!1)),ra(e))}function yf(e,t,a){if((Be&6)!==0)throw Error(c(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||bs(e,t),n=s?Dh(e,t):Oc(e,t,!0),r=s;do{if(n===0){Pl&&!s&&Ja(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!zh(a)){n=Oc(e,t,!1),r=!1;continue}if(n===2){if(r=t,e.errorRecoveryDisabledLanes&r)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var f=e;n=Ws;var y=f.current.memoizedState.isDehydrated;if(y&&(as(f,o).flags|=256),o=Oc(f,o,!1),o!==2){if(Cc&&!y){f.errorRecoveryDisabledLanes|=r,bl|=r,n=4;break e}r=At,At=n,r!==null&&(At===null?At=r:At.push.apply(At,r))}n=o}if(r=!1,n!==2)continue}}if(n===1){as(e,0),Ja(e,t,0,!0);break}e:{switch(s=e,r=n,r){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Ja(s,t,Bt,!Qa);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(n=mr+300-qe(),10<n)){if(Ja(s,t,Bt,!Qa),Cn(s,0,!0)!==0)break e;Ea=t,s.timeoutHandle=Kf(bf.bind(null,s,a,At,hr,Ec,t,Bt,bl,es,Qa,r,"Throttled",-0,0),n);break e}bf(s,a,At,hr,Ec,t,Bt,bl,es,Qa,r,null,-0,0)}}break}while(!0);ra(e)}function bf(e,t,a,s,n,r,o,f,y,B,J,ae,L,X){if(e.timeoutHandle=-1,ae=t.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fa},df(t,r,ae);var he=(r&62914560)===r?mr-qe():(r&4194048)===r?hf-qe():0;if(he=mp(ae,he),he!==null){Ea=r,e.cancelPendingCommit=he(Ef.bind(null,e,t,r,a,s,n,o,f,y,J,ae,null,L,X)),Ja(e,r,o,!B);return}}Ef(e,t,r,a,s,n,o,f,y)}function zh(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var n=a[s],r=n.getSnapshot;n=n.value;try{if(!Mt(r(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ja(e,t,a,s){t&=~Ac,t&=~bl,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var r=31-pt(n),o=1<<r;s[r]=-1,n&=~o}a!==0&&To(e,a,t)}function pr(){return(Be&6)===0?(en(0),!1):!0}function Dc(){if(Ee!==null){if(Le===0)var e=Ee.return;else e=Ee,pa=ul=null,Zi(e),$l=null,ks=0,e=Ee;for(;e!==null;)Kd(e.alternate,e),e=e.return;Ee=null}}function as(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Kh(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ea=0,Dc(),Xe=e,Ee=a=xa(e.current,null),ze=t,Le=0,Ut=null,Qa=!1,Pl=bs(e,t),Cc=!1,es=Bt=Ac=bl=Xa=et=0,At=Ws=null,Ec=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-pt(s),r=1<<n;t|=e[n],s&=~r}return Aa=t,Rn(),a}function vf(e,t){Ce=null,O.H=Qs,t===Xl||t===Xn?(t=Bu(),Le=3):t===Bi?(t=Bu(),Le=4):Le=t===oc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ut=t,Ee===null&&(et=1,nr(e,Yt(t,e.current)))}function jf(){var e=Ot.current;return e===null?!0:(ze&4194048)===ze?Zt===null:(ze&62914560)===ze||(ze&536870912)!==0?e===Zt:!1}function Nf(){var e=O.H;return O.H=Qs,e===null?Qs:e}function wf(){var e=O.A;return O.A=Eh,e}function gr(){et=4,Qa||(ze&4194048)!==ze&&Ot.current!==null||(Pl=!0),(Xa&134217727)===0&&(bl&134217727)===0||Xe===null||Ja(Xe,ze,Bt,!1)}function Oc(e,t,a){var s=Be;Be|=2;var n=Nf(),r=wf();(Xe!==e||ze!==t)&&(hr=null,as(e,t)),t=!1;var o=et;e:do try{if(Le!==0&&Ee!==null){var f=Ee,y=Ut;switch(Le){case 8:Dc(),o=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(t=!0);var B=Le;if(Le=0,Ut=null,ls(e,f,y,B),a&&Pl){o=0;break e}break;default:B=Le,Le=0,Ut=null,ls(e,f,y,B)}}Mh(),o=et;break}catch(J){vf(e,J)}while(!0);return t&&e.shellSuspendCounter++,pa=ul=null,Be=s,O.H=n,O.A=r,Ee===null&&(Xe=null,ze=0,Rn()),o}function Mh(){for(;Ee!==null;)Sf(Ee)}function Dh(e,t){var a=Be;Be|=2;var s=Nf(),n=wf();Xe!==e||ze!==t?(hr=null,xr=qe()+500,as(e,t)):Pl=bs(e,t);e:do try{if(Le!==0&&Ee!==null){t=Ee;var r=Ut;t:switch(Le){case 1:Le=0,Ut=null,ls(e,t,r,1);break;case 2:case 9:if(_u(r)){Le=0,Ut=null,Cf(t);break}t=function(){Le!==2&&Le!==9||Xe!==e||(Le=7),ra(e)},r.then(t,t);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:_u(r)?(Le=0,Ut=null,Cf(t)):(Le=0,Ut=null,ls(e,t,r,7));break;case 5:var o=null;switch(Ee.tag){case 26:o=Ee.memoizedState;case 5:case 27:var f=Ee;if(o?um(o):f.stateNode.complete){Le=0,Ut=null;var y=f.sibling;if(y!==null)Ee=y;else{var B=f.return;B!==null?(Ee=B,yr(B)):Ee=null}break t}}Le=0,Ut=null,ls(e,t,r,5);break;case 6:Le=0,Ut=null,ls(e,t,r,6);break;case 8:Dc(),et=6;break e;default:throw Error(c(462))}}Oh();break}catch(J){vf(e,J)}while(!0);return pa=ul=null,O.H=s,O.A=n,Be=a,Ee!==null?0:(Xe=null,ze=0,Rn(),et)}function Oh(){for(;Ee!==null&&!vt();)Sf(Ee)}function Sf(e){var t=Zd(e.alternate,e,Aa);e.memoizedProps=e.pendingProps,t===null?yr(e):Ee=t}function Cf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Vd(a,t,t.pendingProps,t.type,void 0,ze);break;case 11:t=Vd(a,t,t.pendingProps,t.type.render,t.ref,ze);break;case 5:Zi(t);default:Kd(a,t),t=Ee=Nu(t,Aa),t=Zd(a,t,Aa)}e.memoizedProps=e.pendingProps,t===null?yr(e):Ee=t}function ls(e,t,a,s){pa=ul=null,Zi(t),$l=null,ks=0;var n=t.return;try{if(vh(e,n,t,a,ze)){et=1,nr(e,Yt(a,e.current)),Ee=null;return}}catch(r){if(n!==null)throw Ee=n,r;et=1,nr(e,Yt(a,e.current)),Ee=null;return}t.flags&32768?(De||s===1?e=!0:Pl||(ze&536870912)!==0?e=!1:(Qa=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ot.current,s!==null&&s.tag===13&&(s.flags|=16384))),Af(t,e)):yr(t)}function yr(e){var t=e;do{if((t.flags&32768)!==0){Af(t,Qa);return}e=t.return;var a=wh(t.alternate,t,Aa);if(a!==null){Ee=a;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);et===0&&(et=5)}function Af(e,t){do{var a=Sh(e.alternate,e);if(a!==null){a.flags&=32767,Ee=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=a}while(e!==null);et=6,Ee=null}function Ef(e,t,a,s,n,r,o,f,y){e.cancelPendingCommit=null;do br();while(it!==0);if((Be&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(r=t.lanes|t.childLanes,r|=vi,dx(e,a,r,o,f,y),e===Xe&&(Ee=Xe=null,ze=0),ts=t,Za=e,Ea=a,Tc=r,zc=n,pf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kh(fe,function(){return Of(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=O.T,O.T=null,n=le.p,le.p=2,o=Be,Be|=4;try{Ch(e,t,a)}finally{Be=o,le.p=n,O.T=s}}it=1,Tf(),zf(),Mf()}}function Tf(){if(it===1){it=0;var e=Za,t=ts,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var s=le.p;le.p=2;var n=Be;Be|=4;try{cf(t,e);var r=Qc,o=mu(e.containerInfo),f=r.focusedElem,y=r.selectionRange;if(o!==f&&f&&f.ownerDocument&&fu(f.ownerDocument.documentElement,f)){if(y!==null&&hi(f)){var B=y.start,J=y.end;if(J===void 0&&(J=B),"selectionStart"in f)f.selectionStart=B,f.selectionEnd=Math.min(J,f.value.length);else{var ae=f.ownerDocument||document,L=ae&&ae.defaultView||window;if(L.getSelection){var X=L.getSelection(),he=f.textContent.length,Ne=Math.min(y.start,he),Ye=y.end===void 0?Ne:Math.min(y.end,he);!X.extend&&Ne>Ye&&(o=Ye,Ye=Ne,Ne=o);var E=du(f,Ne),N=du(f,Ye);if(E&&N&&(X.rangeCount!==1||X.anchorNode!==E.node||X.anchorOffset!==E.offset||X.focusNode!==N.node||X.focusOffset!==N.offset)){var U=ae.createRange();U.setStart(E.node,E.offset),X.removeAllRanges(),Ne>Ye?(X.addRange(U),X.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),X.addRange(U))}}}}for(ae=[],X=f;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<ae.length;f++){var W=ae[f];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Dr=!!Yc,Qc=Yc=null}finally{Be=n,le.p=s,O.T=a}}e.current=t,it=2}}function zf(){if(it===2){it=0;var e=Za,t=ts,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var s=le.p;le.p=2;var n=Be;Be|=4;try{af(e,t.alternate,t)}finally{Be=n,le.p=s,O.T=a}}it=3}}function Mf(){if(it===4||it===3){it=0,ua();var e=Za,t=ts,a=Ea,s=pf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,ts=Za=null,Df(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&($a=null),Fr(a),t=t.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(zt,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=O.T,n=le.p,le.p=2,O.T=null;try{for(var r=e.onRecoverableError,o=0;o<s.length;o++){var f=s[o];r(f.value,{componentStack:f.stack})}}finally{O.T=t,le.p=n}}(Ea&3)!==0&&br(),ra(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===Mc?Ps++:(Ps=0,Mc=e):Ps=0,en(0)}}function Df(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Us(t)))}function br(){return Tf(),zf(),Mf(),Of()}function Of(){if(it!==5)return!1;var e=Za,t=Tc;Tc=0;var a=Fr(Ea),s=O.T,n=le.p;try{le.p=32>a?32:a,O.T=null,a=zc,zc=null;var r=Za,o=Ea;if(it=0,ts=Za=null,Ea=0,(Be&6)!==0)throw Error(c(331));var f=Be;if(Be|=4,mf(r.current),uf(r,r.current,o,a),Be=f,en(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(zt,r)}catch{}return!0}finally{le.p=n,O.T=s,Df(e,t)}}function _f(e,t,a){t=Yt(a,t),t=cc(e.stateNode,t,2),e=qa(e,t,2),e!==null&&(vs(e,2),ra(e))}function He(e,t,a){if(e.tag===3)_f(e,e,a);else for(;t!==null;){if(t.tag===3){_f(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&($a===null||!$a.has(s))){e=Yt(a,e),a=_d(2),s=qa(t,a,2),s!==null&&(Ud(a,s,t,e),vs(s,2),ra(s));break}}t=t.return}}function _c(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Th;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(a)||(Cc=!0,n.add(a),e=_h.bind(null,e,t,a),t.then(e,e))}function _h(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Xe===e&&(ze&a)===a&&(et===4||et===3&&(ze&62914560)===ze&&300>qe()-mr?(Be&2)===0&&as(e,0):Ac|=a,es===ze&&(es=0)),ra(e)}function Uf(e,t){t===0&&(t=Eo()),e=il(e,t),e!==null&&(vs(e,t),ra(e))}function Uh(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Uf(e,a)}function Bh(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(c(314))}s!==null&&s.delete(t),Uf(e,a)}function kh(e,t){return It(e,t)}var vr=null,ss=null,Uc=!1,jr=!1,Bc=!1,Ka=0;function ra(e){e!==ss&&e.next===null&&(ss===null?vr=ss=e:ss=ss.next=e),jr=!0,Uc||(Uc=!0,Lh())}function en(e,t){if(!Bc&&jr){Bc=!0;do for(var a=!1,s=vr;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var r=0;else{var o=s.suspendedLanes,f=s.pingedLanes;r=(1<<31-pt(42|e)+1)-1,r&=n&~(o&~f),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,Lf(s,r))}else r=ze,r=Cn(s,s===Xe?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(r&3)===0||bs(s,r)||(a=!0,Lf(s,r));s=s.next}while(a);Bc=!1}}function Rh(){Bf()}function Bf(){jr=Uc=!1;var e=0;Ka!==0&&Jh()&&(e=Ka);for(var t=qe(),a=null,s=vr;s!==null;){var n=s.next,r=kf(s,t);r===0?(s.next=null,a===null?vr=n:a.next=n,n===null&&(ss=a)):(a=s,(e!==0||(r&3)!==0)&&(jr=!0)),s=n}it!==0&&it!==5||en(e),Ka!==0&&(Ka=0)}function kf(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var o=31-pt(r),f=1<<o,y=n[o];y===-1?((f&a)===0||(f&s)!==0)&&(n[o]=ux(f,t)):y<=t&&(e.expiredLanes|=f),r&=~f}if(t=Xe,a=ze,a=Cn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Tt(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||bs(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Tt(s),Fr(a)){case 2:case 8:a=Sl;break;case 32:a=fe;break;case 268435456:a=we;break;default:a=fe}return s=Rf.bind(null,e),a=It(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Tt(s),e.callbackPriority=2,e.callbackNode=null,2}function Rf(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(br()&&e.callbackNode!==a)return null;var s=ze;return s=Cn(e,e===Xe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(yf(e,s,t),kf(e,qe()),e.callbackNode!=null&&e.callbackNode===a?Rf.bind(null,e):null)}function Lf(e,t){if(br())return null;yf(e,t,!0)}function Lh(){Fh(function(){(Be&6)!==0?It(jn,Rh):Bf()})}function kc(){if(Ka===0){var e=Yl;e===0&&(e=Nn,Nn<<=1,(Nn&261888)===0&&(Nn=256)),Ka=e}return Ka}function Hf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zn(""+e)}function qf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Hh(e,t,a,s,n){if(t==="submit"&&a&&a.stateNode===n){var r=Hf((n[jt]||null).action),o=s.submitter;o&&(t=(t=o[jt]||null)?Hf(t.formAction):o.getAttribute("formAction"),t!==null&&(r=t,o=null));var f=new _n("action","action",null,s,n);e.push({event:f,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ka!==0){var y=o?qf(n,o):new FormData(n);ac(a,{pending:!0,data:y,method:n.method,action:r},null,y)}}else typeof r=="function"&&(f.preventDefault(),y=o?qf(n,o):new FormData(n),ac(a,{pending:!0,data:y,method:n.method,action:r},r,y))},currentTarget:n}]})}}for(var Rc=0;Rc<bi.length;Rc++){var Lc=bi[Rc],qh=Lc.toLowerCase(),Vh=Lc[0].toUpperCase()+Lc.slice(1);Wt(qh,"on"+Vh)}Wt(pu,"onAnimationEnd"),Wt(gu,"onAnimationIteration"),Wt(yu,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(lh,"onTransitionRun"),Wt(sh,"onTransitionStart"),Wt(nh,"onTransitionCancel"),Wt(bu,"onTransitionEnd"),zl("onMouseEnter",["mouseout","mouseover"]),zl("onMouseLeave",["mouseout","mouseover"]),zl("onPointerEnter",["pointerout","pointerover"]),zl("onPointerLeave",["pointerout","pointerover"]),ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ll("onBeforeInput",["compositionend","keypress","textInput","paste"]),ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tn));function Vf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],n=s.event;s=s.listeners;e:{var r=void 0;if(t)for(var o=s.length-1;0<=o;o--){var f=s[o],y=f.instance,B=f.currentTarget;if(f=f.listener,y!==r&&n.isPropagationStopped())break e;r=f,n.currentTarget=B;try{r(n)}catch(J){kn(J)}n.currentTarget=null,r=y}else for(o=0;o<s.length;o++){if(f=s[o],y=f.instance,B=f.currentTarget,f=f.listener,y!==r&&n.isPropagationStopped())break e;r=f,n.currentTarget=B;try{r(n)}catch(J){kn(J)}n.currentTarget=null,r=y}}}}function Te(e,t){var a=t[Ir];a===void 0&&(a=t[Ir]=new Set);var s=e+"__bubble";a.has(s)||(Gf(t,e,2,!1),a.add(s))}function Hc(e,t,a){var s=0;t&&(s|=4),Gf(a,e,s,t)}var Nr="_reactListening"+Math.random().toString(36).slice(2);function qc(e){if(!e[Nr]){e[Nr]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(Gh.has(a)||Hc(a,!1,e),Hc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nr]||(t[Nr]=!0,Hc("selectionchange",!1,t))}}function Gf(e,t,a,s){switch(gm(t)){case 2:var n=pp;break;case 8:n=gp;break;default:n=to}a=n.bind(null,t,a,e),n=void 0,!ri||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Vc(e,t,a,s,n){var r=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var f=s.stateNode.containerInfo;if(f===n)break;if(o===4)for(o=s.return;o!==null;){var y=o.tag;if((y===3||y===4)&&o.stateNode.containerInfo===n)return;o=o.return}for(;f!==null;){if(o=Al(f),o===null)return;if(y=o.tag,y===5||y===6||y===26||y===27){s=r=o;continue e}f=f.parentNode}}s=s.return}$o(function(){var B=r,J=si(a),ae=[];e:{var L=vu.get(e);if(L!==void 0){var X=_n,he=e;switch(e){case"keypress":if(Dn(a)===0)break e;case"keydown":case"keyup":X=Bx;break;case"focusin":he="focus",X=ui;break;case"focusout":he="blur",X=ui;break;case"beforeblur":case"afterblur":X=ui;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=wx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Lx;break;case pu:case gu:case yu:X=Ax;break;case bu:X=qx;break;case"scroll":case"scrollend":X=jx;break;case"wheel":X=Gx;break;case"copy":case"cut":case"paste":X=Tx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Io;break;case"toggle":case"beforetoggle":X=Qx}var Ne=(t&4)!==0,Ye=!Ne&&(e==="scroll"||e==="scrollend"),E=Ne?L!==null?L+"Capture":null:L;Ne=[];for(var N=B,U;N!==null;){var W=N;if(U=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||U===null||E===null||(W=ws(N,E),W!=null&&Ne.push(an(N,W,U))),Ye)break;N=N.return}0<Ne.length&&(L=new X(L,he,null,a,J),ae.push({event:L,listeners:Ne}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",L&&a!==li&&(he=a.relatedTarget||a.fromElement)&&(Al(he)||he[Cl]))break e;if((X||L)&&(L=J.window===J?J:(L=J.ownerDocument)?L.defaultView||L.parentWindow:window,X?(he=a.relatedTarget||a.toElement,X=B,he=he?Al(he):null,he!==null&&(Ye=m(he),Ne=he.tag,he!==Ye||Ne!==5&&Ne!==27&&Ne!==6)&&(he=null)):(X=null,he=B),X!==he)){if(Ne=Ko,W="onMouseLeave",E="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=Io,W="onPointerLeave",E="onPointerEnter",N="pointer"),Ye=X==null?L:Ns(X),U=he==null?L:Ns(he),L=new Ne(W,N+"leave",X,a,J),L.target=Ye,L.relatedTarget=U,W=null,Al(J)===B&&(Ne=new Ne(E,N+"enter",he,a,J),Ne.target=U,Ne.relatedTarget=Ye,W=Ne),Ye=W,X&&he)t:{for(Ne=Yh,E=X,N=he,U=0,W=E;W;W=Ne(W))U++;W=0;for(var be=N;be;be=Ne(be))W++;for(;0<U-W;)E=Ne(E),U--;for(;0<W-U;)N=Ne(N),W--;for(;U--;){if(E===N||N!==null&&E===N.alternate){Ne=E;break t}E=Ne(E),N=Ne(N)}Ne=null}else Ne=null;X!==null&&Yf(ae,L,X,Ne,!1),he!==null&&Ye!==null&&Yf(ae,Ye,he,Ne,!0)}}e:{if(L=B?Ns(B):window,X=L.nodeName&&L.nodeName.toLowerCase(),X==="select"||X==="input"&&L.type==="file")var _e=nu;else if(lu(L))if(ru)_e=eh;else{_e=Wx;var ge=Ix}else X=L.nodeName,!X||X.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?B&&ai(B.elementType)&&(_e=nu):_e=Px;if(_e&&(_e=_e(e,B))){su(ae,_e,a,J);break e}ge&&ge(e,L,B),e==="focusout"&&B&&L.type==="number"&&B.memoizedProps.value!=null&&ti(L,"number",L.value)}switch(ge=B?Ns(B):window,e){case"focusin":(lu(ge)||ge.contentEditable==="true")&&(Bl=ge,pi=B,Ds=null);break;case"focusout":Ds=pi=Bl=null;break;case"mousedown":gi=!0;break;case"contextmenu":case"mouseup":case"dragend":gi=!1,xu(ae,a,J);break;case"selectionchange":if(ah)break;case"keydown":case"keyup":xu(ae,a,J)}var Ae;if(fi)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ul?tu(e,a)&&(Me="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Wo&&a.locale!=="ko"&&(Ul||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ul&&(Ae=Zo()):(_a=J,ii="value"in _a?_a.value:_a.textContent,Ul=!0)),ge=wr(B,Me),0<ge.length&&(Me=new Fo(Me,e,null,a,J),ae.push({event:Me,listeners:ge}),Ae?Me.data=Ae:(Ae=au(a),Ae!==null&&(Me.data=Ae)))),(Ae=$x?Zx(e,a):Jx(e,a))&&(Me=wr(B,"onBeforeInput"),0<Me.length&&(ge=new Fo("onBeforeInput","beforeinput",null,a,J),ae.push({event:ge,listeners:Me}),ge.data=Ae)),Hh(ae,e,B,a,J)}Vf(ae,t)})}function an(e,t,a){return{instance:e,listener:t,currentTarget:a}}function wr(e,t){for(var a=t+"Capture",s=[];e!==null;){var n=e,r=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||r===null||(n=ws(e,a),n!=null&&s.unshift(an(e,n,r)),n=ws(e,t),n!=null&&s.push(an(e,n,r))),e.tag===3)return s;e=e.return}return[]}function Yh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yf(e,t,a,s,n){for(var r=t._reactName,o=[];a!==null&&a!==s;){var f=a,y=f.alternate,B=f.stateNode;if(f=f.tag,y!==null&&y===s)break;f!==5&&f!==26&&f!==27||B===null||(y=B,n?(B=ws(a,r),B!=null&&o.unshift(an(a,B,y))):n||(B=ws(a,r),B!=null&&o.push(an(a,B,y)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var Qh=/\r\n?/g,Xh=/\u0000|\uFFFD/g;function Qf(e){return(typeof e=="string"?e:""+e).replace(Qh,`
`).replace(Xh,"")}function Xf(e,t){return t=Qf(t),Qf(e)===t}function Ge(e,t,a,s,n,r){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Dl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Dl(e,""+s);break;case"className":En(e,"class",s);break;case"tabIndex":En(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":En(e,a,s);break;case"style":Qo(e,s,r);break;case"data":if(t!=="object"){En(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=zn(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&Ge(e,t,"name",n.name,n,null),Ge(e,t,"formEncType",n.formEncType,n,null),Ge(e,t,"formMethod",n.formMethod,n,null),Ge(e,t,"formTarget",n.formTarget,n,null)):(Ge(e,t,"encType",n.encType,n,null),Ge(e,t,"method",n.method,n,null),Ge(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=zn(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=fa);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=zn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Te("beforetoggle",e),Te("toggle",e),An(e,"popover",s);break;case"xlinkActuate":da(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":da(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":da(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":da(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":da(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":da(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":da(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":da(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":da(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":An(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bx.get(a)||a,An(e,a,s))}}function Gc(e,t,a,s,n,r){switch(a){case"style":Qo(e,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Dl(e,s):(typeof s=="number"||typeof s=="bigint")&&Dl(e,""+s);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"onClick":s!=null&&(e.onclick=fa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),r=e[jt]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,n),typeof s=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,n);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):An(e,a,s)}}}function ht(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var s=!1,n=!1,r;for(r in a)if(a.hasOwnProperty(r)){var o=a[r];if(o!=null)switch(r){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ge(e,t,r,o,a,null)}}n&&Ge(e,t,"srcSet",a.srcSet,a,null),s&&Ge(e,t,"src",a.src,a,null);return;case"input":Te("invalid",e);var f=r=o=n=null,y=null,B=null;for(s in a)if(a.hasOwnProperty(s)){var J=a[s];if(J!=null)switch(s){case"name":n=J;break;case"type":o=J;break;case"checked":y=J;break;case"defaultChecked":B=J;break;case"value":r=J;break;case"defaultValue":f=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(c(137,t));break;default:Ge(e,t,s,J,a,null)}}qo(e,r,f,y,B,o,n,!1);return;case"select":Te("invalid",e),s=o=r=null;for(n in a)if(a.hasOwnProperty(n)&&(f=a[n],f!=null))switch(n){case"value":r=f;break;case"defaultValue":o=f;break;case"multiple":s=f;default:Ge(e,t,n,f,a,null)}t=r,a=o,e.multiple=!!s,t!=null?Ml(e,!!s,t,!1):a!=null&&Ml(e,!!s,a,!0);return;case"textarea":Te("invalid",e),r=n=s=null;for(o in a)if(a.hasOwnProperty(o)&&(f=a[o],f!=null))switch(o){case"value":s=f;break;case"defaultValue":n=f;break;case"children":r=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(c(91));break;default:Ge(e,t,o,f,a,null)}Go(e,s,n,r);return;case"option":for(y in a)if(a.hasOwnProperty(y)&&(s=a[y],s!=null))switch(y){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ge(e,t,y,s,a,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(s=0;s<tn.length;s++)Te(tn[s],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(s=a[B],s!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ge(e,t,B,s,a,null)}return;default:if(ai(t)){for(J in a)a.hasOwnProperty(J)&&(s=a[J],s!==void 0&&Gc(e,t,J,s,a,void 0));return}}for(f in a)a.hasOwnProperty(f)&&(s=a[f],s!=null&&Ge(e,t,f,s,a,null))}function $h(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,r=null,o=null,f=null,y=null,B=null,J=null;for(X in a){var ae=a[X];if(a.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":y=ae;default:s.hasOwnProperty(X)||Ge(e,t,X,null,s,ae)}}for(var L in s){var X=s[L];if(ae=a[L],s.hasOwnProperty(L)&&(X!=null||ae!=null))switch(L){case"type":r=X;break;case"name":n=X;break;case"checked":B=X;break;case"defaultChecked":J=X;break;case"value":o=X;break;case"defaultValue":f=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(c(137,t));break;default:X!==ae&&Ge(e,t,L,X,s,ae)}}ei(e,o,f,y,B,J,r,n);return;case"select":X=o=f=L=null;for(r in a)if(y=a[r],a.hasOwnProperty(r)&&y!=null)switch(r){case"value":break;case"multiple":X=y;default:s.hasOwnProperty(r)||Ge(e,t,r,null,s,y)}for(n in s)if(r=s[n],y=a[n],s.hasOwnProperty(n)&&(r!=null||y!=null))switch(n){case"value":L=r;break;case"defaultValue":f=r;break;case"multiple":o=r;default:r!==y&&Ge(e,t,n,r,s,y)}t=f,a=o,s=X,L!=null?Ml(e,!!a,L,!1):!!s!=!!a&&(t!=null?Ml(e,!!a,t,!0):Ml(e,!!a,a?[]:"",!1));return;case"textarea":X=L=null;for(f in a)if(n=a[f],a.hasOwnProperty(f)&&n!=null&&!s.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:Ge(e,t,f,null,s,n)}for(o in s)if(n=s[o],r=a[o],s.hasOwnProperty(o)&&(n!=null||r!=null))switch(o){case"value":L=n;break;case"defaultValue":X=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(c(91));break;default:n!==r&&Ge(e,t,o,n,s,r)}Vo(e,L,X);return;case"option":for(var he in a)if(L=a[he],a.hasOwnProperty(he)&&L!=null&&!s.hasOwnProperty(he))switch(he){case"selected":e.selected=!1;break;default:Ge(e,t,he,null,s,L)}for(y in s)if(L=s[y],X=a[y],s.hasOwnProperty(y)&&L!==X&&(L!=null||X!=null))switch(y){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Ge(e,t,y,L,s,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)L=a[Ne],a.hasOwnProperty(Ne)&&L!=null&&!s.hasOwnProperty(Ne)&&Ge(e,t,Ne,null,s,L);for(B in s)if(L=s[B],X=a[B],s.hasOwnProperty(B)&&L!==X&&(L!=null||X!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(c(137,t));break;default:Ge(e,t,B,L,s,X)}return;default:if(ai(t)){for(var Ye in a)L=a[Ye],a.hasOwnProperty(Ye)&&L!==void 0&&!s.hasOwnProperty(Ye)&&Gc(e,t,Ye,void 0,s,L);for(J in s)L=s[J],X=a[J],!s.hasOwnProperty(J)||L===X||L===void 0&&X===void 0||Gc(e,t,J,L,s,X);return}}for(var E in a)L=a[E],a.hasOwnProperty(E)&&L!=null&&!s.hasOwnProperty(E)&&Ge(e,t,E,null,s,L);for(ae in s)L=s[ae],X=a[ae],!s.hasOwnProperty(ae)||L===X||L==null&&X==null||Ge(e,t,ae,L,s,X)}function $f(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var n=a[s],r=n.transferSize,o=n.initiatorType,f=n.duration;if(r&&f&&$f(o)){for(o=0,f=n.responseEnd,s+=1;s<a.length;s++){var y=a[s],B=y.startTime;if(B>f)break;var J=y.transferSize,ae=y.initiatorType;J&&$f(ae)&&(y=y.responseEnd,o+=J*(y<f?1:(f-B)/(y-B)))}if(--s,t+=8*(r+o)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Yc=null,Qc=null;function Sr(e){return e.nodeType===9?e:e.ownerDocument}function Zf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Xc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $c=null;function Jh(){var e=window.event;return e&&e.type==="popstate"?e===$c?!1:($c=e,!0):($c=null,!1)}var Kf=typeof setTimeout=="function"?setTimeout:void 0,Kh=typeof clearTimeout=="function"?clearTimeout:void 0,Ff=typeof Promise=="function"?Promise:void 0,Fh=typeof queueMicrotask=="function"?queueMicrotask:typeof Ff<"u"?function(e){return Ff.resolve(null).then(e).catch(Ih)}:Kf;function Ih(e){setTimeout(function(){throw e})}function Fa(e){return e==="head"}function If(e,t){var a=t,s=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(n),cs(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")ln(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ln(a);for(var r=a.firstChild;r;){var o=r.nextSibling,f=r.nodeName;r[js]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&r.rel.toLowerCase()==="stylesheet"||a.removeChild(r),r=o}}else a==="body"&&ln(e.ownerDocument.body);a=n}while(a);cs(t)}function Wf(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Zc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zc(a),Wr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Wh(e,t,a,s){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[js])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function Ph(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Jt(e.nextSibling),e===null))return null;return e}function Pf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Jt(e.nextSibling),e===null))return null;return e}function Jc(e){return e.data==="$?"||e.data==="$~"}function Kc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ep(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Fc=null;function em(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Jt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function tm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function am(e,t,a){switch(t=Sr(a),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function ln(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Wr(e)}var Kt=new Map,lm=new Set;function Cr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ta=le.d;le.d={f:tp,r:ap,D:lp,C:sp,L:np,m:rp,X:cp,S:ip,M:op};function tp(){var e=Ta.f(),t=pr();return e||t}function ap(e){var t=El(e);t!==null&&t.tag===5&&t.type==="form"?bd(t):Ta.r(e)}var ns=typeof document>"u"?null:document;function sm(e,t,a){var s=ns;if(s&&typeof t=="string"&&t){var n=Vt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),lm.has(n)||(lm.add(n),e={rel:e,crossOrigin:a,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),ht(t,"link",e),ct(t),s.head.appendChild(t)))}}function lp(e){Ta.D(e),sm("dns-prefetch",e,null)}function sp(e,t){Ta.C(e,t),sm("preconnect",e,t)}function np(e,t,a){Ta.L(e,t,a);var s=ns;if(s&&e&&t){var n='link[rel="preload"][as="'+Vt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+Vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+Vt(a.imageSizes)+'"]')):n+='[href="'+Vt(e)+'"]';var r=n;switch(t){case"style":r=rs(e);break;case"script":r=is(e)}Kt.has(r)||(e=T({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Kt.set(r,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(sn(r))||t==="script"&&s.querySelector(nn(r))||(t=s.createElement("link"),ht(t,"link",e),ct(t),s.head.appendChild(t)))}}function rp(e,t){Ta.m(e,t);var a=ns;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Vt(s)+'"][href="'+Vt(e)+'"]',r=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=is(e)}if(!Kt.has(r)&&(e=T({rel:"modulepreload",href:e},t),Kt.set(r,e),a.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(nn(r)))return}s=a.createElement("link"),ht(s,"link",e),ct(s),a.head.appendChild(s)}}}function ip(e,t,a){Ta.S(e,t,a);var s=ns;if(s&&e){var n=Tl(s).hoistableStyles,r=rs(e);t=t||"default";var o=n.get(r);if(!o){var f={loading:0,preload:null};if(o=s.querySelector(sn(r)))f.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Kt.get(r))&&Ic(e,a);var y=o=s.createElement("link");ct(y),ht(y,"link",e),y._p=new Promise(function(B,J){y.onload=B,y.onerror=J}),y.addEventListener("load",function(){f.loading|=1}),y.addEventListener("error",function(){f.loading|=2}),f.loading|=4,Ar(o,t,s)}o={type:"stylesheet",instance:o,count:1,state:f},n.set(r,o)}}}function cp(e,t){Ta.X(e,t);var a=ns;if(a&&e){var s=Tl(a).hoistableScripts,n=is(e),r=s.get(n);r||(r=a.querySelector(nn(n)),r||(e=T({src:e,async:!0},t),(t=Kt.get(n))&&Wc(e,t),r=a.createElement("script"),ct(r),ht(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(n,r))}}function op(e,t){Ta.M(e,t);var a=ns;if(a&&e){var s=Tl(a).hoistableScripts,n=is(e),r=s.get(n);r||(r=a.querySelector(nn(n)),r||(e=T({src:e,async:!0,type:"module"},t),(t=Kt.get(n))&&Wc(e,t),r=a.createElement("script"),ct(r),ht(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(n,r))}}function nm(e,t,a,s){var n=(n=C.current)?Cr(n):null;if(!n)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=rs(a.href),a=Tl(n).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=rs(a.href);var r=Tl(n).hoistableStyles,o=r.get(e);if(o||(n=n.ownerDocument||n,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,o),(r=n.querySelector(sn(e)))&&!r._p&&(o.instance=r,o.state.loading=5),Kt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kt.set(e,a),r||up(n,e,a,o.state))),t&&s===null)throw Error(c(528,""));return o}if(t&&s!==null)throw Error(c(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=is(a),a=Tl(n).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function rs(e){return'href="'+Vt(e)+'"'}function sn(e){return'link[rel="stylesheet"]['+e+"]"}function rm(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function up(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ht(t,"link",a),ct(t),e.head.appendChild(t))}function is(e){return'[src="'+Vt(e)+'"]'}function nn(e){return"script[async]"+e}function im(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Vt(a.href)+'"]');if(s)return t.instance=s,ct(s),s;var n=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ct(s),ht(s,"style",n),Ar(s,a.precedence,e),t.instance=s;case"stylesheet":n=rs(a.href);var r=e.querySelector(sn(n));if(r)return t.state.loading|=4,t.instance=r,ct(r),r;s=rm(a),(n=Kt.get(n))&&Ic(s,n),r=(e.ownerDocument||e).createElement("link"),ct(r);var o=r;return o._p=new Promise(function(f,y){o.onload=f,o.onerror=y}),ht(r,"link",s),t.state.loading|=4,Ar(r,a.precedence,e),t.instance=r;case"script":return r=is(a.src),(n=e.querySelector(nn(r)))?(t.instance=n,ct(n),n):(s=a,(n=Kt.get(r))&&(s=T({},a),Wc(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),ct(n),ht(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Ar(s,a.precedence,e));return t.instance}function Ar(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,r=n,o=0;o<s.length;o++){var f=s[o];if(f.dataset.precedence===t)r=f;else if(r!==n)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ic(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Wc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Er=null;function cm(e,t,a){if(Er===null){var s=new Map,n=Er=new Map;n.set(a,s)}else n=Er,s=n.get(a),s||(s=new Map,n.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var r=a[n];if(!(r[js]||r[dt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var o=r.getAttribute(t)||"";o=e+o;var f=s.get(o);f?f.push(r):s.set(o,[r])}}return s}function om(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function dp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function um(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fp(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=rs(s.href),r=t.querySelector(sn(n));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Tr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=r,ct(r);return}r=t.ownerDocument||t,s=rm(s),(n=Kt.get(n))&&Ic(s,n),r=r.createElement("link"),ct(r);var o=r;o._p=new Promise(function(f,y){o.onload=f,o.onerror=y}),ht(r,"link",s),a.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Tr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Pc=0;function mp(e,t){return e.stylesheets&&e.count===0&&Mr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Mr(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&Pc===0&&(Pc=62500*Zh());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mr(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>Pc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}function Tr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zr=null;function Mr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zr=new Map,t.forEach(xp,e),zr=null,Tr.call(e))}function xp(e,t){if(!(t.state.loading&4)){var a=zr.get(e);if(a)var s=a.get(null);else{a=new Map,zr.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<n.length;r++){var o=n[r];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),s=o)}s&&a.set(null,s)}n=t.instance,o=n.getAttribute("data-precedence"),r=a.get(o)||s,r===s&&a.set(null,n),a.set(o,n),this.count++,s=Tr.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),r?r.parentNode.insertBefore(n,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var rn={$$typeof:A,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function hp(e,t,a,s,n,r,o,f,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.hiddenUpdates=Jr(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=r,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function dm(e,t,a,s,n,r,o,f,y,B,J,ae){return e=new hp(e,t,a,o,y,B,J,ae,f),t=1,r===!0&&(t|=24),r=Dt(3,null,null,t),e.current=r,r.stateNode=e,t=Oi(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:s,isDehydrated:a,cache:t},ki(r),e}function fm(e){return e?(e=Ll,e):Ll}function mm(e,t,a,s,n,r){n=fm(n),s.context===null?s.context=n:s.pendingContext=n,s=Ha(t),s.payload={element:a},r=r===void 0?null:r,r!==null&&(s.callback=r),a=qa(e,s,t),a!==null&&(Et(a,e,t),Ls(a,e,t))}function xm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function eo(e,t){xm(e,t),(e=e.alternate)&&xm(e,t)}function hm(e){if(e.tag===13||e.tag===31){var t=il(e,67108864);t!==null&&Et(t,e,67108864),eo(e,67108864)}}function pm(e){if(e.tag===13||e.tag===31){var t=kt();t=Kr(t);var a=il(e,t);a!==null&&Et(a,e,t),eo(e,t)}}var Dr=!0;function pp(e,t,a,s){var n=O.T;O.T=null;var r=le.p;try{le.p=2,to(e,t,a,s)}finally{le.p=r,O.T=n}}function gp(e,t,a,s){var n=O.T;O.T=null;var r=le.p;try{le.p=8,to(e,t,a,s)}finally{le.p=r,O.T=n}}function to(e,t,a,s){if(Dr){var n=ao(s);if(n===null)Vc(e,t,s,Or,a),ym(e,s);else if(bp(n,e,t,a,s))s.stopPropagation();else if(ym(e,s),t&4&&-1<yp.indexOf(e)){for(;n!==null;){var r=El(n);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var o=al(r.pendingLanes);if(o!==0){var f=r;for(f.pendingLanes|=2,f.entangledLanes|=2;o;){var y=1<<31-pt(o);f.entanglements[1]|=y,o&=~y}ra(r),(Be&6)===0&&(xr=qe()+500,en(0))}}break;case 31:case 13:f=il(r,2),f!==null&&Et(f,r,2),pr(),eo(r,2)}if(r=ao(s),r===null&&Vc(e,t,s,Or,a),r===n)break;n=r}n!==null&&s.stopPropagation()}else Vc(e,t,s,null,a)}}function ao(e){return e=si(e),lo(e)}var Or=null;function lo(e){if(Or=null,e=Al(e),e!==null){var t=m(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=v(t),e!==null)return e;e=null}else if(a===31){if(e=j(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Or=e,null}function gm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aa()){case jn:return 2;case Sl:return 8;case fe:case ye:return 32;case we:return 268435456;default:return 32}default:return 32}}var so=!1,Ia=null,Wa=null,Pa=null,cn=new Map,on=new Map,el=[],yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(e,t){switch(e){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":cn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":on.delete(t.pointerId)}}function un(e,t,a,s,n,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:r,targetContainers:[n]},t!==null&&(t=El(t),t!==null&&hm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function bp(e,t,a,s,n){switch(t){case"focusin":return Ia=un(Ia,e,t,a,s,n),!0;case"dragenter":return Wa=un(Wa,e,t,a,s,n),!0;case"mouseover":return Pa=un(Pa,e,t,a,s,n),!0;case"pointerover":var r=n.pointerId;return cn.set(r,un(cn.get(r)||null,e,t,a,s,n)),!0;case"gotpointercapture":return r=n.pointerId,on.set(r,un(on.get(r)||null,e,t,a,s,n)),!0}return!1}function bm(e){var t=Al(e.target);if(t!==null){var a=m(t);if(a!==null){if(t=a.tag,t===13){if(t=v(a),t!==null){e.blockedOn=t,Oo(e.priority,function(){pm(a)});return}}else if(t===31){if(t=j(a),t!==null){e.blockedOn=t,Oo(e.priority,function(){pm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _r(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ao(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);li=s,a.target.dispatchEvent(s),li=null}else return t=El(a),t!==null&&hm(t),e.blockedOn=a,!1;t.shift()}return!0}function vm(e,t,a){_r(e)&&a.delete(t)}function vp(){so=!1,Ia!==null&&_r(Ia)&&(Ia=null),Wa!==null&&_r(Wa)&&(Wa=null),Pa!==null&&_r(Pa)&&(Pa=null),cn.forEach(vm),on.forEach(vm)}function Ur(e,t){e.blockedOn===t&&(e.blockedOn=null,so||(so=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,vp)))}var Br=null;function jm(e){Br!==e&&(Br=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Br===e&&(Br=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(lo(s||a)===null)continue;break}var r=El(a);r!==null&&(e.splice(t,3),t-=3,ac(r,{pending:!0,data:n,method:a.method,action:s},s,n))}}))}function cs(e){function t(y){return Ur(y,e)}Ia!==null&&Ur(Ia,e),Wa!==null&&Ur(Wa,e),Pa!==null&&Ur(Pa,e),cn.forEach(t),on.forEach(t);for(var a=0;a<el.length;a++){var s=el[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<el.length&&(a=el[0],a.blockedOn===null);)bm(a),a.blockedOn===null&&el.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var n=a[s],r=a[s+1],o=n[jt]||null;if(typeof r=="function")o||jm(a);else if(o){var f=null;if(r&&r.hasAttribute("formAction")){if(n=r,o=r[jt]||null)f=o.formAction;else if(lo(n)!==null)continue}else f=o.action;typeof f=="function"?a[s+1]=f:(a.splice(s,3),s-=3),jm(a)}}}function Nm(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(o){return n=o})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function no(e){this._internalRoot=e}kr.prototype.render=no.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var a=t.current,s=kt();mm(a,s,e,t,null,null)},kr.prototype.unmount=no.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mm(e.current,2,null,e,null,null),pr(),t[Cl]=null}};function kr(e){this._internalRoot=e}kr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Do();e={blockedOn:null,target:e,priority:t};for(var a=0;a<el.length&&t!==0&&t<el[a].priority;a++);el.splice(a,0,e),a===0&&bm(e)}};var wm=d.version;if(wm!=="19.2.0")throw Error(c(527,wm,"19.2.0"));le.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=g(t),e=e!==null?R(e):null,e=e===null?null:e.stateNode,e};var jp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rr.isDisabled&&Rr.supportsFiber)try{zt=Rr.inject(jp),Je=Rr}catch{}}return fn.createRoot=function(e,t){if(!h(e))throw Error(c(299));var a=!1,s="",n=zd,r=Md,o=Dd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=dm(e,1,!1,null,null,a,s,null,n,r,o,Nm),e[Cl]=t.current,qc(e),new no(t)},fn.hydrateRoot=function(e,t,a){if(!h(e))throw Error(c(299));var s=!1,n="",r=zd,o=Md,f=Dd,y=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(f=a.onRecoverableError),a.formState!==void 0&&(y=a.formState)),t=dm(e,1,!0,t,a??null,s,n,y,r,o,f,Nm),t.context=fm(null),a=t.current,s=kt(),s=Kr(s),n=Ha(s),n.callback=null,qa(a,n,s),a=s,t.current.lanes=a,vs(t,a),ra(t),e[Cl]=t.current,qc(e),new kr(t)},fn.version="19.2.0",fn}var _m;function Dp(){if(_m)return co.exports;_m=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(d){console.error(d)}}return i(),co.exports=Mp(),co.exports}var Op=Dp();const _p=qm(Op),ta="https://mamaty-backend.onrender.com/myapp",Hr=`${ta}/admin`,Vm=async(i,d)=>{const u=`${Hr}/login`;console.log(`[LOGIN ATTEMPT] Tentative de connexion : ${u}`);try{const c=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,password:d})});if(console.log("[LOGIN RESPONSE] Rponse brute du serveur:",c),console.log(`[LOGIN RESPONSE] Statut: ${c.status} ${c.statusText}`),!c.ok){const v=await c.text();c.status>=400&&c.status<500?console.warn("[LOGIN FAILED] Authentification choue:",v):console.error("[LOGIN ERROR] Erreur serveur:",v);let j;try{j=JSON.parse(v)}catch{throw new Error(`Erreur du serveur : ${c.status}. La rponse n'est pas du JSON valide.`)}let w=j.message||"chec de la connexion";const g=w.toLowerCase();throw g.includes("invalid password")||g.includes("wrong password")||g.includes("password is incorrect")?w="Mot de passe incorrect.":g.includes("user not found")||g.includes("admin not found")||g.includes("no user found")||g.includes("account not found")||g.includes("user doesn't exist")?w="Compte administrateur introuvable.":g.includes("invalid email")?w="Adresse email invalide.":g.includes("invalid credentials")||g.includes("bad credentials")?w="Identifiants incorrects.":g.includes("unauthorized")||g.includes("access denied")||g.includes("forbidden")?w="Accs refus.":g.includes("server error")||g.includes("internal server error")?w="Erreur interne du serveur.":(g.includes("please fill out")||g.includes("required"))&&(w="Veuillez remplir tous les champs obligatoires."),new Error(w)}const h=await c.json();if(console.log("[LOGIN SUCCESS] Donnes de la rponse analyses:",h),!h.token)throw console.error("[LOGIN ERROR] Token non trouv dans la rponse JSON."),new Error("Token non trouv dans la rponse");const m=h.user||h.admin||h.data;return m&&(console.log("[LOGIN SUCCESS] Utilisateur trouv, mise en cache."),localStorage.setItem("currentUser",JSON.stringify(m))),console.log("[LOGIN SUCCESS] Connexion russie, token reu."),h.token}catch(c){const h=c instanceof Error?c.message:String(c);throw h.includes("incorrect")||h.includes("introuvable")||h.includes("invalide")||h.includes("refus")?console.warn(`[LOGIN FAILURE] chec d'authentification: ${h}`):console.error("[LOGIN CRITICAL] Erreur inattendue lors de la tentative de connexion:",c),c}},Up=async(i,d)=>{const u=await fetch(`${Hr}/users`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(d)});if(!u.ok){let h;try{h=await u.json()}catch{}let m=(h==null?void 0:h.message)||"Impossible de crer l'administrateur";throw typeof m=="string"&&m.includes("E11000 duplicate key error")&&m.includes("email")&&(m="Cet email est dj utilis."),new Error(m)}const c=await u.json();return c.admin||c.user||c},Bp=async i=>{try{const d=await fetch(`${Hr}/profile`,{method:"GET",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(!d.ok){console.warn("[GET PROFILE] Failed to fetch profile, status:",d.status);const h=localStorage.getItem("currentUser");if(h)return JSON.parse(h);throw new Error("Impossible de rcuprer le profil administrateur")}const u=await d.json(),c=u.user||u.admin||u.data||u;return localStorage.setItem("currentUser",JSON.stringify(c)),c}catch(d){console.error("[GET PROFILE] Error:",d);const u=localStorage.getItem("currentUser");if(u)return JSON.parse(u);throw d}},qr=async(i,d)=>{const u=new FormData;u.append("image",d);const c=await fetch(`${Hr}/upload-image`,{method:"POST",headers:{Authorization:`Bearer ${i}`},body:u});if(!c.ok){let m="Erreur lors du tlchargement de l'image";try{m=(await c.json()).message||m}catch{}throw new Error(m)}return(await c.json()).url},kp=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})}),Rp=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),Gm=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.125-1.274-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.125-1.274.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Lp=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),jl=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Ym=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),Ft=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),Rt=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),ca=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})}),Hp=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),qp=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),us=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Vp=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),xn=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 01-6.364 0M21 12a9 9 0 11-18 0 9 9 0 0118 0zM9 9.75h.008v.008H9v-.008zm6 0h.008v.008H15v-.008z"})}),hn=({className:i})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7h-4v-3c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 4h4v3h-4V4zm0 8h4v2h-4v-2z"}),l.jsx("circle",{cx:"12",cy:"14",r:"2",fill:"currentColor",className:"opacity-20"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12v4m-2-2h4"})]}),Qm=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),ds=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 15.546c-.523 0-1.046.151-1.5.454a2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.704 2.704 0 00-3 0 2.704 2.704 0 01-3 0 2.701 2.701 0 00-1.5-.454M9 6v2m3-2v2m3-2v2M9 3h.01M12 3h.01M15 3h.01M21 21v-7a2 2 0 00-2-2H5a2 2 0 00-2 2v7h18zm-3-9v-2a2 2 0 00-2-2H8a2 2 0 00-2 2v2h12z"})}),bt=({className:i})=>l.jsxs("svg",{className:`animate-spin ${i}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Re=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),bn=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),Gp=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),pn=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),gn=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(180 12 12)",d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),Um=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),Bm=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),vo=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),Yp=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),Qp=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),km=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4-4m0 0l-4 4m4-4v12"})}),Xp=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),Lt=({className:i})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),vl=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}),Xm=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),$m=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),$p=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Zp=({className:i})=>l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:i,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Jp=({onLoginSuccess:i})=>{const[d,u]=x.useState(""),[c,h]=x.useState(""),[m,v]=x.useState(!1),[j,w]=x.useState(""),[g,R]=x.useState(!1),T=async S=>{S.preventDefault(),w(""),R(!0);try{const _=await Vm(d,c);i(_)}catch(_){_ instanceof Error?w(_.message):w("Impossible de se connecter au serveur. Veuillez ressayer.")}finally{R(!1)}},Y=(S,_)=>{S.target.setCustomValidity(_)},k=S=>{S.target.setCustomValidity("")};return l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4 transition-colors duration-300",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsxs("div",{className:"bg-white shadow-default rounded-2xl p-8 space-y-6 border border-border-color",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-extrabold text-premier",children:"Mamaty"}),l.jsx("p",{className:"text-text-secondary mt-2",children:"Connectez-vous  votre tableau de bord"})]}),l.jsxs("form",{onSubmit:T,className:"space-y-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:l.jsx(kp,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"email",id:"email",value:d,onChange:S=>u(S.target.value),onInvalid:S=>Y(S,"Veuillez saisir une adresse e-mail valide."),onInput:k,placeholder:"Adresse e-mail",className:"w-full pl-10 pr-4 py-3 border border-border-color rounded-lg bg-white text-text-primary focus:outline-none focus:ring-2 focus:ring-premier transition-shadow",required:!0})]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:l.jsx(Rp,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:m?"text":"password",id:"password",value:c,onChange:S=>h(S.target.value),onInvalid:S=>Y(S,"Veuillez saisir votre mot de passe."),onInput:k,placeholder:"Mot de passe",className:"w-full pl-10 pr-12 py-3 border border-border-color rounded-lg bg-white text-text-primary focus:outline-none focus:ring-2 focus:ring-premier transition-shadow",required:!0}),l.jsx("button",{type:"button",onClick:()=>v(!m),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 focus:outline-none","aria-label":m?"Masquer le mot de passe":"Afficher le mot de passe",children:m?l.jsx(vl,{className:"h-5 w-5"}):l.jsx(Lt,{className:"h-5 w-5"})})]}),j&&l.jsx("p",{className:"text-red-500 text-sm text-center",children:j}),l.jsx("button",{type:"submit",disabled:g,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-premier hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:g?l.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Se connecter"})]})]})})})},ia=({href:i,icon:d,active:u,onClick:c})=>l.jsx("a",{href:i,onClick:h=>{h.preventDefault(),c()},className:`w-12 h-12 flex items-center justify-center rounded-lg transition-colors duration-200 ${u?"bg-premier text-white":"text-text-secondary hover:bg-gray-100 hover:text-premier"}`,title:"Navigation",children:No.cloneElement(d,{className:"h-6 w-6"})}),Rm=({currentPage:i,onNavigate:d})=>l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:l.jsx("svg",{className:"h-8 w-8 text-premier",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M10 2a8 8 0 100 16 8 8 0 000-16zM5 10a5 5 0 1110 0 5 5 0 01-10 0z"})})}),l.jsxs("nav",{className:"flex flex-col items-center space-y-4",children:[l.jsx(ia,{href:"#",icon:l.jsx(qp,{className:"h-6 w-6"}),onClick:()=>d("dashboard"),active:i==="dashboard"}),l.jsx(ia,{href:"#",icon:l.jsx(Gm,{className:"h-6 w-6"}),onClick:()=>d("users"),active:i==="users"}),l.jsx(ia,{href:"#",icon:l.jsx(xn,{className:"h-6 w-6"}),onClick:()=>d("babies"),active:i==="babies"}),l.jsx(ia,{href:"#",icon:l.jsx(hn,{className:"h-6 w-6"}),onClick:()=>d("doctors"),active:i==="doctors"}),l.jsx(ia,{href:"#",icon:l.jsx(Vp,{className:"h-6 w-6"}),onClick:()=>d("categories"),active:i==="categories"}),l.jsx(ia,{href:"#",icon:l.jsx(Qm,{className:"h-6 w-6"}),onClick:()=>d("advices"),active:i==="advices"}),l.jsx(ia,{href:"#",icon:l.jsx(us,{className:"h-6 w-6"}),onClick:()=>d("articles"),active:i==="articles"}),l.jsx(ia,{href:"#",icon:l.jsx(ds,{className:"h-6 w-6"}),onClick:()=>d("recipes"),active:i==="recipes"}),l.jsx(ia,{href:"#",icon:l.jsx(Zp,{className:"h-6 w-6"}),onClick:()=>d("avatars"),active:i==="avatars"}),l.jsx(ia,{href:"#",icon:l.jsx($p,{className:"h-6 w-6"}),onClick:()=>d("infos"),active:i==="infos"})]})]}),Kp=({isOpen:i,onClose:d,currentPage:u,onNavigate:c})=>l.jsxs(l.Fragment,{children:[l.jsx("aside",{className:"w-20 bg-white border-r border-border-color flex-col flex-shrink-0 hidden md:flex items-center py-6 space-y-6",children:l.jsx(Rm,{currentPage:u,onNavigate:c})}),l.jsxs("div",{className:`fixed inset-0 z-30 md:hidden ${i?"block":"hidden"}`,children:[l.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:d,"aria-hidden":"true"}),l.jsx("aside",{className:`absolute top-0 left-0 h-full w-20 bg-white border-r border-border-color flex flex-col items-center py-6 space-y-6 transform transition-transform ease-in-out duration-300 ${i?"translate-x-0":"-translate-x-full"}`,children:l.jsx(Rm,{currentPage:u,onNavigate:c})})]})]}),Fp=(i,d)=>{if(!i||typeof i!="string")return"N/A";if(d&&typeof d=="string")return`${i.charAt(0)}${d.charAt(0)}`.toUpperCase();const u=i.split(" ").filter(Boolean);return u.length>1?`${u[0].charAt(0)}${u[u.length-1].charAt(0)}`.toUpperCase():u.length===1&&u[0].length>1?u[0].substring(0,2).toUpperCase():i.length>0?i.substring(0,2).toUpperCase():"N/A"},za=({name:i,lastname:d,src:u,size:c="md",className:h=""})=>{const[m,v]=No.useState(!1),j={sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-12 w-12 text-base"};if(!u||m){const g=typeof i=="string"?i:"Inconnu",R=Fp(g,d);return l.jsx("div",{className:`rounded-full flex items-center justify-center font-semibold ${j[c]} bg-cyan-100 text-cyan-800 ${h}`,"aria-label":`${g} ${d||""}`,children:R})}return l.jsx("img",{className:`rounded-full object-cover ${j[c]} ${h}`,src:u,alt:`${i} ${d||""}`,onError:()=>v(!0)})},Ip=({onLogout:i,onMenuClick:d,user:u,onEditProfile:c})=>{const[h,m]=x.useState(!1),v=x.useRef(null);x.useEffect(()=>{const g=R=>{v.current&&!v.current.contains(R.target)&&m(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const w=u?u.name?`${u.name} ${u.lastname||""}`:u.email&&typeof u.email=="string"?u.email.split("@")[0]:"Admin":"Admin";return l.jsxs("header",{className:"bg-white h-16 flex items-center justify-between px-4 sm:px-6 flex-shrink-0 border-b border-border-color",children:[l.jsx("div",{className:"flex items-center space-x-4",children:l.jsx("button",{className:"text-text-secondary hover:text-text-primary md:hidden",onClick:d,children:l.jsx(Hp,{className:"h-6 w-6"})})}),l.jsxs("div",{className:"relative",ref:v,children:[l.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>m(!h),children:[l.jsxs("span",{className:"text-sm font-medium text-text-primary hidden sm:inline",children:["Bonjour, ",w]}),l.jsx(za,{name:(u==null?void 0:u.name)||"Admin",lastname:u==null?void 0:u.lastname,src:u==null?void 0:u.avatar,size:"md"})]}),h&&l.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 text-text-primary border border-border-color",children:[l.jsxs("button",{onClick:()=>{m(!1),c()},className:"w-full flex items-center px-4 py-2 text-sm text-text-secondary hover:bg-gray-100",children:[l.jsx(ca,{className:"h-5 w-5 mr-3"}),"Modifier profil"]}),l.jsxs("button",{onClick:i,className:"w-full flex items-center px-4 py-2 text-sm text-text-secondary hover:bg-gray-100 border-t border-gray-100",children:[l.jsx(Lp,{className:"h-5 w-5 mr-3"}),"Se dconnecter"]})]})]})]})},Vr=`${ta}/admin/users`,Gr=async i=>{if(i.status===401||i.status===403)throw new Error("Session expire. Veuillez vous reconnecter.");if(!i.ok){let d;const u=i.headers.get("content-type");if(u&&u.includes("application/json"))d=await i.json();else{const h=await i.text();throw new Error(`Erreur du serveur : ${i.status}. ${h}`)}let c=d.message||"Une erreur est survenue.";throw typeof c=="string"&&c.includes("E11000 duplicate key error")&&(c.includes("phone")?c="Ce numro de tlphone est dj utilis par un autre utilisateur.":c.includes("email")?c="Cette adresse email est dj utilise par un autre utilisateur.":c="Une entre avec ces informations existe dj (doublon)."),new Error(c)}return i.status===204||i.headers.get("content-length")==="0"?null:i.json()},Zm=async i=>{const d=await fetch(Vr,{method:"GET",headers:{Authorization:`Bearer ${i}`}});return(await Gr(d)).users.map(h=>{let m;return h.babies&&Array.isArray(h.babies)&&(m=h.babies.map(v=>{let j;if(typeof v.gender=="string"){const w=v.gender.toLowerCase();w==="male"?j="Male":w==="female"&&(j="Female")}return{...v,gender:j}})),{...h,babies:m||h.babies}})},Wp=async(i,d)=>{const u=await fetch(Vr,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(d)}),c=await Gr(u);return c.user||c},Jm=async(i,d,u)=>{const c=await fetch(`${Vr}/${d}`,{method:"PUT",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(u)}),h=await Gr(c);return h.user||h},Pp=async(i,d)=>{const u=await fetch(`${Vr}/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}});await Gr(u)},wo=`${ta}/admin/babies`,So=async i=>{if(i.status===401||i.status===403)throw new Error("Session expire. Veuillez vous reconnecter.");if(!i.ok){let d;const u=i.headers.get("content-type");if(u&&u.includes("application/json"))d=await i.json();else{const c=await i.text();throw new Error(`Erreur du serveur : ${i.status}. ${c}`)}throw new Error(d.message||"Une erreur est survenue.")}return i.status===204||i.headers.get("content-length")==="0"?null:i.json()},Km=async i=>{const d=await fetch(wo,{method:"GET",headers:{Authorization:`Bearer ${i}`}});return(await So(d)).babies.map(h=>{let m;if(typeof h.gender=="string"){const v=h.gender.toLowerCase();v==="male"?m="Male":v==="female"&&(m="Female")}return{...h,gender:m}})},eg=async(i,d,u)=>{const c=await fetch(`${wo}/${d}`,{method:"PUT",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(u)});return(await So(c)).baby},Fm=async(i,d)=>{const u=await fetch(`${wo}/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}});await So(u)},Yr=`${ta}/admin/doctors`,Qr=async i=>{if(i.status===401||i.status===403)throw new Error("Session expire. Veuillez vous reconnecter.");if(!i.ok){let d;const u=i.headers.get("content-type");if(u&&u.includes("application/json"))d=await i.json();else throw new Error(`Erreur du serveur : ${i.status}. Rponse inattendue.`);throw new Error(d.message||"Une erreur est survenue.")}return i.status===204||i.headers.get("content-length")==="0"?null:i.json()},Im=async i=>{const d=await fetch(Yr,{method:"GET",headers:{Authorization:`Bearer ${i}`}});return(await Qr(d)).doctors},tg=async(i,d)=>{const u=await fetch(Yr,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(d)});return Qr(u)},ag=async(i,d,u)=>{const c=await fetch(`${Yr}/${d}`,{method:"PUT",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(u)});return Qr(c)},lg=async(i,d)=>{const u=await fetch(`${Yr}/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}});await Qr(u)},fs=`${ta}/admin/recipes`,ms=async i=>{if(i.status===401||i.status===403)throw new Error("Session expire. Veuillez vous reconnecter.");if(!i.ok){let d;const u=i.headers.get("content-type");if(u&&u.includes("application/json"))d=await i.json();else throw new Error(`Erreur du serveur : ${i.status}. Rponse inattendue.`);throw new Error(d.message||"Une erreur est survenue.")}return i.status===204||i.headers.get("content-length")==="0"?null:i.json()},Wm=async i=>{const d=await fetch(`${fs}?t=${new Date().getTime()}`,{method:"GET",headers:{Authorization:`Bearer ${i}`}});return(await ms(d)).recipes||[]},sg=async(i,d)=>{const u=await fetch(fs,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(d)});return ms(u)},ng=async(i,d,u)=>{const c=await fetch(`${fs}/${d}`,{method:"PUT",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(u)}),h=await ms(c);return h.recipe||h},rg=async(i,d)=>{const u=await fetch(`${fs}/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}});await ms(u)},ig=async(i,d)=>{const u=await fetch(`${fs}/${d}/activate`,{method:"PATCH",headers:{Authorization:`Bearer ${i}`}}),c=await ms(u);return c.recipe||c},cg=async(i,d)=>{const u=await fetch(`${fs}/${d}/deactivate`,{method:"PATCH",headers:{Authorization:`Bearer ${i}`}}),c=await ms(u);return c.recipe||c},xs=`${ta}/admin/articles`,hs=async i=>{if(i.status===401||i.status===403)throw new Error("Session expire. Veuillez vous reconnecter.");if(!i.ok){let d;const u=i.headers.get("content-type");if(u&&u.includes("application/json"))d=await i.json();else throw new Error(`Erreur du serveur : ${i.status}. Rponse inattendue.`);throw new Error(d.message||"Une erreur est survenue.")}return i.status===204||i.headers.get("content-length")==="0"?null:i.json()},Pm=async i=>{const d=await fetch(`${xs}?t=${new Date().getTime()}`,{method:"GET",headers:{Authorization:`Bearer ${i}`}});return(await hs(d)).articles||[]},og=async(i,d)=>{const u=await fetch(xs,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(d)});return hs(u)},ug=async(i,d,u)=>{const c=await fetch(`${xs}/${d}`,{method:"PUT",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(u)});return hs(c)},dg=async(i,d)=>{const u=await fetch(`${xs}/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}});await hs(u)},fg=async(i,d)=>{const u=await fetch(`${xs}/${d}/activate`,{method:"PATCH",headers:{Authorization:`Bearer ${i}`}}),c=await hs(u);return c.article||c},mg=async(i,d)=>{const u=await fetch(`${xs}/${d}/deactivate`,{method:"PATCH",headers:{Authorization:`Bearer ${i}`}}),c=await hs(u);return c.article||c},ps=`${ta}/admin/advices`,gs=async i=>{if(i.status===401||i.status===403)throw new Error("Session expire. Veuillez vous reconnecter.");if(!i.ok){let d;const u=i.headers.get("content-type");if(u&&u.includes("application/json"))d=await i.json();else throw new Error(`Erreur du serveur : ${i.status}. Rponse inattendue.`);throw new Error(d.message||"Une erreur est survenue.")}return i.status===204||i.headers.get("content-length")==="0"?null:i.json()},ex=async i=>{const d=await fetch(ps,{method:"GET",headers:{Authorization:`Bearer ${i}`}});return(await gs(d)).advices||[]},xg=async(i,d)=>{const u=await fetch(ps,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(d)});return gs(u)},hg=async(i,d,u)=>{const c=await fetch(`${ps}/${d}`,{method:"PUT",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(u)});return gs(c)},pg=async(i,d)=>{const u=await fetch(`${ps}/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}});await gs(u)},gg=async(i,d)=>{const u=await fetch(`${ps}/${d}/activate`,{method:"PATCH",headers:{Authorization:`Bearer ${i}`}}),c=await gs(u);return c.advice||c},yg=async(i,d)=>{const u=await fetch(`${ps}/${d}/deactivate`,{method:"PATCH",headers:{Authorization:`Bearer ${i}`}}),c=await gs(u);return c.advice||c},os=({title:i,count:d,icon:u,colorName:c})=>{const h={blue:{bg:"bg-blue-500",text:"text-blue-600",iconBg:"bg-blue-50"},purple:{bg:"bg-purple-500",text:"text-purple-600",iconBg:"bg-purple-50"},cyan:{bg:"bg-cyan-500",text:"text-cyan-600",iconBg:"bg-cyan-50"},green:{bg:"bg-green-500",text:"text-green-600",iconBg:"bg-green-50"},yellow:{bg:"bg-yellow-500",text:"text-yellow-600",iconBg:"bg-yellow-50"},indigo:{bg:"bg-indigo-500",text:"text-indigo-600",iconBg:"bg-indigo-50"}},m=h[c]||h.blue;return l.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-6 shadow-sm border border-border-color bg-white group hover:shadow-md transition-all duration-300",children:[l.jsx("div",{className:`absolute -right-6 -top-6 h-24 w-24 rounded-full opacity-10 transition-transform group-hover:scale-125 ${m.bg}`}),l.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-text-secondary",children:i}),l.jsx("h3",{className:"mt-1 text-3xl font-extrabold text-text-primary",children:d})]}),l.jsx("div",{className:`p-3 rounded-xl ${m.iconBg}`,children:l.jsx(u,{className:`h-7 w-7 ${m.text}`})})]})]})},mn=({active:i,label:d,icon:u,onClick:c,colorClass:h="text-premier"})=>l.jsxs("button",{onClick:c,className:`
            flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200
            ${i?"bg-premier text-white shadow-md transform scale-105":"bg-gray-100 text-text-secondary hover:bg-gray-200 hover:text-text-primary"}
        `,children:[u&&l.jsx(u,{className:`h-4 w-4 ${i?"text-white":h}`}),l.jsx("span",{children:d})]}),bg=({rank:i,image:d,title:u,subtitle:c,statValue:h,statIcon:m,statColor:v="text-text-primary"})=>{let j;i===1?j=l.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-yellow-100 text-yellow-700 font-bold border border-yellow-200",children:""}):i===2?j=l.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-gray-600 font-bold border border-gray-200",children:""}):i===3?j=l.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-orange-100 text-orange-700 font-bold border border-orange-200",children:""}):j=l.jsxs("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-white text-text-secondary font-semibold border border-border-color",children:["#",i]});const w=Array.isArray(d)&&d.length>0?d[0]:typeof d=="string"?d:void 0;return l.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-100",children:[l.jsx("div",{className:"flex-shrink-0",children:j}),l.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-lg bg-gray-200 overflow-hidden border border-gray-200",children:w?l.jsx("img",{src:w,alt:u,className:"h-full w-full object-cover"}):l.jsx("div",{className:"h-full w-full flex items-center justify-center text-gray-400 bg-gray-100",children:l.jsx(vo,{className:"h-5 w-5 opacity-50"})})}),l.jsxs("div",{className:"flex-grow min-w-0",children:[l.jsx("h4",{className:"text-sm font-bold text-text-primary truncate",title:u,children:u}),c&&l.jsx("p",{className:"text-xs text-text-secondary truncate",children:c})]}),l.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1 rounded-lg bg-gray-50 border border-gray-100 ${v}`,children:[l.jsx(m,{className:"h-4 w-4"}),l.jsx("span",{className:"font-bold text-sm",children:h})]})]})},vg=({token:i})=>{const[d,u]=x.useState(!0),[c,h]=x.useState({users:[],babies:[],doctors:[],recipes:[],articles:[],advices:[]}),[m,v]=x.useState("recipes"),[j,w]=x.useState("views");x.useEffect(()=>{(async()=>{try{const[Y,k,S,_,H,ee]=await Promise.all([Zm(i),Km(i),Im(i),Wm(i),Pm(i),ex(i)]);h({users:Y,babies:k,doctors:S,recipes:_,articles:H,advices:ee})}catch(Y){console.error("Error loading dashboard data",Y)}finally{u(!1)}})()},[i]);const g=x.useMemo(()=>{const T={};return c.users.forEach(Y=>{Y.recipes&&Array.isArray(Y.recipes)&&Y.recipes.forEach(k=>{const S=typeof k=="string"?k:k._id;S&&(T[S]=(T[S]||0)+1)}),Y.articles&&Array.isArray(Y.articles)&&Y.articles.forEach(k=>{const S=typeof k=="string"?k:k._id;S&&(T[S]=(T[S]||0)+1)}),Y.doctors&&Array.isArray(Y.doctors)&&Y.doctors.forEach(k=>{const S=typeof k=="string"?k:k._id;S&&(T[S]=(T[S]||0)+1)})}),T},[c.users]),R=x.useMemo(()=>{let T=[],Y=()=>0;return m==="recipes"?T=[...c.recipes]:m==="articles"?T=[...c.articles]:m==="advices"?T=[...c.advices]:m==="doctors"&&(T=[...c.doctors]),j==="likes"?Y=(k,S)=>{var _,H;return(((_=S.likes)==null?void 0:_.length)||0)-(((H=k.likes)==null?void 0:H.length)||0)}:j==="dislikes"?Y=(k,S)=>{var _,H;return(((_=S.dislikes)==null?void 0:_.length)||0)-(((H=k.dislikes)==null?void 0:H.length)||0)}:j==="favorites"?Y=(k,S)=>(g[S._id]||0)-(g[k._id]||0):j==="rating"?Y=(k,S)=>(S.rating||0)-(k.rating||0):j==="views"&&(Y=(k,S)=>{var _,H;return(((_=S.viewers)==null?void 0:_.length)||0)-(((H=k.viewers)==null?void 0:H.length)||0)}),T.sort(Y).slice(0,5)},[c,m,j,g]);return x.useEffect(()=>{m==="doctors"?(j==="likes"||j==="dislikes"||j==="views")&&w("rating"):m==="advices"?(j==="rating"||j==="favorites")&&w("views"):j==="rating"&&w("views")},[m]),d?l.jsx("div",{className:"flex h-full items-center justify-center",children:l.jsx(bt,{className:"h-12 w-12 text-premier"})}):l.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 pb-10",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-text-primary",children:"Tableau de bord"}),l.jsx("p",{className:"text-text-secondary mt-1",children:"Vue d'ensemble des statistiques et performances."})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[l.jsx(os,{title:"Utilisateurs",count:c.users.length,icon:Gm,colorName:"blue"}),l.jsx(os,{title:"Bbs",count:c.babies.length,icon:xn,colorName:"purple"}),l.jsx(os,{title:"Mdecins",count:c.doctors.length,icon:hn,colorName:"cyan"}),l.jsx(os,{title:"Recettes",count:c.recipes.length,icon:ds,colorName:"green"}),l.jsx(os,{title:"Articles",count:c.articles.length,icon:us,colorName:"yellow"}),l.jsx(os,{title:"Conseils",count:c.advices.length,icon:Qm,colorName:"indigo"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-border-color overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-border-color",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-text-primary flex items-center gap-2",children:[l.jsx(vo,{className:"h-6 w-6 text-premier"}),"Classements & Tendances"]}),l.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"Analysez les contenus les plus performants."})]}),l.jsx("div",{className:"flex bg-gray-100 p-1 rounded-lg overflow-x-auto",children:[{id:"recipes",label:"Recettes"},{id:"articles",label:"Articles"},{id:"advices",label:"Conseils"},{id:"doctors",label:"Mdecins"}].map(T=>l.jsx("button",{onClick:()=>v(T.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-all whitespace-nowrap ${m===T.id?"bg-white text-premier shadow-sm":"text-text-secondary hover:text-text-primary"}`,children:T.label},T.id))})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-6",children:[m!=="doctors"&&l.jsx(mn,{active:j==="views",label:"Les plus vus",icon:Lt,onClick:()=>w("views"),colorClass:"text-blue-600"}),m!=="doctors"&&l.jsxs(l.Fragment,{children:[l.jsx(mn,{active:j==="likes",label:"Les plus aims",icon:pn,onClick:()=>w("likes"),colorClass:"text-green-600"}),l.jsx(mn,{active:j==="dislikes",label:"Les moins aims",icon:gn,onClick:()=>w("dislikes"),colorClass:"text-red-500"})]}),m==="doctors"&&l.jsx(mn,{active:j==="rating",label:"Mieux nots",icon:Bm,onClick:()=>w("rating"),colorClass:"text-yellow-500"}),m!=="advices"&&l.jsx(mn,{active:j==="favorites",label:"Les plus favoris",icon:Um,onClick:()=>w("favorites"),colorClass:"text-rose-500"})]})]}),l.jsx("div",{className:"p-4 grid grid-cols-1 gap-2",children:R.length>0?R.map((T,Y)=>{var A,G,ne;let k="",S="",_="",H=0,ee=vo,P="text-text-secondary";if(m==="recipes"){const Z=T;k=Z.imageUrl,S=Z.title,_=Z.category&&(typeof Z.category=="object"?Z.category.name:"Catgorie")}else if(m==="articles"){const Z=T;k=Array.isArray(Z.imageUrl)?Z.imageUrl[0]:Z.imageUrl,S=Z.title,_=Z.category&&(typeof Z.category=="object"?Z.category.name:"Catgorie")}else if(m==="advices"){const Z=T;k=Array.isArray(Z.imageUrl)?Z.imageUrl[0]:Z.imageUrl,S=Z.title,_="Conseil"}else if(m==="doctors"){const Z=T;k=Z.imageUrl||"",S=Z.name,_=Z.specialty}return j==="views"?(H=((A=T.viewers)==null?void 0:A.length)||0,ee=Lt,P="text-blue-600 bg-blue-50 border-blue-100"):j==="likes"?(H=((G=T.likes)==null?void 0:G.length)||0,ee=pn,P="text-green-600 bg-green-50 border-green-100"):j==="dislikes"?(H=((ne=T.dislikes)==null?void 0:ne.length)||0,ee=gn,P="text-red-600 bg-red-50 border-red-100"):j==="favorites"?(H=g[T._id]||0,ee=Um,P="text-rose-600 bg-rose-50 border-rose-100"):j==="rating"&&(H=T.rating||0,ee=Bm,P="text-yellow-600 bg-yellow-50 border-yellow-100",m==="doctors"&&(P="text-cyan-600 bg-cyan-50 border-cyan-100")),l.jsx(bg,{rank:Y+1,image:k,title:S,subtitle:_,statValue:H,statIcon:ee,statColor:P},T._id)}):l.jsx("div",{className:"py-12 text-center",children:l.jsx("p",{className:"text-text-secondary",children:"Aucune donne disponible pour ce classement."})})})]})]})},Xr=`${ta}/admin/categories`,$r=async i=>{if(i.status===401||i.status===403)throw new Error("Session expire. Veuillez vous reconnecter.");if(!i.ok){let d;const u=i.headers.get("content-type");if(u&&u.includes("application/json"))d=await i.json();else throw new Error(`Erreur du serveur : ${i.status}. Rponse inattendue.`);throw new Error(d.message||"Une erreur est survenue.")}return i.status===204||i.headers.get("content-length")==="0"?null:i.json()},vn=async i=>{const d=await fetch(Xr,{method:"GET",headers:{Authorization:`Bearer ${i}`}}),u=await $r(d);return u.categories||u},jg=async(i,d)=>{const u=await fetch(Xr,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(d)}),c=await $r(u);return c.category||c},Ng=async(i,d,u)=>{const c=await fetch(`${Xr}/${d}`,{method:"PUT",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(u)}),h=await $r(c);return h.category||h},wg=async(i,d)=>{const u=await fetch(`${Xr}/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}});await $r(u)},Sg=i=>{if(!i||i.startsWith("0000-00-00"))return"N/A";try{let d;if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(i)){const u=i.split("/");d=new Date(Number(u[2]),Number(u[1])-1,Number(u[0]))}else d=new Date(i);return isNaN(d.getTime())?"N/A":d.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}catch{return"N/A"}},Cg=({users:i,onEdit:d,onDelete:u,onViewDetails:c,onGenderClick:h})=>l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-border-color",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Client"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Tlphone"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Genre"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Rle"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Relations / Favoris"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Inscrit le"}),l.jsx("th",{scope:"col",className:"relative px-6 py-3",children:l.jsx("span",{className:"sr-only",children:"Actions"})})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-border-color",children:i.map(m=>{var v,j,w,g,R,T,Y,k;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(za,{name:m.name,lastname:m.lastname,src:m.avatar})}),l.jsxs("div",{className:"ml-4",children:[l.jsxs("div",{className:"text-sm font-medium text-text-primary",children:[m.name," ",m.lastname]}),l.jsx("div",{className:"text-sm text-text-secondary",children:m.email})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:m.phone||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:m.gender?l.jsx("button",{onClick:()=>m.gender&&h(m.gender),className:"cursor-pointer hover:text-premier transition-colors",children:m.gender==="male"?"Homme":m.gender==="female"?"Femme":"Autre"}):"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:m.role==="admin"?l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Administrateur"}):l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Utilisateur"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>c(m,"babies"),className:`inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium transition-colors ${(((v=m.babies)==null?void 0:v.length)||0)>0?"bg-purple-100 text-purple-700 hover:bg-purple-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,title:"Bbs",children:[l.jsx(xn,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:((j=m.babies)==null?void 0:j.length)||0})]}),l.jsxs("button",{onClick:()=>c(m,"doctors"),className:`inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium transition-colors ${(((w=m.doctors)==null?void 0:w.length)||0)>0?"bg-blue-100 text-blue-700 hover:bg-blue-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,title:"Mdecins favoris",children:[l.jsx(hn,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:((g=m.doctors)==null?void 0:g.length)||0})]}),l.jsxs("button",{onClick:()=>c(m,"recipes"),className:`inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium transition-colors ${(((R=m.recipes)==null?void 0:R.length)||0)>0?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,title:"Recettes favorites",children:[l.jsx(ds,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:((T=m.recipes)==null?void 0:T.length)||0})]}),l.jsxs("button",{onClick:()=>c(m,"articles"),className:`inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium transition-colors ${(((Y=m.articles)==null?void 0:Y.length)||0)>0?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,title:"Articles favoris",children:[l.jsx(us,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:((k=m.articles)==null?void 0:k.length)||0})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:Sg(m.createdAt)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[l.jsx("button",{onClick:()=>d(m),className:"p-2 rounded-md text-text-secondary hover:bg-gray-100 hover:text-premier transition-colors","aria-label":`Modifier ${m.name}`,children:l.jsx(ca,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>u(m),disabled:m.email==="admin@mamaty.com",className:`p-2 rounded-md transition-colors ${m.email==="admin@mamaty.com"?"text-gray-300 cursor-not-allowed":"text-text-secondary hover:bg-gray-100 hover:text-red-600"}`,"aria-label":`Supprimer ${m.name}`,children:l.jsx(Rt,{className:"h-5 w-5"})})]})})]},m._id)})})]})}),Nl=({currentPage:i,totalItems:d,itemsPerPage:u,onPageChange:c})=>{const h=Math.ceil(d/u),m=()=>{i>1&&c(i-1)},v=()=>{i<h&&c(i+1)},j=(i-1)*u+1,w=Math.min(i*u,d);return d===0?l.jsx("div",{className:"flex items-center justify-center px-6 py-4 border-t border-border-color",children:l.jsx("p",{className:"text-sm text-text-secondary",children:"Aucun rsultat trouv."})}):l.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 sm:gap-0 px-6 py-3 border-t border-border-color",children:[l.jsxs("p",{className:"text-sm text-text-secondary text-center sm:text-left",children:["Montrant ",l.jsx("span",{className:"font-medium text-text-primary",children:j}),"  ",l.jsx("span",{className:"font-medium text-text-primary",children:w})," sur ",l.jsx("span",{className:"font-medium text-text-primary",children:d})," rsultats"]}),l.jsxs("div",{className:"inline-flex items-center -space-x-px",children:[l.jsx("button",{onClick:m,disabled:i===1,className:"px-3 py-2 leading-tight text-text-secondary bg-white border border-border-color rounded-l-lg hover:bg-gray-100 hover:text-text-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Prcdent"}),l.jsx("button",{onClick:v,disabled:i===h,className:"px-3 py-2 leading-tight text-text-secondary bg-white border border-border-color rounded-r-lg hover:bg-gray-100 hover:text-text-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Suivant"})]})]})},oa=({title:i,headerContent:d,children:u})=>l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-border-color flex flex-col h-full",children:[l.jsxs("div",{className:"p-4 sm:p-6 border-b border-border-color flex flex-col md:flex-row justify-between md:items-center gap-4",children:[l.jsx("h1",{className:"text-xl font-bold text-text-primary",children:i}),l.jsx("div",{children:d})]}),l.jsx("div",{className:"flex-1 flex flex-col",children:u})]}),Ma=({isOpen:i,onClose:d,onConfirm:u,title:c,message:h,confirmButtonText:m="Confirmer",cancelButtonText:v="Annuler",isLoading:j=!1})=>i?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 flex justify-center items-center p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md transform transition-all",children:[l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("h3",{className:"text-lg font-medium leading-6 text-text-primary",children:c}),l.jsx("button",{onClick:d,className:"text-text-secondary hover:text-text-primary",children:l.jsx(Re,{className:"h-6 w-6"})})]}),l.jsx("div",{className:"mt-2",children:l.jsx("p",{className:"text-sm text-text-secondary",children:h})})]}),l.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex flex-row-reverse gap-3 rounded-b-lg",children:[l.jsx("button",{type:"button",onClick:u,disabled:j,className:"inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm disabled:opacity-50",children:j?"Suppression...":m}),l.jsx("button",{type:"button",onClick:d,disabled:j,className:"inline-flex justify-center rounded-md border border-border-color shadow-sm px-4 py-2 bg-white text-base font-medium text-text-primary hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:v})]})]})}):null,Qe=({options:i,value:d,onChange:u,labelPrefix:c=""})=>{const[h,m]=x.useState(!1),v=x.useRef(null),j=i.find(g=>g.value===d);x.useEffect(()=>{const g=R=>{v.current&&!v.current.contains(R.target)&&m(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const w=g=>{u(g),m(!1)};return l.jsxs("div",{className:"relative w-full sm:w-auto",ref:v,children:[l.jsxs("button",{type:"button",onClick:()=>m(!h),className:"w-full sm:w-auto flex items-center justify-between gap-2 pl-3 pr-2 py-2.5 bg-white border border-border-color rounded-lg text-sm text-text-primary focus:outline-none focus:ring-2 focus:ring-premier transition","aria-haspopup":"listbox","aria-expanded":h,children:[l.jsxs("span",{children:[c,j?j.label:""]}),l.jsx(Ym,{className:`h-4 w-4 text-gray-400 transition-transform ${h?"rotate-180":""}`})]}),h&&l.jsx("div",{className:"absolute top-full mt-2 w-full sm:w-56 bg-white border border-border-color rounded-lg shadow-lg z-10 py-1",role:"listbox",children:i.map(g=>l.jsxs("button",{onClick:()=>w(g.value),className:"w-full flex items-center justify-between text-left px-4 py-2 text-sm text-text-primary hover:bg-gray-50 transition-colors",role:"option","aria-selected":d===g.value,children:[l.jsx("span",{children:g.label}),d===g.value&&l.jsx(Gp,{className:"h-4 w-4 text-premier"})]},g.value))})]})},Ag=["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],Eg=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],Zr=({value:i,onChange:d,id:u,name:c})=>{const[h,m]=x.useState(!1),[v,j]=x.useState(new Date),w=x.useRef(null),g=new Date().getFullYear(),R=Array.from({length:g-1900+6},(A,G)=>1900+G).reverse(),T=A=>{if(!A||typeof A!="string")return new Date;const G=A.split("-");if(G.length===3){const ne=parseInt(G[0],10),Z=parseInt(G[1],10)-1,q=parseInt(G[2],10);return new Date(ne,Z,q)}return new Date};x.useEffect(()=>{if(i){const A=T(i);isNaN(A.getTime())||j(A)}},[i]),x.useEffect(()=>{const A=G=>{w.current&&!w.current.contains(G.target)&&m(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const Y=A=>{j(G=>{const ne=new Date(G);return ne.setMonth(G.getMonth()+A),ne})},k=A=>{j(G=>{const ne=new Date(G);return ne.setFullYear(A),ne})},S=A=>{j(G=>{const ne=new Date(G);return ne.setMonth(A),ne})},_=A=>{const G=v.getFullYear(),ne=v.getMonth(),Z=String(ne+1).padStart(2,"0"),q=String(A).padStart(2,"0"),M=`${G}-${Z}-${q}`;d(M),m(!1)},H=A=>{if(!A)return"";try{const G=T(A);return isNaN(G.getTime())?"":G.toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return""}},ee=()=>{const A=v.getFullYear(),G=v.getMonth(),ne=new Date(A,G,1).getDay(),Z=new Date(A,G+1,0).getDate(),q=i?T(i):null,M=new Date,$=[];for(let K=0;K<ne;K++)$.push(l.jsx("div",{className:"w-8 h-8"},`prev-${K}`));for(let K=1;K<=Z;K++){const xe=q&&q.getDate()===K&&q.getMonth()===G&&q.getFullYear()===A,ue=M.getDate()===K&&M.getMonth()===G&&M.getFullYear()===A;$.push(l.jsx("button",{type:"button",onClick:()=>_(K),className:`p-2 text-center text-sm rounded-full w-8 h-8 flex items-center justify-center transition-colors
            ${xe?"bg-premier text-white font-semibold":""}
            ${!xe&&ue?"bg-premier/10 text-premier font-semibold":""}
            ${xe?"":"text-text-primary hover:bg-gray-100"}
          `,children:K},K))}return $};return l.jsxs("div",{className:"relative",ref:w,children:[l.jsx("input",{type:"text",id:u,name:c,readOnly:!0,value:H(i),onClick:()=>m(!h),placeholder:"JJ/MM/AAAA",className:"w-full bg-background rounded-lg py-2.5 px-4 text-text-primary placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-premier focus:bg-white transition-colors cursor-pointer","aria-label":"Slectionner une date"}),h&&l.jsxs("div",{className:"absolute top-full mt-2 w-72 bg-white border border-border-color rounded-lg shadow-lg z-20 p-4 animate-fade-in-up",role:"dialog",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 gap-2",children:[l.jsx("button",{type:"button",onClick:()=>Y(-1),className:"p-1 rounded-full text-text-secondary hover:bg-gray-100 flex-shrink-0","aria-label":"Mois prcdent",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),l.jsxs("div",{className:"flex gap-1 flex-grow justify-center",children:[l.jsx("div",{className:"relative",children:l.jsx("select",{value:v.getMonth(),onChange:A=>S(parseInt(A.target.value)),className:"appearance-none bg-transparent font-semibold text-text-primary text-sm py-1 pr-4 cursor-pointer focus:outline-none text-center",children:Eg.map((A,G)=>l.jsx("option",{value:G,children:A},A))})}),l.jsx("div",{className:"relative",children:l.jsx("select",{value:v.getFullYear(),onChange:A=>k(parseInt(A.target.value)),className:"appearance-none bg-transparent font-semibold text-text-primary text-sm py-1 pr-4 cursor-pointer focus:outline-none text-center",children:R.map(A=>l.jsx("option",{value:A,children:A},A))})})]}),l.jsx("button",{type:"button",onClick:()=>Y(1),className:"p-1 rounded-full text-text-secondary hover:bg-gray-100 flex-shrink-0","aria-label":"Mois suivant",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]}),l.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs text-text-secondary mb-2 font-medium",children:Ag.map(A=>l.jsx("div",{children:A},A))}),l.jsx("div",{className:"grid grid-cols-7 gap-1 justify-items-center",children:ee()})]})]})},Co=`${ta}/admin/avatars`,Ao=async i=>{if(i.status===401||i.status===403)throw new Error("Session expire. Veuillez vous reconnecter.");if(!i.ok){let d;try{const u=i.headers.get("content-type");if(u&&u.includes("application/json"))d=await i.json();else{const c=await i.text();throw new Error(`Erreur du serveur : ${i.status}. ${c}`)}}catch(u){throw new Error(u.message||`Erreur du serveur : ${i.status}`)}throw new Error(d.message||"Une erreur est survenue.")}return i.status===204||i.headers.get("content-length")==="0"?null:i.json()},tx=async i=>{const d=await fetch(Co,{method:"GET",headers:{Authorization:`Bearer ${i}`}});return(await Ao(d)).avatars||[]},Tg=async(i,d,u,c)=>{const h=new FormData;h.append("image",d),h.append("type",u),h.append("gender",c);const m=await fetch(Co,{method:"POST",headers:{Authorization:`Bearer ${i}`},body:h});return(await Ao(m)).avatar},zg=async(i,d)=>{const u=`${Co}/${d}`;console.log(`[DELETE AVATAR] Tentative de suppression : ${u}`);const c=await fetch(u,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}});console.log(`[DELETE AVATAR] Status response: ${c.status}`),await Ao(c)},ax=({onSelect:i,selectedAvatar:d,section:u,initialGender:c,token:h})=>{const[m,v]=x.useState("male"),[j,w]=x.useState(""),[g,R]=x.useState([]),[T,Y]=x.useState(!1);x.useEffect(()=>{c&&v(c)},[c]),x.useEffect(()=>{h&&(async()=>{Y(!0);try{const H=await tx(h);R(H)}catch(H){console.error("Failed to load avatars",H)}finally{Y(!1)}})()},[h]);const k=x.useMemo(()=>g.filter(H=>H.type===u&&H.gender===m).map(H=>H.url),[u,m,g]),S=_=>{w(_.target.value),_.target.value&&i(_.target.value)};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex p-1 bg-gray-100 rounded-lg w-fit",children:[l.jsx("button",{type:"button",onClick:()=>v("male"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all ${m==="male"?"bg-white text-premier shadow-sm":"text-text-secondary hover:text-text-primary"}`,children:u==="parent"?"Papa":"Garon"}),l.jsx("button",{type:"button",onClick:()=>v("female"),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all ${m==="female"?"bg-white text-premier shadow-sm":"text-text-secondary hover:text-text-primary"}`,children:u==="parent"?"Maman":"Fille"})]}),l.jsx("div",{className:"flex flex-wrap gap-3 max-h-48 overflow-y-auto custom-scrollbar p-2 border border-border-color rounded-lg bg-gray-50 min-h-[80px]",children:T?l.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:l.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):k.length>0?k.map((_,H)=>l.jsx("button",{type:"button",onClick:()=>i(_),className:`relative w-12 h-12 rounded-full overflow-hidden transition-all duration-200 ${d===_?"ring-2 ring-premier ring-offset-2 scale-110":"hover:scale-105 hover:opacity-80"}`,children:l.jsx("img",{src:_,alt:"Avatar option",className:"w-full h-full object-cover bg-white",onError:ee=>{_&&typeof _=="string"&&!_.startsWith("http")&&(ee.currentTarget.src=`https://ui-avatars.com/api/?name=${u.charAt(0).toUpperCase()}&background=random`)}})},H)):l.jsx("div",{className:"w-full flex items-center justify-center p-4 text-xs text-text-secondary",children:"Aucun avatar disponible."})}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-xs text-text-secondary",children:"Ou URL personnalise"}),l.jsx("input",{type:"text",placeholder:"https://...",value:j,onChange:S,className:"w-full bg-background rounded-lg py-2 px-3 text-sm text-text-primary placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-premier focus:bg-white transition-colors border border-border-color"})]}),d&&!k.includes(d)&&d!==j&&l.jsxs("div",{className:"flex items-center gap-2 mt-2 p-2 bg-yellow-50 border border-yellow-100 rounded-lg",children:[l.jsx("span",{className:"text-xs text-yellow-700 font-medium",children:"Actuel (Hors liste):"}),l.jsx("img",{src:d,className:"w-8 h-8 rounded-full object-cover",alt:"Current"})]})]})},Mg=[{value:"",label:"Non spcifi"},{value:"male",label:"Homme"},{value:"female",label:"Femme"},{value:"other",label:"Autre"}],Dg=[{value:"user",label:"Utilisateur"},{value:"admin",label:"Administrateur"}],lx=({isOpen:i,onClose:d,onSave:u,user:c,isLoading:h,hideRole:m,token:v})=>{const[j,w]=x.useState({name:"",lastname:"",email:"",phone:"",password:"",gender:"",birthday:"",role:"user",avatar:""}),[g,R]=x.useState(""),[T,Y]=x.useState(""),[k,S]=x.useState(!1),[_,H]=x.useState(!1),ee=!!c;x.useEffect(()=>{if(i)if(Y(""),R(""),S(!1),H(!1),ee&&c){let M="";if(c.birthday){const $=String(c.birthday);if($!=="undefined"&&$!=="null"&&!$.startsWith("0000-00-00"))if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test($)){const K=$.split("/");K.length===3&&(M=`${K[2]}-${K[1].padStart(2,"0")}-${K[0].padStart(2,"0")}`)}else $.includes("T")?M=$.split("T")[0]:M=$}w({name:c.name||"",lastname:c.lastname||"",email:c.email||"",phone:c.phone||"",password:"",gender:c.gender||"",birthday:M,role:c.role||"user",avatar:c.avatar||""})}else w({name:"",lastname:"",email:"",phone:"",password:"",gender:"",birthday:"",role:"user",avatar:""})},[i,c,ee]);const P=M=>{const{name:$,value:K}=M.target;if($==="phone"){const xe=K.replace(/\D/g,"");xe.length<=8&&w(ue=>({...ue,[$]:xe}))}else w(xe=>({...xe,[$]:K}))},A=(M,$)=>{M.target.setCustomValidity($)},G=M=>{M.target.setCustomValidity("")},ne=M=>{if(!M)return 0;const $=new Date,K=new Date(M);if(isNaN(K.getTime()))return 0;let xe=$.getFullYear()-K.getFullYear();const ue=$.getMonth()-K.getMonth();return(ue<0||ue===0&&$.getDate()<K.getDate())&&xe--,xe},Z=async M=>{if(M.preventDefault(),Y(""),!ee&&!j.password){Y("Le mot de passe est requis pour un nouvel utilisateur.");return}if(j.password){if(j.password!==g){Y("Les mots de passe ne correspondent pas.");return}if(!/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&+]).{6,}$/.test(j.password)){Y("Le mot de passe doit contenir au moins une lettre, un chiffre et un symbole (@, +, !, etc.).");return}}if(j.birthday&&ne(j.birthday)<18){Y("L'utilisateur doit avoir au moins 18 ans.");return}const $={...j,gender:j.gender?j.gender:void 0,role:j.role};ee&&!$.password&&delete $.password,$.birthday||delete $.birthday;try{await u($)}catch(K){K instanceof Error?Y(K.message):Y("Une erreur inconnue est survenue lors de l'enregistrement.")}};if(!i)return null;const q="w-full bg-background rounded-lg py-2.5 px-4 text-text-primary placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-premier focus:bg-white transition-colors";return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 flex justify-center items-center p-4","aria-modal":"true",role:"dialog",children:l.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl transform transition-all max-h-[90vh] overflow-y-auto",children:l.jsxs("form",{onSubmit:Z,children:[l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:ee?"Modifier le profil":"Ajouter un utilisateur"}),l.jsx("button",{type:"button",onClick:d,className:"p-1 rounded-full text-text-secondary hover:bg-gray-100",children:l.jsx(Re,{className:"h-6 w-6"})})]}),ee&&c&&l.jsxs("div",{className:"flex items-center gap-4 py-5 border-b border-border-color mb-6",children:[l.jsx(za,{name:c.name,lastname:c.lastname,src:c.avatar,size:"lg"}),l.jsxs("div",{className:"flex-grow",children:[l.jsxs("p",{className:"font-semibold text-text-primary",children:[c.name," ",c.lastname]}),l.jsx("p",{className:"text-sm text-text-secondary",children:c.email})]})]}),l.jsxs("div",{className:"space-y-5 mt-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-text-secondary mb-1",children:"Prnom"}),l.jsx("input",{required:!0,type:"text",name:"name",id:"name",value:j.name,onChange:P,onInvalid:M=>A(M,"Veuillez saisir un prnom."),onInput:G,className:q})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"lastname",className:"block text-sm font-medium text-text-secondary mb-1",children:"Nom"}),l.jsx("input",{required:!0,type:"text",name:"lastname",id:"lastname",value:j.lastname,onChange:P,onInvalid:M=>A(M,"Veuillez saisir un nom."),onInput:G,className:q})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-secondary mb-1",children:"Email"}),l.jsx("input",{required:!0,type:"email",name:"email",id:"email",value:j.email,onChange:P,onInvalid:M=>A(M,"Veuillez saisir une adresse e-mail valide."),onInput:G,className:q})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-text-secondary mb-1",children:"Genre"}),l.jsx(Qe,{options:Mg,value:j.gender,onChange:M=>w($=>({...$,gender:M}))})]})]}),l.jsxs("div",{className:"col-span-full",children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-3",children:"Choisir un Avatar"}),l.jsx(ax,{section:"parent",onSelect:M=>w($=>({...$,avatar:M})),selectedAvatar:j.avatar,initialGender:j.gender==="female"?"female":"male",token:v||""})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-text-secondary mb-1",children:"Tlphone"}),l.jsx("input",{type:"text",name:"phone",id:"phone",value:j.phone,onChange:P,className:q,placeholder:"ex: 50123456"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"birthday",className:"block text-sm font-medium text-text-secondary mb-1",children:"Date de naissance"}),l.jsx(Zr,{id:"birthday",name:"birthday",value:j.birthday,onChange:M=>w($=>({...$,birthday:M}))}),j.birthday&&ne(j.birthday)<18&&l.jsxs("p",{className:"text-xs text-red-500 mt-1",children:["ge: ",ne(j.birthday)," ans (Doit tre 18+)"]})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-5",children:!m&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-text-secondary mb-1",children:"Rle"}),l.jsx(Qe,{options:Dg,value:j.role,onChange:M=>w($=>({...$,role:M}))})]})}),l.jsxs("div",{className:"border-t border-border-color pt-4 mt-2",children:[l.jsx("p",{className:"text-sm font-medium text-text-primary mb-3",children:ee?"Changer le mot de passe (laisser vide pour conserver)":"Dfinir le mot de passe"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-secondary mb-1",children:"Mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:k?"text":"password",name:"password",id:"password",value:j.password,onChange:P,className:`${q} pr-10`,placeholder:ee?"":"Lettre, chiffre, symbole (@,+,...)"}),l.jsx("button",{type:"button",onClick:()=>S(!k),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 focus:outline-none",children:k?l.jsx(vl,{className:"h-5 w-5"}):l.jsx(Lt,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-text-secondary mb-1",children:"Confirmer le mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:_?"text":"password",name:"confirmPassword",id:"confirmPassword",value:g,onChange:M=>R(M.target.value),className:`${q} pr-10`}),l.jsx("button",{type:"button",onClick:()=>H(!_),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 focus:outline-none",children:_?l.jsx(vl,{className:"h-5 w-5"}):l.jsx(Lt,{className:"h-5 w-5"})})]})]})]})]}),T&&l.jsx("p",{className:"text-red-500 text-sm text-center",children:T})]})]}),l.jsxs("div",{className:"px-6 py-4 flex flex-row-reverse items-center gap-3 border-t border-border-color bg-gray-50 rounded-b-lg",children:[l.jsx("button",{type:"submit",disabled:h,className:"inline-flex justify-center rounded-lg shadow-sm px-5 py-2.5 bg-premier text-base font-semibold text-white hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:h?"Enregistrement...":"Enregistrer"}),l.jsx("button",{type:"button",onClick:d,disabled:h,className:"inline-flex justify-center rounded-lg border border-border-color shadow-sm px-5 py-2.5 bg-white text-base font-semibold text-text-primary hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:"Annuler"})]})]})})})},Og=i=>{if(!i||i.startsWith("0000-00-00"))return"N/A";try{let d;if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(i)){const u=i.split("/");d=new Date(Number(u[2]),Number(u[1])-1,Number(u[0]))}else d=new Date(i);return isNaN(d.getTime())?"N/A":d.toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return"N/A"}},_g=({isOpen:i,onClose:d,user:u,categories:c,initialTab:h="babies",onNavigateToBaby:m})=>{const[v,j]=x.useState(h);if(x.useEffect(()=>{i&&h&&j(h)},[i,h]),!i||!u)return null;const w=u.babies||[],g=u.doctors||[],R=u.recipes||[],T=u.articles||[],Y=[{id:"babies",label:"Bbs",icon:xn,count:w.length},{id:"doctors",label:"Mdecins",icon:hn,count:g.length},{id:"recipes",label:"Recettes",icon:ds,count:R.length},{id:"articles",label:"Articles",icon:us,count:T.length}],k=S=>{if(!S)return"N/A";if(typeof S=="string"){const _=c.find(H=>H._id===S);return _?_.name:"N/A"}return S.name||"N/A"};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 flex justify-center items-center p-4","aria-modal":"true",role:"dialog",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl h-[80vh] flex flex-col transform transition-all animate-fade-in-up",children:[l.jsxs("div",{className:"p-6 border-b border-border-color flex justify-between items-start bg-gray-50 rounded-t-xl",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(za,{name:u.name,lastname:u.lastname,src:u.avatar,size:"lg"}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-bold text-text-primary",children:[u.name," ",u.lastname]}),l.jsx("p",{className:"text-sm text-text-secondary",children:u.email})]})]}),l.jsx("button",{type:"button",onClick:d,className:"p-2 rounded-full text-text-secondary hover:bg-gray-200 transition-colors",children:l.jsx(Re,{className:"h-6 w-6"})})]}),l.jsx("div",{className:"flex border-b border-border-color px-6 overflow-x-auto",children:Y.map(S=>{const _=S.icon;return l.jsxs("button",{onClick:()=>j(S.id),className:`flex items-center gap-2 py-4 px-4 font-medium text-sm border-b-2 transition-colors whitespace-nowrap
                        ${v===S.id?"border-premier text-premier":"border-transparent text-text-secondary hover:text-text-primary hover:border-gray-200"}`,children:[l.jsx(_,{className:"h-4 w-4"}),l.jsx("span",{children:S.label}),l.jsx("span",{className:`ml-1 py-0.5 px-2 rounded-full text-xs ${v===S.id?"bg-premier/10":"bg-gray-100"}`,children:S.count})]},S.id)})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:[v==="babies"&&l.jsx(l.Fragment,{children:w.length>0?l.jsx("div",{className:"overflow-hidden border border-border-color rounded-lg bg-white shadow-sm",children:l.jsxs("table",{className:"min-w-full divide-y divide-border-color",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase",children:"Nom"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase",children:"Genre"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase",children:"Anniversaire"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-text-secondary uppercase",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-border-color",children:w.map(S=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-text-primary",children:S.name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:S.gender==="Male"?"Garon":S.gender==="Female"?"Fille":"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:Og(S.birthday)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:m&&l.jsx("button",{onClick:()=>m(S._id),className:"text-premier hover:text-premier-dark text-sm font-medium",children:"Modifier"})})]},S._id))})]})}):l.jsx(Lr,{icon:xn,text:"Aucun bb enregistr."})}),v==="doctors"&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:g.length>0?g.map(S=>typeof S=="object"&&S.name?l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white rounded-lg border border-border-color shadow-sm",children:[l.jsx(za,{name:S.name,src:S.imageUrl,size:"lg"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-text-primary",children:S.name}),l.jsx("p",{className:"text-sm text-premier",children:S.specialty}),l.jsx("p",{className:"text-xs text-text-secondary mt-1",children:S.city||"Ville non spcifie"})]})]},S._id):null):l.jsx("div",{className:"col-span-full",children:l.jsx(Lr,{icon:hn,text:"Aucun mdecin favori."})})}),v==="recipes"&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:R.length>0?R.map(S=>typeof S=="object"&&S.title?l.jsxs("div",{className:"bg-white rounded-lg border border-border-color shadow-sm overflow-hidden flex flex-col",children:[l.jsx("div",{className:"h-32 bg-gray-200 relative",children:S.imageUrl?l.jsx("img",{src:S.imageUrl,alt:S.title,className:"w-full h-full object-cover"}):l.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:l.jsx(ds,{className:"h-8 w-8"})})}),l.jsxs("div",{className:"p-3 flex-1 flex flex-col",children:[l.jsx("h4",{className:"font-semibold text-sm text-text-primary line-clamp-2 mb-1",children:S.title}),l.jsx("div",{className:"mt-auto flex items-center justify-between",children:l.jsx("span",{className:"text-xs text-text-secondary bg-gray-100 px-2 py-0.5 rounded-full",children:k(S.category)})})]})]},S._id):null):l.jsx("div",{className:"col-span-full",children:l.jsx(Lr,{icon:ds,text:"Aucune recette favorite."})})}),v==="articles"&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:T.length>0?T.map(S=>typeof S=="object"&&S.title?l.jsxs("div",{className:"flex gap-3 p-3 bg-white rounded-lg border border-border-color shadow-sm items-center",children:[l.jsx("div",{className:"h-16 w-16 rounded-md bg-gray-200 flex-shrink-0 overflow-hidden",children:S.imageUrl&&S.imageUrl[0]?l.jsx("img",{src:S.imageUrl[0],alt:"",className:"w-full h-full object-cover"}):l.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:l.jsx(us,{className:"h-6 w-6"})})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-sm text-text-primary line-clamp-2",children:S.title}),l.jsx("span",{className:"text-xs text-blue-600 bg-blue-50 px-2 py-0.5 rounded-full mt-1 inline-block",children:k(S.category)})]})]},S._id):null):l.jsx("div",{className:"col-span-full",children:l.jsx(Lr,{icon:us,text:"Aucun article favori."})})})]})]})})},Lr=({icon:i,text:d})=>l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[l.jsx("div",{className:"bg-white p-4 rounded-full shadow-sm mb-3",children:l.jsx(i,{className:"h-8 w-8 text-gray-300"})}),l.jsx("p",{className:"text-text-secondary font-medium",children:d})]}),Ug=({isOpen:i,onClose:d,onSuccess:u,adminEmail:c})=>{const[h,m]=x.useState(""),[v,j]=x.useState(!1),[w,g]=x.useState(""),[R,T]=x.useState(!1),Y=async k=>{k.preventDefault(),g(""),T(!0);try{await Vm(c,h),u(),m("")}catch{g("Mot de passe incorrect.")}finally{T(!1)}};return i?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4","aria-modal":"true",role:"dialog",children:l.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md transform transition-all",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("h3",{className:"text-lg font-medium leading-6 text-text-primary",children:"Scurit requise"}),l.jsx("button",{onClick:d,className:"text-text-secondary hover:text-text-primary",children:l.jsx(Re,{className:"h-6 w-6"})})]}),l.jsx("p",{className:"text-sm text-text-secondary mb-4",children:"Vous tentez de modifier un compte Administrateur. Veuillez confirmer le mot de passe de ce compte pour continuer."}),l.jsxs("form",{onSubmit:Y,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Email"}),l.jsx("input",{type:"text",value:c,disabled:!0,className:"w-full bg-gray-100 border border-border-color rounded-lg py-2 px-3 text-text-secondary cursor-not-allowed"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:v?"text":"password",value:h,onChange:k=>m(k.target.value),className:"w-full bg-background border border-border-color rounded-lg py-2 px-3 pr-10 text-text-primary focus:outline-none focus:ring-2 focus:ring-premier",placeholder:"Entrez le mot de passe",autoFocus:!0}),l.jsx("button",{type:"button",onClick:()=>j(!v),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 focus:outline-none",children:v?l.jsx(vl,{className:"h-5 w-5"}):l.jsx(Lt,{className:"h-5 w-5"})})]})]}),w&&l.jsx("p",{className:"text-red-500 text-sm",children:w})]}),l.jsxs("div",{className:"mt-6 flex flex-row-reverse gap-3",children:[l.jsx("button",{type:"submit",disabled:R||!h,className:"inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-premier text-base font-medium text-white hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:R?"Vrification...":"Confirmer"}),l.jsx("button",{type:"button",onClick:d,disabled:R,className:"inline-flex justify-center rounded-md border border-border-color shadow-sm px-4 py-2 bg-white text-base font-medium text-text-primary hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:"Annuler"})]})]})]})})}):null},mo=10,Bg=({message:i,type:d,onClose:u})=>{x.useEffect(()=>{const m=setTimeout(u,5e3);return()=>clearTimeout(m)},[u]);const c="fixed top-5 right-5 z-50 p-4 rounded-md shadow-lg text-white flex items-center animate-fade-in-up",h=d==="success"?"bg-green-500":"bg-red-600";return l.jsxs("div",{className:`${c} ${h}`,role:"alert",children:[l.jsx("span",{className:"flex-grow",children:i}),l.jsx("button",{onClick:u,className:"ml-4 p-1 rounded-full hover:bg-white/20",children:l.jsx(Re,{className:"h-5 w-5"})})]})},kg=({token:i,onLogout:d,onNavigateToBaby:u})=>{const[c,h]=x.useState([]),[m,v]=x.useState([]),[j,w]=x.useState(!0),[g,R]=x.useState(null),[T,Y]=x.useState(""),[k,S]=x.useState(1),[_,H]=x.useState(null),[ee,P]=x.useState(!1),[A,G]=x.useState(null),[ne,Z]=x.useState(null),[q,M]=x.useState(null),[$,K]=x.useState("babies"),[xe,ue]=x.useState(!1),[ve,pe]=x.useState(null),[me,O]=x.useState("createdAt-desc"),[le,de]=x.useState("all"),ce=(z,se="success")=>{pe({message:z,type:se})},re=[{value:"createdAt-desc",label:"Plus rcent"},{value:"createdAt-asc",label:"Plus ancien"},{value:"name-asc",label:"Nom (A-Z)"},{value:"name-desc",label:"Nom (Z-A)"}],p=[{value:"all",label:"Tous"},{value:"male",label:"Homme"},{value:"female",label:"Femme"},{value:"other",label:"Autre"}];x.useEffect(()=>{(async()=>{try{w(!0),R(null);const[se,oe]=await Promise.all([Zm(i),vn(i)]);h(se),v(oe)}catch(se){se instanceof Error?se.message==="Session expire. Veuillez vous reconnecter."?d():R(se.message):R("Une erreur inconnue est survenue.")}finally{w(!1)}})()},[i,d]);const V=x.useMemo(()=>{const z=c.filter(se=>{var oe;return`${se.name||""} ${se.lastname||""}`.toLowerCase().includes(T.toLowerCase())||(((oe=se.email)==null?void 0:oe.toLowerCase())||"").includes(T.toLowerCase())}).filter(se=>le==="all"?!0:se.gender===le);if(me){const[se,oe]=me.split("-");z.sort((je,Oe)=>{const ke=se==="name"?`${je.name} ${je.lastname}`.trim():je[se],Ie=se==="name"?`${Oe.name} ${Oe.lastname}`.trim():Oe[se];if(ke==null)return 1;if(Ie==null)return-1;let $e=0;return typeof ke=="string"&&typeof Ie=="string"?$e=ke.localeCompare(Ie,"fr",{sensitivity:"base"}):ke<Ie?$e=-1:ke>Ie&&($e=1),oe==="desc"?$e*-1:$e})}return z},[c,T,me,le]),ie=x.useMemo(()=>{const z=(k-1)*mo;return V.slice(z,z+mo)},[V,k]),F=async z=>{ue(!0);try{if(_){const se=await Jm(i,_._id,z);h(c.map(oe=>oe._id===se._id?{...oe,...se}:oe)),ce("Utilisateur mis  jour avec succs.","success")}else{let se;z.role==="admin"?se=await Up(i,z):se=await Wp(i,z),h([se,...c]),ce("Utilisateur ajout avec succs.","success")}P(!1),H(null)}catch(se){const oe=se instanceof Error?se.message:"La sauvegarde a chou.";throw ce(oe,"error"),se}finally{ue(!1)}},b=async()=>{if(A){if(A.email==="admin@mamaty.com"){ce("Impossible de supprimer le super administrateur.","error"),G(null);return}ue(!0);try{A.babies&&A.babies.length>0&&await Promise.all(A.babies.map(z=>Fm(i,z._id))),await Pp(i,A._id),h(c.filter(z=>z._id!==A._id)),ce("Utilisateur et ses donnes associs supprims avec succs.","success")}catch(z){const se=z instanceof Error?z.message:"La suppression a chou.";ce(se,"error")}finally{ue(!1),G(null)}}},C=()=>{H(null),P(!0)},Q=z=>{z.role==="admin"?Z(z):(H(z),P(!0))},I=(z,se)=>{M(z),K(se)},D=z=>{de(z),S(1)},te=()=>j?l.jsx("div",{className:"flex-1 flex justify-center items-center",children:l.jsx(bt,{className:"h-12 w-12 text-premier"})}):g?l.jsx("p",{className:"text-red-500 text-center p-4 bg-red-50 rounded-lg m-4",children:g}):l.jsxs(oa,{title:"Tous les utilisateurs",headerContent:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center w-full",children:[l.jsxs("div",{className:"relative flex-grow w-full sm:w-auto",children:[l.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:l.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"search",placeholder:"Rechercher un utilisateur...",onChange:z=>{Y(z.target.value),S(1)},className:"w-full pl-10 pr-4 py-2.5 bg-white border border-border-color rounded-lg text-sm text-text-primary focus:ring-premier focus:border-premier transition"})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-3 w-full sm:w-auto",children:[l.jsx(Qe,{options:p,value:le,onChange:z=>de(z),labelPrefix:"Genre : "}),l.jsx(Qe,{options:re,value:me,onChange:O,labelPrefix:"Trier par : "})]}),l.jsxs("button",{onClick:C,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-5 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-premier hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier transition-colors",children:[l.jsx(Ft,{className:"h-5 w-5"}),l.jsx("span",{children:"Ajouter"})]})]}),children:[l.jsx(Cg,{users:ie,onEdit:Q,onDelete:G,onViewDetails:I,onGenderClick:D}),l.jsx(Nl,{currentPage:k,totalItems:V.length,itemsPerPage:mo,onPageChange:S})]});return l.jsxs(l.Fragment,{children:[ve&&l.jsx(Bg,{message:ve.message,type:ve.type,onClose:()=>pe(null)}),te(),l.jsx(lx,{isOpen:ee,onClose:()=>P(!1),onSave:F,user:_,isLoading:xe,token:i}),l.jsx(Ma,{isOpen:!!A,onClose:()=>G(null),onConfirm:b,title:"Supprimer l'utilisateur",message:`tes-vous sr de vouloir supprimer ${A==null?void 0:A.name} ${A==null?void 0:A.lastname} ? Toutes ses donnes associes (bbs, etc.) seront galement supprimes. Cette action est irrversible.`,confirmButtonText:"Supprimer",isLoading:xe}),l.jsx(_g,{isOpen:!!q,onClose:()=>M(null),user:q,categories:m,initialTab:$,onNavigateToBaby:u}),l.jsx(Ug,{isOpen:!!ne,onClose:()=>Z(null),onSuccess:()=>{ne&&(H(ne),P(!0)),Z(null)},adminEmail:(ne==null?void 0:ne.email)||""})]})},Rg=i=>{if(!i||i.startsWith("0000-00-00"))return"N/A";try{let d;if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(i)){const u=i.split("/");d=new Date(Number(u[2]),Number(u[1])-1,Number(u[0]))}else d=new Date(i);return isNaN(d.getTime())?"N/A":d.toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}catch{return"N/A"}},Lg=({babies:i,onEdit:d,onDelete:u,onGenderClick:c,onAuthClick:h})=>l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-border-color",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Parent"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Bb"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Genre"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Anniversaire"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Allergies"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Maladies"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Autorisation"}),l.jsx("th",{scope:"col",className:"relative px-6 py-3",children:l.jsx("span",{className:"sr-only",children:"Actions"})})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-border-color",children:i.map(m=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.userId&&typeof m.userId=="object"&&"name"in m.userId?l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(za,{name:m.userId.name||"Inconnu",lastname:m.userId.lastname,src:m.userId.avatar})}),l.jsxs("div",{className:"ml-4",children:[l.jsxs("div",{className:"text-sm font-medium text-text-primary",children:[m.userId.name," ",m.userId.lastname]}),l.jsx("div",{className:"text-sm text-text-secondary",children:m.userId.email})]})]}):l.jsx("span",{className:"text-sm text-text-secondary italic",children:typeof m.userId=="string"?"Utilisateur non trouv":"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-text-primary",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0 mr-3",children:l.jsx(za,{name:m.name,src:m.avatar,size:"sm",className:"w-8 h-8"})}),m.name]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:m.gender?l.jsx("button",{onClick:()=>m.gender&&c(m.gender),className:"cursor-pointer hover:text-premier transition-colors",children:m.gender==="Male"?"Garon":"Fille"}):"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:Rg(m.birthday)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:m.allergy&&m.allergy.toLowerCase()!=="aucune"?m.allergy:"Aucune"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:m.disease&&m.disease.toLowerCase()!=="aucune"?m.disease:"Aucune"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:l.jsx("button",{onClick:()=>h(!!m.autorisation),className:"cursor-pointer",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m.autorisation?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.autorisation?"Oui":"Non"})})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[l.jsx("button",{onClick:()=>d(m),className:"p-2 rounded-md text-text-secondary hover:bg-gray-100 hover:text-premier transition-colors","aria-label":`Modifier ${m.name}`,children:l.jsx(ca,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>u(m),className:"p-2 rounded-md text-text-secondary hover:bg-gray-100 hover:text-red-600 transition-colors","aria-label":`Supprimer ${m.name}`,children:l.jsx(Rt,{className:"h-5 w-5"})})]})})]},m._id))})]})}),Hg=[{value:"",label:"Non spcifi"},{value:"Male",label:"Garon"},{value:"Female",label:"Fille"}],qg=({isOpen:i,onClose:d,onSave:u,baby:c,isLoading:h,token:m})=>{const[v,j]=x.useState({name:"",gender:"",birthday:"",disease:"",allergy:"",headSize:"",height:"",weight:"",avatar:""}),[w,g]=x.useState("");x.useEffect(()=>{var _,H,ee;if(i&&(g(""),c)){let P="";if(c.birthday){const A=String(c.birthday);if(A!=="undefined"&&A!=="null"&&!A.startsWith("0000-00-00"))if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(A)){const G=A.split("/");G.length===3&&(P=`${G[2]}-${G[1].padStart(2,"0")}-${G[0].padStart(2,"0")}`)}else A.includes("T")?P=A.split("T")[0]:P=A}j({name:c.name||"",gender:c.gender||"",birthday:P,disease:c.disease||"",allergy:c.allergy||"",headSize:((_=c.headSize)==null?void 0:_.toString())||"",height:((H=c.height)==null?void 0:H.toString())||"",weight:((ee=c.weight)==null?void 0:ee.toString())||"",avatar:c.avatar||""})}},[i,c]);const R=_=>{const{name:H,value:ee}=_.target;j(P=>({...P,[H]:ee}))},T=(_,H)=>{_.target.setCustomValidity(H)},Y=_=>{_.target.setCustomValidity("")},k=async _=>{_.preventDefault(),g("");const H={...v,gender:v.gender?v.gender:void 0,headSize:v.headSize?parseFloat(v.headSize):void 0,height:v.height?parseFloat(v.height):void 0,weight:v.weight?parseFloat(v.weight):void 0};H.birthday||delete H.birthday,H.disease||(H.disease="aucune"),H.allergy||(H.allergy="aucune");try{await u(H)}catch(ee){ee instanceof Error?g(ee.message):g("Une erreur inconnue est survenue.")}};if(!i)return null;const S="w-full bg-background rounded-lg py-2.5 px-4 text-text-primary placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-premier focus:bg-white transition-colors";return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 overflow-y-auto p-4 sm:p-10","aria-modal":"true",role:"dialog",children:l.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl transform transition-all mx-auto",children:l.jsxs("form",{onSubmit:k,children:[l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Modifier le bb"}),l.jsx("button",{type:"button",onClick:d,className:"p-1 rounded-full text-text-secondary hover:bg-gray-100",children:l.jsx(Re,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"mt-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-text-secondary mb-1",children:"Prnom"}),l.jsx("input",{required:!0,type:"text",name:"name",id:"name",value:v.name,onChange:R,onInvalid:_=>T(_,"Veuillez remplir ce champ."),onInput:Y,className:S})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-text-secondary mb-1",children:"Genre"}),l.jsx(Qe,{options:Hg,value:v.gender,onChange:_=>j(H=>({...H,gender:_}))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-3",children:"Choisir un Avatar"}),l.jsx(ax,{section:"baby",onSelect:_=>j(H=>({...H,avatar:_})),selectedAvatar:v.avatar,initialGender:v.gender==="Female"?"female":"male",token:m||""})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"birthday",className:"block text-sm font-medium text-text-secondary mb-1",children:"Date de naissance"}),l.jsx(Zr,{id:"birthday",name:"birthday",value:v.birthday,onChange:_=>j(H=>({...H,birthday:_}))})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"headSize",className:"block text-sm font-medium text-text-secondary mb-1",children:"Primtre crnien (cm)"}),l.jsx("input",{type:"number",step:"0.1",name:"headSize",id:"headSize",value:v.headSize,onChange:R,className:S})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-text-secondary mb-1",children:"Poids (kg)"}),l.jsx("input",{type:"number",step:"0.1",name:"weight",id:"weight",value:v.weight,onChange:R,className:S})]})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-6",children:l.jsxs("div",{children:[l.jsx("label",{htmlFor:"height",className:"block text-sm font-medium text-text-secondary mb-1",children:"Taille (cm)"}),l.jsx("input",{type:"number",step:"0.1",name:"height",id:"height",value:v.height,onChange:R,className:S})]})}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"disease",className:"block text-sm font-medium text-text-secondary mb-1",children:"Maladies (si aucune, laisser vide)"}),l.jsx("input",{type:"text",name:"disease",id:"disease",value:v.disease,onChange:R,placeholder:"aucune",className:S})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"allergy",className:"block text-sm font-medium text-text-secondary mb-1",children:"Allergies (si aucune, laisser vide)"}),l.jsx("input",{type:"text",name:"allergy",id:"allergy",value:v.allergy,onChange:R,placeholder:"aucune",className:S})]}),w&&l.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:w})]})]}),l.jsxs("div",{className:"px-6 py-4 flex flex-row-reverse items-center gap-3 border-t border-border-color mt-6",children:[l.jsx("button",{type:"submit",disabled:h,className:"inline-flex justify-center rounded-lg shadow-sm px-5 py-2.5 bg-premier text-base font-semibold text-white hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:h?"Enregistrement...":"Enregistrer"}),l.jsx("button",{type:"button",onClick:d,disabled:h,className:"inline-flex justify-center rounded-lg border border-border-color shadow-sm px-5 py-2.5 bg-white text-base font-semibold text-text-primary hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:"Annuler"})]})]})})})},xo=10,Vg=({message:i,type:d,onClose:u})=>{x.useEffect(()=>{const m=setTimeout(u,5e3);return()=>clearTimeout(m)},[u]);const c="fixed top-5 right-5 z-50 p-4 rounded-md shadow-lg text-white flex items-center animate-fade-in-up",h=d==="success"?"bg-green-500":"bg-red-600";return l.jsxs("div",{className:`${c} ${h}`,role:"alert",children:[l.jsx("span",{className:"flex-grow",children:i}),l.jsx("button",{onClick:u,className:"ml-4 p-1 rounded-full hover:bg-white/20",children:l.jsx(Re,{className:"h-5 w-5"})})]})},Gg=({token:i,onLogout:d,initialBabyId:u,onClearInitialBabyId:c})=>{const[h,m]=x.useState([]),[v,j]=x.useState(!0),[w,g]=x.useState(null),[R,T]=x.useState(""),[Y,k]=x.useState(1),[S,_]=x.useState(null),[H,ee]=x.useState(null),[P,A]=x.useState(!1),[G,ne]=x.useState(null),[Z,q]=x.useState("createdAt-desc"),[M,$]=x.useState("all"),[K,xe]=x.useState("all"),[ue,ve]=x.useState("all"),pe=(C,Q="success")=>{ne({message:C,type:Q})},me=[{value:"createdAt-desc",label:"Plus rcent"},{value:"createdAt-asc",label:"Plus ancien"},{value:"name-asc",label:"Nom (A-Z)"},{value:"name-desc",label:"Nom (Z-A)"}],O=[{value:"all",label:"Toutes"},{value:"true",label:"Oui"},{value:"false",label:"Non"}],le=[{value:"all",label:"Tous"},{value:"Male",label:"Garon"},{value:"Female",label:"Fille"}],de=x.useMemo(()=>{const C=new Set;h.forEach(I=>{I.allergy&&I.allergy.toLowerCase()!=="aucune"&&I.allergy.trim()!==""&&C.add(I.allergy.trim()),I.disease&&I.disease.toLowerCase()!=="aucune"&&I.disease.trim()!==""&&C.add(I.disease.trim())});const Q=[{value:"all",label:"Toutes"}];return Array.from(C).sort().forEach(I=>{Q.push({value:I,label:I})}),Q},[h]);x.useEffect(()=>{(async()=>{try{j(!0),g(null);const Q=await Km(i);m(Q)}catch(Q){Q instanceof Error?Q.message==="Session expire. Veuillez vous reconnecter."?d():g(Q.message):g("Une erreur inconnue est survenue.")}finally{j(!1)}})()},[i,d]),x.useEffect(()=>{if(u&&h.length>0){const C=h.find(Q=>Q._id===u);C&&(_(C),c())}},[u,h,c]);const ce=x.useMemo(()=>{let C=h.filter(Q=>{var I,D,te,z,se;return(((I=Q.name)==null?void 0:I.toLowerCase())||"").includes(R.toLowerCase())||(((te=(D=Q.userId)==null?void 0:D.name)==null?void 0:te.toLowerCase())||"").includes(R.toLowerCase())||(((se=(z=Q.userId)==null?void 0:z.email)==null?void 0:se.toLowerCase())||"").includes(R.toLowerCase())}).filter(Q=>M==="all"?!0:Q.autorisation===(M==="true")).filter(Q=>K==="all"?!0:Q.gender===K).filter(Q=>{if(ue==="all")return!0;const I=ue.toLowerCase(),D=(Q.allergy||"").toLowerCase()===I,te=(Q.disease||"").toLowerCase()===I;return D||te});if(Z){const[Q,I]=Z.split("-");C.sort((D,te)=>{var je,Oe;const z=Q==="userId.name"?(je=D.userId)==null?void 0:je.name:D[Q],se=Q==="userId.name"?(Oe=te.userId)==null?void 0:Oe.name:te[Q];if(z==null)return 1;if(se==null)return-1;let oe=0;return typeof z=="string"&&typeof se=="string"?oe=z.localeCompare(se,"fr",{sensitivity:"base"}):typeof z=="boolean"&&typeof se=="boolean"?oe=z===se?0:z?-1:1:z<se?oe=-1:z>se&&(oe=1),I==="desc"?oe*-1:oe})}return C},[h,R,Z,M,K,ue]),re=x.useMemo(()=>{const C=(Y-1)*xo;return ce.slice(C,C+xo)},[ce,Y]),p=async C=>{if(S){A(!0);try{const Q=await eg(i,S._id,C);m(I=>I.map(D=>{if(D._id===Q._id){const te={...D,...Q};return typeof Q.userId=="string"&&typeof D.userId=="object"&&D.userId!==null&&Q.userId===D.userId._id&&(te.userId=D.userId),te}return D})),pe("Bb mis  jour avec succs.","success"),_(null)}catch(Q){const I=Q instanceof Error?Q.message:"La sauvegarde a chou.";throw pe(I,"error"),Q}finally{A(!1)}}},V=async()=>{if(H){A(!0);try{await Fm(i,H._id),m(h.filter(C=>C._id!==H._id)),pe("Bb supprim avec succs.","success"),ee(null)}catch(C){const Q=C instanceof Error?C.message:"La suppression a chou.";pe(Q,"error")}finally{A(!1),ee(null)}}},ie=C=>{xe(C),k(1)},F=C=>{$(C?"true":"false"),k(1)},b=()=>v?l.jsx("div",{className:"flex-1 flex justify-center items-center",children:l.jsx(bt,{className:"h-12 w-12 text-premier"})}):w?l.jsx("p",{className:"text-red-500 text-center p-4 bg-red-50 rounded-lg m-4",children:w}):l.jsxs(oa,{title:"Tous les bbs",headerContent:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center w-full",children:[l.jsxs("div",{className:"relative flex-grow w-full sm:w-auto",children:[l.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:l.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"search",placeholder:"Rechercher par nom...",onChange:C=>{T(C.target.value),k(1)},className:"w-full pl-10 pr-4 py-2.5 bg-white border border-border-color rounded-lg text-sm text-text-primary focus:ring-premier focus:border-premier transition"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full sm:w-auto",children:[l.jsx(Qe,{options:de,value:ue,onChange:C=>{ve(C),k(1)},labelPrefix:"Sant : "}),l.jsx(Qe,{options:le,value:K,onChange:C=>xe(C),labelPrefix:"Genre : "}),l.jsx(Qe,{options:O,value:M,onChange:C=>$(C),labelPrefix:"Autorisation : "}),l.jsx(Qe,{options:me,value:Z,onChange:q,labelPrefix:"Trier par : "})]})]}),children:[l.jsx(Lg,{babies:re,onEdit:_,onDelete:ee,onGenderClick:ie,onAuthClick:F}),l.jsx(Nl,{currentPage:Y,totalItems:ce.length,itemsPerPage:xo,onPageChange:k})]});return l.jsxs(l.Fragment,{children:[G&&l.jsx(Vg,{message:G.message,type:G.type,onClose:()=>ne(null)}),b(),l.jsx(qg,{isOpen:!!S,onClose:()=>_(null),onSave:p,baby:S,isLoading:P,token:i}),l.jsx(Ma,{isOpen:!!H,onClose:()=>ee(null),onConfirm:V,title:"Supprimer le bb",message:`tes-vous sr de vouloir supprimer ${H==null?void 0:H.name} ? Cette action est irrversible.`,confirmButtonText:"Supprimer",isLoading:P})]})},yn=({options:i,value:d,onChange:u,placeholder:c,required:h,capitalizeFirstLetter:m})=>{const[v,j]=x.useState(!1),[w,g]=x.useState(d),R=x.useRef(null),T=x.useRef(null);x.useEffect(()=>{g(d)},[d]),x.useEffect(()=>{const A=G=>{R.current&&!R.current.contains(G.target)&&(v&&u(w),j(!1))};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[v,w,u]);const Y=x.useMemo(()=>i.filter(A=>A.toLowerCase().includes(w.toLowerCase())),[i,w]),k=A=>{u(A),g(A),j(!1)},S=A=>{let G=A.target.value;m&&G.length>0&&(G=G.charAt(0).toUpperCase()+G.slice(1)),g(G),v||j(!0)},_=A=>{A.target.setCustomValidity("Veuillez remplir ce champ.")},H=A=>{A.target.setCustomValidity("")},ee=w&&!i.some(A=>A.toLowerCase()===w.toLowerCase());return l.jsxs("div",{className:"relative",ref:R,children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{ref:T,type:"text",value:w,onChange:S,onFocus:()=>j(!0),placeholder:c,className:"w-full bg-background rounded-lg py-2.5 px-4 text-text-primary placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-premier focus:bg-white transition-colors",required:h&&!d,onInvalid:_,onInput:H}),l.jsx("button",{type:"button",onClick:()=>{var A;j(!v),(A=T.current)==null||A.focus()},className:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-400",children:l.jsx(Ym,{className:`h-5 w-5 transition-transform ${v?"rotate-180":""}`})})]}),v&&l.jsxs("div",{className:"absolute top-full mt-2 w-full bg-white border border-border-color rounded-lg shadow-lg z-10 py-1 max-h-60 overflow-y-auto",children:[Y.map(A=>l.jsx("button",{type:"button",onClick:()=>k(A),className:"w-full text-left px-4 py-2 text-sm text-text-primary hover:bg-gray-50",children:A},A)),ee&&l.jsxs("button",{type:"button",onClick:()=>k(w),className:"w-full text-left px-4 py-2 text-sm text-premier hover:bg-gray-50",children:['Ajouter "',w,'"']})]})]})},sx=["Ariana","Bja","Ben Arous","Bizerte","Gabs","Gafsa","Jendouba","Kairouan","Kasserine","Kbili","Le Kef","Mahdia","Manouba","Mdenine","Monastir","Nabeul","Sfax","Sidi Bouzid","Siliana","Sousse","Tataouine","Tozeur","Tunis","Zaghouan"].sort(),Yg=[{value:"",label:"Slectionner une ville"},...sx.map(i=>({value:i,label:i}))],Lm=i=>{if(!i)return"+216 ";const u=i.replace("+216","").replace(/\s/g,"").replace(/\D/g,"").substring(0,8);let c="";return u.length>0&&(c+=u.substring(0,2)),u.length>2&&(c+=" "+u.substring(2,5)),u.length>5&&(c+=" "+u.substring(5,8)),`+216 ${c}`.trim()},Hm=i=>i?i.startsWith("http://")||i.startsWith("https://")?i:`https://${i}`:"",Qg=({isOpen:i,onClose:d,onSave:u,doctor:c,isLoading:h,specialties:m,token:v})=>{const[j,w]=x.useState({name:"",specialty:"",rating:"3.0",city:"",imageUrl:"",description:"",workTime:"Lun-Ven 09:00 - 17:00",phone:"",googleMapLink:"",appStoreLink:""}),[g,R]=x.useState(""),[T,Y]=x.useState(!1),k=x.useRef(null),S=!!c;x.useEffect(()=>{var q;i&&(R(""),Y(!1),w(S&&c?{name:c.name||"",specialty:c.specialty||"",rating:((q=c.rating)==null?void 0:q.toString())||"3.0",city:c.city||"",imageUrl:c.imageUrl||"",description:c.description||"",workTime:c.workTime||"",phone:Lm(c.phone),googleMapLink:c.googleMapLink||"",appStoreLink:c.appStoreLink||""}:{name:"Dr. ",specialty:"",rating:"3.0",city:"",imageUrl:"",description:"",workTime:"Lun-Ven 09:00 - 17:00",phone:"+216 ",googleMapLink:"",appStoreLink:""}))},[i,c,S]);const _=q=>{const{name:M,value:$}=q.target;w(K=>({...K,[M]:$}))},H=q=>{const M=Lm(q.target.value);w($=>({...$,phone:M}))},ee=q=>{w(M=>({...M,city:q}))},P=async q=>{var $;const M=($=q.target.files)==null?void 0:$[0];if(M){if(M.size>5*1024*1024){R("L'image est trop volumineuse (max 5MB).");return}Y(!0),R("");try{const K=await qr(v,M);w(xe=>({...xe,imageUrl:K}))}catch(K){R(K instanceof Error?K.message:"chec du tlchargement de l'image."),k.current&&(k.current.value="")}finally{Y(!1)}}},A=(q,M)=>{q.target.setCustomValidity(M)},G=q=>{q.target.setCustomValidity("")},ne=async q=>{if(q.preventDefault(),R(""),T)return;if(!j.city){R("Veuillez slectionner une ville.");return}if(!j.specialty){R("Veuillez slectionner ou crer une spcialit.");return}const M=parseFloat(j.rating);if(isNaN(M)||M<0||M>5){R("La note doit tre un nombre entre 0 et 5.");return}const $=j.phone.replace(/\s/g,"");if($.length>4&&$.length!==12){R("Le numro de tlphone doit contenir 8 chiffres aprs +216.");return}const K={...j,rating:M,phone:$==="+216"?"":$};K.imageUrl||delete K.imageUrl;try{await u(K)}catch(xe){xe instanceof Error?R(xe.message):R("Une erreur inconnue est survenue lors de l'enregistrement.")}};if(!i)return null;const Z="w-full bg-background rounded-lg py-2.5 px-4 text-text-primary placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-premier focus:bg-white transition-colors";return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 overflow-y-auto p-4 sm:p-10","aria-modal":"true",role:"dialog",children:l.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl transform transition-all mx-auto",children:l.jsxs("form",{onSubmit:ne,children:[l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:S?"Modifier le docteur":"Ajouter un docteur"}),l.jsx("button",{type:"button",onClick:d,className:"p-1 rounded-full text-text-secondary hover:bg-gray-100",children:l.jsx(Re,{className:"h-6 w-6"})})]}),S&&c&&l.jsxs("div",{className:"flex items-center gap-4 py-5 border-b border-border-color mb-6",children:[l.jsx(za,{name:c.name,src:c.imageUrl,size:"lg"}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"font-semibold text-text-primary",children:c.name}),l.jsx("p",{className:"text-sm text-text-secondary",children:c.specialty})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-text-secondary mb-1",children:"Nom complet"}),l.jsx("input",{required:!0,type:"text",name:"name",id:"name",value:j.name,onChange:_,onInvalid:q=>A(q,"Veuillez remplir ce champ."),onInput:G,className:Z})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"specialty",className:"block text-sm font-medium text-text-secondary mb-1",children:"Spcialit"}),l.jsx(yn,{options:m,value:j.specialty,onChange:q=>w(M=>({...M,specialty:q})),placeholder:"Choisir ou crer une spcialit",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-text-secondary mb-1",children:"Ville"}),l.jsx(Qe,{options:Yg,value:j.city,onChange:ee})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"rating",className:"block text-sm font-medium text-text-secondary mb-1",children:"Note (0-5)"}),l.jsx("input",{required:!0,type:"number",step:"0.1",min:"0",max:"5",name:"rating",id:"rating",value:j.rating,onChange:_,onInvalid:q=>A(q,"Veuillez remplir ce champ."),onInput:G,className:Z})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-text-secondary mb-1",children:"Tlphone"}),l.jsx("input",{type:"tel",name:"phone",id:"phone",value:j.phone,onChange:H,className:Z})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-6 bg-gray-50 p-4 rounded-lg border border-border-color",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"googleMapLink",className:"block text-sm font-medium text-text-secondary mb-1",children:"Lien Google Maps"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",name:"googleMapLink",id:"googleMapLink",value:j.googleMapLink,onChange:_,className:Z,placeholder:"https://maps.google.com/..."}),j.googleMapLink&&l.jsx("a",{href:Hm(j.googleMapLink),target:"_blank",rel:"noopener noreferrer",className:"p-2.5 bg-white rounded-lg text-blue-600 hover:text-blue-800 border border-gray-200 hover:border-blue-300 flex-shrink-0 transition-colors flex items-center justify-center shadow-sm",title:"Tester le lien",children:l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"appStoreLink",className:"block text-sm font-medium text-text-secondary mb-1",children:"Lien Apple Maps"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",name:"appStoreLink",id:"appStoreLink",value:j.appStoreLink,onChange:_,className:Z,placeholder:"http://maps.apple.com/..."}),j.appStoreLink&&l.jsx("a",{href:Hm(j.appStoreLink),target:"_blank",rel:"noopener noreferrer",className:"p-2.5 bg-white rounded-lg text-blue-600 hover:text-blue-800 border border-gray-200 hover:border-blue-300 flex-shrink-0 transition-colors flex items-center justify-center shadow-sm",title:"Tester le lien",children:l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Photo de profil"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[j.imageUrl&&l.jsxs("div",{className:"relative w-32 h-32 flex-shrink-0 mx-auto sm:mx-0 group",children:[l.jsx("img",{src:j.imageUrl.startsWith("http")?j.imageUrl:`https://${j.imageUrl}`,alt:"Aperu",className:"w-full h-full object-cover rounded-xl border border-border-color shadow-sm bg-gray-50",onError:q=>{q.currentTarget.src="https://via.placeholder.com/150?text=Erreur"}}),l.jsx("button",{type:"button",onClick:()=>{w(q=>({...q,imageUrl:""})),k.current&&(k.current.value="")},className:"absolute -top-2 -right-2 bg-red-100 text-red-600 rounded-full p-1 hover:bg-red-200 transition-colors border border-white shadow-sm",title:"Supprimer l'image",children:l.jsx(Re,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex-1 w-full space-y-3",children:[l.jsx("div",{className:"w-full",children:l.jsx("input",{type:"text",name:"imageUrl",value:j.imageUrl,onChange:q=>w(M=>({...M,imageUrl:q.target.value})),placeholder:"https://exemple.com/photo.jpg",className:Z,disabled:T})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-px bg-border-color flex-1"}),l.jsx("span",{className:"text-xs text-text-secondary uppercase font-medium",children:"OU"}),l.jsx("div",{className:"h-px bg-border-color flex-1"})]}),l.jsxs("div",{children:[l.jsx("input",{type:"file",ref:k,className:"hidden",accept:"image/*",onChange:P,disabled:T}),l.jsx("button",{type:"button",onClick:()=>{var q;return(q=k.current)==null?void 0:q.click()},disabled:T,className:"w-full flex items-center justify-center gap-2 py-2.5 border border-dashed border-gray-300 rounded-lg text-sm text-text-secondary hover:text-premier hover:border-premier hover:bg-premier/5 transition-all bg-gray-50/50 disabled:opacity-50 disabled:cursor-not-allowed",children:T?l.jsxs(l.Fragment,{children:[l.jsx(bt,{className:"h-5 w-5 text-premier"}),l.jsx("span",{children:"Tlchargement..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(bn,{className:"h-5 w-5"}),l.jsx("span",{children:"Choisir une image depuis l'appareil"})]})})]})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"workTime",className:"block text-sm font-medium text-text-secondary mb-1",children:"Horaires de travail"}),l.jsx("input",{type:"text",name:"workTime",id:"workTime",value:j.workTime,onChange:_,placeholder:"ex: Lun-Ven 9:00-17:00",className:Z})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-text-secondary mb-1",children:"Description"}),l.jsx("textarea",{name:"description",id:"description",value:j.description,onChange:_,rows:4,className:Z})]}),g&&l.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:g})]})]}),l.jsxs("div",{className:"px-6 py-4 flex flex-row-reverse items-center gap-3 border-t border-border-color mt-6",children:[l.jsx("button",{type:"submit",disabled:h||T,className:"inline-flex justify-center rounded-lg shadow-sm px-5 py-2.5 bg-premier text-base font-semibold text-white hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:h||T?"Enregistrement...":"Enregistrer"}),l.jsx("button",{type:"button",onClick:d,disabled:h||T,className:"inline-flex justify-center rounded-lg border border-border-color shadow-sm px-5 py-2.5 bg-white text-base font-semibold text-text-primary hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:"Annuler"})]})]})})})},Xg=({rating:i})=>l.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((d,u)=>l.jsx("svg",{className:`h-4 w-4 ${u<Math.round(i)?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},u)),l.jsx("span",{className:"text-xs text-text-secondary ml-1.5",children:i.toFixed(1)})]}),$g=({doctors:i,onEdit:d,onDelete:u})=>l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-border-color",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Docteur"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Spcialit"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Ville"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Note"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Tlphone"}),l.jsx("th",{scope:"col",className:"relative px-6 py-3",children:l.jsx("span",{className:"sr-only",children:"Actions"})})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-border-color",children:i.map(c=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(za,{name:c.name,src:c.imageUrl})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("div",{className:"text-sm font-medium text-text-primary",children:c.name}),l.jsx("div",{className:"text-sm text-text-secondary",children:c.city||"Ville non spcifie"})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:c.specialty}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:c.city}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:l.jsx(Xg,{rating:c.rating})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:c.phone||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[l.jsx("button",{onClick:()=>d(c),className:"p-2 rounded-md text-text-secondary hover:bg-gray-100 hover:text-premier transition-colors","aria-label":`Modifier ${c.name}`,children:l.jsx(ca,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>u(c),className:"p-2 rounded-md text-text-secondary hover:bg-gray-100 hover:text-red-600 transition-colors","aria-label":`Supprimer ${c.name}`,children:l.jsx(Rt,{className:"h-5 w-5"})})]})})]},c._id))})]})}),ho=10,Zg=({message:i,type:d,onClose:u})=>{x.useEffect(()=>{const m=setTimeout(u,5e3);return()=>clearTimeout(m)},[u]);const c="fixed top-5 right-5 z-50 p-4 rounded-md shadow-lg text-white flex items-center animate-fade-in-up",h=d==="success"?"bg-green-500":"bg-red-600";return l.jsxs("div",{className:`${c} ${h}`,role:"alert",children:[l.jsx("span",{className:"flex-grow",children:i}),l.jsx("button",{onClick:u,className:"ml-4 p-1 rounded-full hover:bg-white/20",children:l.jsx(Re,{className:"h-5 w-5"})})]})},Jg=({token:i,onLogout:d})=>{const[u,c]=x.useState([]),[h,m]=x.useState(!0),[v,j]=x.useState(null),[w,g]=x.useState(""),[R,T]=x.useState(1),[Y,k]=x.useState(null),[S,_]=x.useState(!1),[H,ee]=x.useState(null),[P,A]=x.useState(!1),[G,ne]=x.useState(null),[Z,q]=x.useState("name-asc"),[M,$]=x.useState("all"),[K,xe]=x.useState("all"),ue=(F,b="success")=>{ne({message:F,type:b})},ve=[{value:"name-asc",label:"Nom (A-Z)"},{value:"name-desc",label:"Nom (Z-A)"},{value:"rating-desc",label:"Mieux nots"},{value:"rating-asc",label:"Moins bien nots"},{value:"city-asc",label:"Ville (A-Z)"}],pe=x.useMemo(()=>{const F=new Set(u.map(C=>C.city).filter(C=>!!C)),b=[{value:"all",label:"Toutes les villes"}];return[...F].sort().forEach(C=>b.push({value:C,label:C})),b},[u]),me=x.useMemo(()=>{const F=new Set(u.map(C=>C.specialty).filter(C=>!!C)),b=[{value:"all",label:"Toutes les spcialits"}];return[...F].sort().forEach(C=>b.push({value:C,label:C})),b},[u]),O=x.useMemo(()=>[...new Set(u.map(b=>b.specialty).filter(b=>!!b))].sort(),[u]);x.useEffect(()=>{(async()=>{try{m(!0),j(null);const b=await Im(i);c(b)}catch(b){b instanceof Error?b.message==="Session expire. Veuillez vous reconnecter."?d():j(b.message):j("Une erreur inconnue est survenue.")}finally{m(!1)}})()},[i,d]);const le=x.useMemo(()=>{let F=u.filter(b=>{var C,Q,I;return(((C=b.name)==null?void 0:C.toLowerCase())||"").includes(w.toLowerCase())||(((Q=b.specialty)==null?void 0:Q.toLowerCase())||"").includes(w.toLowerCase())||(((I=b.city)==null?void 0:I.toLowerCase())||"").includes(w.toLowerCase())}).filter(b=>M==="all"||b.city===M).filter(b=>K==="all"||b.specialty===K);if(Z){const[b,C]=Z.split("-");F.sort((Q,I)=>{const D=Q[b],te=I[b];if(D==null)return 1;if(te==null)return-1;let z=0;return typeof D=="string"&&typeof te=="string"?z=D.localeCompare(te,"fr",{sensitivity:"base"}):typeof D=="number"&&typeof te=="number"&&(z=D-te),C==="desc"?-z:z})}return F},[u,w,Z,M,K]),de=x.useMemo(()=>{const F=(R-1)*ho;return le.slice(F,F+ho)},[le,R]),ce=async F=>{A(!0);try{if(Y){const b=await ag(i,Y._id,F);c(u.map(C=>C._id===b._id?{...C,...b}:C)),ue("Docteur mis  jour avec succs.","success")}else{const b=await tg(i,F);c([b,...u]),ue("Docteur ajout avec succs.","success")}_(!1),k(null)}catch(b){const C=b instanceof Error?b.message:"La sauvegarde a chou.";throw ue(C,"error"),b}finally{A(!1)}},re=async()=>{if(H){A(!0);try{await lg(i,H._id),c(u.filter(F=>F._id!==H._id)),ue("Docteur supprim avec succs.","success")}catch(F){const b=F instanceof Error?F.message:"La suppression a chou.";ue(b,"error")}finally{A(!1),ee(null)}}},p=()=>{k(null),_(!0)},V=F=>{k(F),_(!0)},ie=()=>h?l.jsx("div",{className:"flex-1 flex justify-center items-center",children:l.jsx(bt,{className:"h-12 w-12 text-premier"})}):v?l.jsx("p",{className:"text-red-500 text-center p-4 bg-red-50 rounded-lg m-4",children:v}):l.jsxs(l.Fragment,{children:[l.jsx($g,{doctors:de,onEdit:V,onDelete:ee}),l.jsx(Nl,{currentPage:R,totalItems:le.length,itemsPerPage:ho,onPageChange:T})]});return l.jsxs(l.Fragment,{children:[G&&l.jsx(Zg,{message:G.message,type:G.type,onClose:()=>ne(null)}),l.jsx(oa,{title:"Gestion des docteurs",headerContent:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center w-full",children:[l.jsxs("div",{className:"relative flex-grow w-full sm:w-auto",children:[l.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:l.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"search",placeholder:"Rechercher par nom, ville...",onChange:F=>{g(F.target.value),T(1)},className:"w-full pl-10 pr-4 py-2.5 bg-white border border-border-color rounded-lg text-sm text-text-primary focus:ring-premier focus:border-premier transition"})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-3 w-full sm:w-auto",children:[l.jsx(Qe,{options:pe,value:M,onChange:F=>{$(F),T(1)},labelPrefix:"Ville : "}),l.jsx(Qe,{options:me,value:K,onChange:F=>{xe(F),T(1)},labelPrefix:"Spcialit : "}),l.jsx(Qe,{options:ve,value:Z,onChange:q,labelPrefix:"Trier par : "})]}),l.jsxs("button",{onClick:p,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-5 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-premier hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier transition-colors",children:[l.jsx(Ft,{className:"h-5 w-5"}),l.jsx("span",{children:"Ajouter"})]})]}),children:ie()}),l.jsx(Qg,{isOpen:S,onClose:()=>_(!1),onSave:ce,doctor:Y,isLoading:P,specialties:O,token:i}),l.jsx(Ma,{isOpen:!!H,onClose:()=>ee(null),onConfirm:re,title:"Supprimer le docteur",message:`tes-vous sr de vouloir supprimer Dr. ${H==null?void 0:H.name}? Cette action est irrversible.`,confirmButtonText:"Supprimer",isLoading:P})]})},Kg=[{min:0,max:179,label:"0 - 6 mois (0 - 179 jours)"},{min:180,max:270,label:"6 - 9 mois (180 - 270 jours)"},{min:271,max:720,label:"9 - 24 mois (271 - 720 jours)"}],Fg=({isOpen:i,onClose:d,onSave:u,category:c,isLoading:h})=>{const[m,v]=x.useState(""),[j,w]=x.useState(!0),[g,R]=x.useState([]),[T,Y]=x.useState([]),[k,S]=x.useState("");x.useEffect(()=>{i&&(S(""),c?(v(c.name),w(c.isActive),R(c.contentTypes),Y(c.ageRanges||[])):(v(""),w(!0),R(["article","advice","recipe"]),Y([])))},[i,c]);const _=G=>{R(ne=>ne.includes(G)?ne.filter(Z=>Z!==G):[...ne,G])},H=(G,ne)=>{Y(Z=>Z.some(M=>M.minDay===G&&M.maxDay===ne)?Z.filter(M=>!(M.minDay===G&&M.maxDay===ne)):[...Z,{minDay:G,maxDay:ne}])},ee=G=>{G.target.setCustomValidity("Veuillez remplir ce champ.")},P=G=>{G.target.setCustomValidity("")},A=async G=>{if(G.preventDefault(),S(""),g.length===0){S("Veuillez slectionner au moins un type de contenu.");return}if(T.length===0){S("Veuillez slectionner au moins une tranche d'ge.");return}const ne={name:m,isActive:j,contentTypes:g,ageRanges:T};try{await u(ne)}catch(Z){Z instanceof Error?S(Z.message):S("Une erreur inconnue est survenue.")}};return i?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 overflow-y-auto p-4","aria-modal":"true",role:"dialog",children:l.jsx("div",{className:"flex min-h-full items-center justify-center",children:l.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg transform transition-all",children:l.jsxs("form",{onSubmit:A,children:[l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:c?"Modifier la catgorie":"Ajouter une catgorie"}),l.jsx("button",{type:"button",onClick:d,className:"p-1 rounded-full text-text-secondary hover:bg-gray-100",children:l.jsx(Re,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-text-secondary mb-1",children:"Nom de la catgorie"}),l.jsx("input",{required:!0,type:"text",id:"name",value:m,onChange:G=>v(G.target.value),onInvalid:ee,onInput:P,className:"w-full bg-background rounded-lg py-2.5 px-4 text-text-primary border border-transparent focus:border-premier focus:outline-none focus:ring-2 focus:ring-premier focus:bg-white transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Types de contenu autoriss"}),l.jsx("div",{className:"flex gap-4",children:["article","advice","recipe"].map(G=>l.jsxs("label",{className:"inline-flex items-center cursor-pointer select-none",children:[l.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-premier border-gray-300 rounded focus:ring-premier",checked:g.includes(G),onChange:()=>_(G)}),l.jsx("span",{className:"ml-2 text-sm text-text-primary capitalize",children:G==="advice"?"Conseil":G==="recipe"?"Recette":"Article"})]},G))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-3",children:"Tranches d'ge"}),l.jsx("div",{className:"grid gap-3",children:Kg.map(G=>{const ne=T.some(Z=>Z.minDay===G.min&&Z.maxDay===G.max);return l.jsxs("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer transition-all ${ne?"border-premier bg-premier/5":"border-border-color hover:bg-gray-50"}`,children:[l.jsx("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-premier border-gray-300 rounded focus:ring-premier",checked:ne,onChange:()=>H(G.min,G.max)}),l.jsx("span",{className:"ml-3 text-sm font-medium text-text-primary",children:G.label})]},G.min)})})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center cursor-pointer",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"checkbox",className:"sr-only",checked:j,onChange:G=>w(G.target.checked)}),l.jsx("div",{className:`block w-10 h-6 rounded-full transition-colors ${j?"bg-premier":"bg-gray-300"}`}),l.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${j?"transform translate-x-4":""}`})]}),l.jsx("div",{className:"ml-3 text-sm font-medium text-text-secondary",children:j?"Actif":"Inactif"})]})}),k&&l.jsx("p",{className:"text-red-500 text-sm text-center bg-red-50 p-2 rounded",children:k})]})]}),l.jsxs("div",{className:"px-6 py-4 flex flex-row-reverse items-center gap-3 border-t border-border-color bg-gray-50 rounded-b-lg",children:[l.jsx("button",{type:"submit",disabled:h,className:"inline-flex justify-center rounded-lg shadow-sm px-5 py-2.5 bg-premier text-base font-semibold text-white hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:h?"Enregistrement...":"Enregistrer"}),l.jsx("button",{type:"button",onClick:d,disabled:h,className:"inline-flex justify-center rounded-lg border border-border-color shadow-sm px-5 py-2.5 bg-white text-base font-semibold text-text-primary hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:"Annuler"})]})]})})})}):null},Ig=({categories:i,onEdit:d,onDelete:u})=>{const c=m=>{switch(m){case"article":return"bg-blue-100 text-blue-800";case"advice":return"bg-purple-100 text-purple-800";case"recipe":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},h=m=>{switch(m){case"advice":return"Conseil";case"recipe":return"Recette";default:return"Article"}};return l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-border-color",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Nom"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Types de contenu"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Tranches d'ge (Jours)"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Statut"}),l.jsx("th",{scope:"col",className:"relative px-6 py-3",children:l.jsx("span",{className:"sr-only",children:"Actions"})})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-border-color",children:i.map(m=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-text-primary",children:m.name})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"flex flex-wrap gap-1",children:m.contentTypes.map(v=>l.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${c(v)}`,children:h(v)},v))})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:l.jsx("div",{className:"flex flex-col gap-0.5",children:m.ageRanges&&m.ageRanges.length>0?m.ageRanges.map((v,j)=>l.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded-full w-fit border border-gray-200",children:[v.minDay," - ",v.maxDay," j"]},j)):l.jsx("span",{className:"text-gray-400 italic",children:"Aucune"})})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex px-2 text-xs leading-5 font-semibold rounded-full ${m.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.isActive?"Actif":"Inactif"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[l.jsx("button",{onClick:()=>d(m),className:"p-2 rounded-md text-text-secondary hover:bg-gray-100 hover:text-premier transition-colors","aria-label":`Modifier ${m.name}`,children:l.jsx(ca,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>u(m),className:"p-2 rounded-md text-text-secondary hover:bg-gray-100 hover:text-red-600 transition-colors","aria-label":`Supprimer ${m.name}`,children:l.jsx(Rt,{className:"h-5 w-5"})})]})})]},m._id))})]})})},po=10,Wg=({message:i,type:d,onClose:u})=>{x.useEffect(()=>{const m=setTimeout(u,5e3);return()=>clearTimeout(m)},[u]);const c="fixed top-5 right-5 z-50 p-4 rounded-md shadow-lg text-white flex items-center animate-fade-in-up",h=d==="success"?"bg-green-500":"bg-red-600";return l.jsxs("div",{className:`${c} ${h}`,role:"alert",children:[l.jsx("span",{className:"flex-grow",children:i}),l.jsx("button",{onClick:u,className:"ml-4 p-1 rounded-full hover:bg-white/20",children:l.jsx(Re,{className:"h-5 w-5"})})]})},Pg=({token:i,onLogout:d})=>{const[u,c]=x.useState([]),[h,m]=x.useState(!0),[v,j]=x.useState(null),[w,g]=x.useState(""),[R,T]=x.useState(1),[Y,k]=x.useState(null),[S,_]=x.useState(!1),[H,ee]=x.useState(null),[P,A]=x.useState(!1),[G,ne]=x.useState(null),[Z,q]=x.useState("name-asc"),[M,$]=x.useState("all"),K=(re,p="success")=>{ne({message:re,type:p})},xe=[{value:"name-asc",label:"Nom (A-Z)"},{value:"name-desc",label:"Nom (Z-A)"},{value:"createdAt-desc",label:"Plus rcent"},{value:"createdAt-asc",label:"Plus ancien"}],ue=[{value:"all",label:"Tous les statuts"},{value:"active",label:"Actif"},{value:"inactive",label:"Inactif"}];x.useEffect(()=>{(async()=>{try{m(!0),j(null);const p=await vn(i);c(p)}catch(p){p instanceof Error?p.message==="Session expire. Veuillez vous reconnecter."?d():j(p.message):j("Une erreur inconnue est survenue.")}finally{m(!1)}})()},[i,d]);const ve=x.useMemo(()=>{let re=u.filter(p=>{var V;return(((V=p.name)==null?void 0:V.toLowerCase())||"").includes(w.toLowerCase())}).filter(p=>M==="all"?!0:M==="active"?p.isActive:!p.isActive);if(Z){const[p,V]=Z.split("-");re.sort((ie,F)=>{const b=ie[p],C=F[p];if(b==null)return 1;if(C==null)return-1;let Q=0;return typeof b=="string"&&typeof C=="string"?Q=b.localeCompare(C,"fr",{sensitivity:"base"}):b<C?Q=-1:b>C&&(Q=1),V==="desc"?-Q:Q})}return re},[u,w,Z,M]),pe=x.useMemo(()=>{const re=(R-1)*po;return ve.slice(re,re+po)},[ve,R]),me=async re=>{A(!0);try{if(Y){const p=await Ng(i,Y._id,re);c(u.map(V=>V._id===p._id?{...V,...p}:V)),K("Catgorie mise  jour avec succs.","success")}else{const p=await jg(i,re);c([p,...u]),K("Catgorie ajoute avec succs.","success")}_(!1),k(null)}catch(p){const V=p instanceof Error?p.message:"La sauvegarde a chou.";throw K(V,"error"),p}finally{A(!1)}},O=async()=>{if(H){A(!0);try{await wg(i,H._id),c(u.filter(re=>re._id!==H._id)),K("Catgorie supprime avec succs.","success")}catch(re){const p=re instanceof Error?re.message:"La suppression a chou.";K(p,"error")}finally{A(!1),ee(null)}}},le=()=>{k(null),_(!0)},de=re=>{k(re),_(!0)},ce=()=>h?l.jsx("div",{className:"flex-1 flex justify-center items-center",children:l.jsx(bt,{className:"h-12 w-12 text-premier"})}):v?l.jsx("p",{className:"text-red-500 text-center p-4 bg-red-50 rounded-lg m-4",children:v}):l.jsxs(l.Fragment,{children:[l.jsx(Ig,{categories:pe,onEdit:de,onDelete:ee}),l.jsx(Nl,{currentPage:R,totalItems:ve.length,itemsPerPage:po,onPageChange:T})]});return l.jsxs(l.Fragment,{children:[G&&l.jsx(Wg,{message:G.message,type:G.type,onClose:()=>ne(null)}),l.jsx(oa,{title:"Gestion des catgories",headerContent:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center w-full",children:[l.jsxs("div",{className:"relative flex-grow w-full sm:w-auto",children:[l.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:l.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"search",placeholder:"Rechercher une catgorie...",onChange:re=>{g(re.target.value),T(1)},className:"w-full pl-10 pr-4 py-2.5 bg-white border border-border-color rounded-lg text-sm text-text-primary focus:ring-premier focus:border-premier transition"})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-3 w-full sm:w-auto",children:[l.jsx(Qe,{options:ue,value:M,onChange:re=>{$(re),T(1)}}),l.jsx(Qe,{options:xe,value:Z,onChange:q,labelPrefix:"Trier par : "})]}),l.jsxs("button",{onClick:le,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-5 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-premier hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier transition-colors",children:[l.jsx(Ft,{className:"h-5 w-5"}),l.jsx("span",{children:"Ajouter"})]})]}),children:ce()}),l.jsx(Fg,{isOpen:S,onClose:()=>_(!1),onSave:me,category:Y,isLoading:P}),l.jsx(Ma,{isOpen:!!H,onClose:()=>ee(null),onConfirm:O,title:"Supprimer la catgorie",message:`tes-vous sr de vouloir supprimer la catgorie "${H==null?void 0:H.name}" ? Cette action est irrversible.`,confirmButtonText:"Supprimer",isLoading:P})]})},e0=({isOpen:i,onClose:d,onSave:u,advice:c,categories:h,usedDays:m=[],isLoading:v,existingSources:j=[],token:w})=>{const[g,R]=x.useState(""),[T,Y]=x.useState(""),[k,S]=x.useState(null),[_,H]=x.useState(!1),[ee,P]=x.useState(!0),[A,G]=x.useState(["",""]),[ne,Z]=x.useState(["",""]),[q,M]=x.useState([""]),[$,K]=x.useState(""),[xe,ue]=x.useState(!1),ve=x.useRef([]);x.useEffect(()=>{if(i)if(K(""),ue(!1),c){R(c.title),Y(typeof c.category=="string"?c.category:c.category._id),P(c.isActive!==!1),c.day!==null&&c.day!==void 0?(H(!0),S(c.day)):(H(!1),S(null));const b=c.description||[];G([b[0]||"",b[1]||""]);const C=c.imageUrl||[];Z([C[0]||"",C[1]||""]),M(c.sources&&c.sources.length>0?c.sources.map(Q=>Q.toUpperCase()):[""])}else R(""),Y(""),P(!0),S(null),H(!1),G(["",""]),Z(["",""]),M([""])},[i,c]);const pe=(b,C,Q)=>{b(I=>{const D=[...I];return D[C]=Q,D})},me=(b,C)=>{M(Q=>{const I=[...Q];return I[b]=C.toUpperCase(),I})},O=()=>M(b=>[...b,""]),le=b=>M(C=>C.filter((Q,I)=>I!==b)),de=async(b,C)=>{var I;const Q=(I=b.target.files)==null?void 0:I[0];if(Q){if(Q.size>5*1024*1024){K("L'image est trop volumineuse (max 5MB).");return}ue(!0),K("");try{const D=await qr(w,Q);pe(Z,C,D)}catch(D){K(D instanceof Error?D.message:"chec du tlchargement de l'image."),ve.current[C]&&(ve.current[C].value="")}finally{ue(!1)}}},ce=b=>{b.target.setCustomValidity("Veuillez remplir ce champ.")},re=b=>{b.target.setCustomValidity("")},p=async b=>{if(b.preventDefault(),K(""),xe)return;if(!T){K("Veuillez slectionner une catgorie.");return}const C=A.filter(z=>z.trim()!==""),Q=ne.filter(z=>z.trim()!==""),I=q.filter(z=>z.trim()!=="");if(C.length===0){K("Veuillez ajouter au moins un paragraphe de description.");return}if(Q.length===0){K("Veuillez ajouter au moins une image.");return}let D=null;if(_){if(k===null){K("Veuillez slectionner un jour spcifique dans la grille.");return}if(k<180||k>270){K("Le jour doit tre compris entre 180 et 270 (6 - 9 mois).");return}if(m.includes(k)&&k!==(c==null?void 0:c.day)){K(`Le jour ${k} est dj utilis. Veuillez en choisir un autre.`);return}D=k}const te={title:g,category:T,description:C,imageUrl:Q,sources:I,day:D,isActive:ee,minDay:null,maxDay:null};try{await u(te)}catch(z){z instanceof Error?K(z.message):K("Une erreur inconnue est survenue.")}},V=x.useMemo(()=>Array.from({length:91},(b,C)=>180+C),[]);if(!i)return null;const ie="w-full bg-background rounded-lg py-2.5 px-4 text-text-primary placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-premier focus:bg-white transition-colors",F=[{value:"",label:"Slectionner une catgorie"},...h.map(b=>({value:b._id,label:b.name}))];return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 overflow-y-auto p-4 sm:p-6","aria-modal":"true",role:"dialog",children:l.jsx("div",{className:"flex min-h-full items-center justify-center",children:l.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl transform transition-all",children:l.jsxs("form",{onSubmit:p,children:[l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:c?"Modifier le conseil":"Ajouter un conseil"}),l.jsx("button",{type:"button",onClick:d,className:"p-1 rounded-full text-text-secondary hover:bg-gray-100",children:l.jsx(Re,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-text-secondary mb-1",children:"Titre"}),l.jsx("input",{required:!0,type:"text",id:"title",value:g,onChange:b=>R(b.target.value),onInvalid:ce,onInput:re,className:ie})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Catgorie"}),l.jsx(Qe,{options:F,value:T,onChange:Y})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-3",children:"Statut"}),l.jsxs("label",{className:"flex items-center cursor-pointer w-fit select-none",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"checkbox",className:"sr-only",checked:ee,onChange:b=>P(b.target.checked)}),l.jsx("div",{className:`block w-10 h-6 rounded-full transition-colors ${ee?"bg-premier":"bg-gray-300"}`}),l.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${ee?"transform translate-x-4":""}`})]}),l.jsx("div",{className:"ml-3 text-sm font-medium text-text-secondary",children:ee?"Actif (Visible)":"Inactif (Masqu)"})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 sm:p-5 rounded-xl border border-border-color transition-all duration-300",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-bold text-text-primary",children:"Ciblage temporel (6-9 mois)"}),l.jsx("p",{className:"text-xs text-text-secondary mt-0.5",children:"Assigner ce conseil  un jour prcis du programme."})]}),l.jsxs("label",{className:"inline-flex items-center cursor-pointer select-none self-start sm:self-auto",children:[l.jsx("input",{type:"checkbox",className:"sr-only",checked:_,onChange:b=>{H(b.target.checked),b.target.checked||S(null)}}),l.jsx("div",{className:`relative w-11 h-6 transition-colors rounded-full ${_?"bg-premier":"bg-gray-300"}`,children:l.jsx("div",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${_?"translate-x-5":""}`})}),l.jsx("span",{className:"ml-3 text-sm font-medium text-text-secondary",children:_?"Activ":"Dsactiv"})]})]}),_?l.jsxs("div",{className:"mt-4 animate-fade-in-up",children:[l.jsx("div",{className:"flex flex-col sm:flex-row justify-between sm:items-end mb-3 gap-2",children:l.jsxs("div",{className:"flex gap-4 text-xs font-medium text-text-secondary",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"w-3 h-3 rounded-full bg-white border border-gray-300 shadow-sm"}),l.jsx("span",{children:"Libre"})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"w-3 h-3 rounded-full bg-gray-100 border border-gray-200"}),l.jsx("span",{children:"Pris"})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"w-3 h-3 rounded-full bg-premier border border-premier"}),l.jsx("span",{children:"Slectionn"})]})]})}),l.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-8 md:grid-cols-10 lg:grid-cols-12 gap-2 p-3 bg-white border border-border-color rounded-xl max-h-64 overflow-y-auto custom-scrollbar shadow-inner",children:V.map(b=>{const C=m.includes(b),Q=b===(c==null?void 0:c.day),I=k===b,D=C&&!Q;return l.jsx("button",{type:"button",disabled:D,onClick:()=>S(b),className:`
                                                    relative h-10 rounded-lg flex items-center justify-center text-xs font-semibold transition-all duration-200
                                                    ${I?"bg-premier text-white shadow-md scale-105 ring-2 ring-premier ring-offset-1 z-10":D?"bg-gray-50 text-gray-300 cursor-not-allowed":"bg-white text-text-secondary hover:text-premier hover:bg-premier/5 border border-gray-100 hover:border-premier/30"}
                                                `,title:D?`Jour ${b} dj utilis`:`Slectionner jour ${b}`,children:b},b)})}),k&&l.jsxs("div",{className:"mt-4 p-3 bg-premier/5 border border-premier/10 rounded-lg flex justify-between items-center animate-fade-in-up",children:[l.jsx("span",{className:"text-sm text-text-secondary",children:"Jour slectionn :"}),l.jsxs("span",{className:"text-sm font-bold text-premier bg-white px-3 py-1 rounded shadow-sm",children:["Jour ",k]})]})]}):l.jsx("div",{className:"p-4 bg-gray-100 rounded-lg text-sm text-text-secondary text-center border-2 border-dashed border-gray-200",children:'Ce conseil sera visible dans la catgorie "Autres".'})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Description (2 paragraphes)"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Paragraphe 1"}),l.jsx("textarea",{rows:3,value:A[0],onChange:b=>pe(G,0,b.target.value),className:ie,placeholder:"Introduction ou premire partie du conseil..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Paragraphe 2"}),l.jsx("textarea",{rows:3,value:A[1],onChange:b=>pe(G,1,b.target.value),className:ie,placeholder:"Suite ou conclusion du conseil..."})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-3",children:"Images (2 obligatoires)"}),l.jsx("div",{className:"space-y-6",children:[0,1].map(b=>l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-border-color",children:[l.jsxs("label",{className:"block text-xs font-bold text-text-secondary mb-2",children:["Image ",b===0?"principale":"secondaire"]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[ne[b]&&l.jsxs("div",{className:"relative w-32 h-32 flex-shrink-0 mx-auto sm:mx-0 group",children:[l.jsx("img",{src:ne[b].startsWith("http")?ne[b]:`https://${ne[b]}`,alt:`Aperu ${b+1}`,className:"w-full h-full object-cover rounded-xl border border-border-color shadow-sm bg-white",onError:C=>{C.currentTarget.src="https://via.placeholder.com/150?text=Erreur"}}),l.jsx("button",{type:"button",onClick:()=>{pe(Z,b,""),ve.current[b]&&(ve.current[b].value="")},className:"absolute -top-2 -right-2 bg-red-100 text-red-600 rounded-full p-1 hover:bg-red-200 transition-colors border border-white shadow-sm",title:"Supprimer l'image",children:l.jsx(Re,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex-1 w-full space-y-3",children:[l.jsx("div",{className:"w-full",children:l.jsx("input",{type:"text",value:ne[b],onChange:C=>pe(Z,b,C.target.value),placeholder:"https://exemple.com/photo.jpg",className:ie,disabled:xe})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-px bg-border-color flex-1"}),l.jsx("span",{className:"text-xs text-text-secondary uppercase font-medium",children:"OU"}),l.jsx("div",{className:"h-px bg-border-color flex-1"})]}),l.jsxs("div",{children:[l.jsx("input",{type:"file",ref:C=>{ve.current[b]=C},className:"hidden",accept:"image/*",onChange:C=>de(C,b),disabled:xe}),l.jsx("button",{type:"button",onClick:()=>{var C;return(C=ve.current[b])==null?void 0:C.click()},disabled:xe,className:"w-full flex items-center justify-center gap-2 py-2.5 border border-dashed border-gray-300 rounded-lg text-sm text-text-secondary hover:text-premier hover:border-premier hover:bg-premier/5 transition-all bg-gray-50/50 disabled:opacity-50 disabled:cursor-not-allowed",children:xe?l.jsxs(l.Fragment,{children:[l.jsx(bt,{className:"h-5 w-5 text-premier"}),l.jsx("span",{children:"Tlchargement..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(bn,{className:"h-5 w-5"}),l.jsx("span",{children:"Choisir une image depuis l'appareil"})]})})]})]})]})]},b))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Sources"}),l.jsxs("button",{type:"button",onClick:O,className:"text-premier hover:text-premier-dark text-sm font-medium flex items-center gap-1",children:[l.jsx(Ft,{className:"h-4 w-4"})," Ajouter"]})]}),l.jsx("div",{className:"space-y-3",children:q.map((b,C)=>l.jsxs("div",{className:"flex gap-2 items-center relative z-10",style:{zIndex:q.length-C},children:[l.jsx("div",{className:"flex-grow",children:l.jsx(yn,{options:j,value:b,onChange:Q=>me(C,Q.toUpperCase()),placeholder:"ex: OMS, AFPA..."})}),q.length>1&&l.jsx("button",{type:"button",onClick:()=>le(C),className:"text-text-secondary hover:text-red-500 p-2",children:l.jsx(Re,{className:"h-5 w-5"})})]},C))})]}),$&&l.jsx("p",{className:"text-red-500 text-sm text-center bg-red-50 p-2 rounded",children:$})]})]}),l.jsxs("div",{className:"px-6 py-4 flex flex-row-reverse items-center gap-3 border-t border-border-color bg-gray-50 rounded-b-lg",children:[l.jsx("button",{type:"submit",disabled:v||xe,className:"inline-flex justify-center rounded-lg shadow-sm px-5 py-2.5 bg-premier text-base font-semibold text-white hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:v||xe?"Enregistrement...":"Enregistrer"}),l.jsx("button",{type:"button",onClick:d,disabled:v||xe,className:"inline-flex justify-center rounded-lg border border-border-color shadow-sm px-5 py-2.5 bg-white text-base font-semibold text-text-primary hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:"Annuler"})]})]})})})})},t0=({advices:i,onEdit:d,onDelete:u,onToggleStatus:c})=>{const h=m=>m!=null&&!isNaN(Number(m));return l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-border-color",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Aperu"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Titre"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Catgorie"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Ciblage (Jours)"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Statistiques"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Statut"}),l.jsx("th",{scope:"col",className:"relative px-6 py-3",children:l.jsx("span",{className:"sr-only",children:"Actions"})})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-border-color",children:i.map(m=>{const v=m.isActive!==!1;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"h-12 w-12 rounded-lg bg-gray-200 overflow-hidden",children:m.imageUrl&&m.imageUrl.length>0?l.jsx("img",{src:m.imageUrl[0],alt:"",className:"h-full w-full object-cover"}):l.jsx("div",{className:"h-full w-full flex items-center justify-center text-gray-400 text-xs",children:"No IMG"})})}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsx("div",{className:"text-sm font-medium text-text-primary",children:m.title}),l.jsx("div",{className:"text-xs text-text-secondary truncate max-w-xs",children:m.description&&m.description[0]})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:typeof m.category=="object"&&m.category?l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:m.category.name}):l.jsx("span",{className:"text-gray-400 italic",children:"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-primary",children:h(m.minDay)&&h(m.maxDay)?l.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-medium",children:[m.minDay," - ",m.maxDay," j"]}):h(m.day)?l.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs font-medium",children:["Jour ",m.day]}):l.jsx("span",{className:"text-gray-400",children:"-"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:l.jsxs("div",{className:"flex flex-col gap-1.5",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-1 text-green-600",title:"J'aime",children:[l.jsx(pn,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:m.likes?m.likes.length:0})]}),l.jsxs("div",{className:"flex items-center gap-1 text-red-500",title:"Je n'aime pas",children:[l.jsx(gn,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:m.dislikes?m.dislikes.length:0})]})]}),l.jsxs("div",{className:"flex items-center gap-1 text-gray-500",title:"Vues",children:[l.jsx(Lt,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:m.viewers?m.viewers.length:0})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("button",{onClick:()=>c(m),className:`inline-flex px-2 py-1 text-xs leading-5 font-semibold rounded-full cursor-pointer transition-colors ${v?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,title:"Cliquez pour changer le statut",children:v?"Actif":"Inactif"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[l.jsx("button",{onClick:()=>d(m),className:"p-2 rounded-md text-text-secondary hover:bg-gray-100 hover:text-premier transition-colors","aria-label":`Modifier ${m.title}`,children:l.jsx(ca,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>u(m),className:"p-2 rounded-md text-text-secondary hover:bg-gray-100 hover:text-red-600 transition-colors","aria-label":`Supprimer ${m.title}`,children:l.jsx(Rt,{className:"h-5 w-5"})})]})})]},m._id)})})]})})},go=10,a0=({message:i,type:d,onClose:u})=>{x.useEffect(()=>{const m=setTimeout(u,5e3);return()=>clearTimeout(m)},[u]);const c="fixed top-5 right-5 z-50 p-4 rounded-md shadow-lg text-white flex items-center animate-fade-in-up",h=d==="success"?"bg-green-500":"bg-red-600";return l.jsxs("div",{className:`${c} ${h}`,role:"alert",children:[l.jsx("span",{className:"flex-grow",children:i}),l.jsx("button",{onClick:u,className:"ml-4 p-1 rounded-full hover:bg-white/20",children:l.jsx(Re,{className:"h-5 w-5"})})]})},l0=[{id:"all",label:"Autres",min:-1,max:-1},{id:"6-9",label:"6 - 9 mois (180 - 270 j)",min:180,max:270}],s0=({token:i,onLogout:d})=>{const[u,c]=x.useState([]),[h,m]=x.useState([]),[v,j]=x.useState(!0),[w,g]=x.useState(null),[R,T]=x.useState(""),[Y,k]=x.useState(1),[S,_]=x.useState(null),[H,ee]=x.useState(!1),[P,A]=x.useState(null),[G,ne]=x.useState(!1),[Z,q]=x.useState(null),[M,$]=x.useState("day-asc"),[K,xe]=x.useState("all"),[ue,ve]=x.useState("all"),[pe,me]=x.useState("all"),O=(z,se="success")=>{q({message:z,type:se})},le=[{value:"day-asc",label:"Ciblage (Croissant)"},{value:"day-desc",label:"Ciblage (Dcroissant)"},{value:"title-asc",label:"Titre (A-Z)"},{value:"title-desc",label:"Titre (Z-A)"},{value:"createdAt-desc",label:"Plus rcent"},{value:"createdAt-asc",label:"Plus ancien"},{value:"viewers-desc",label:"Vues (Dcroissant)"}],de=[{value:"all",label:"Tous les statuts"},{value:"active",label:"Actif"},{value:"inactive",label:"Inactif"}],ce=x.useMemo(()=>h.filter(z=>z.contentTypes&&z.contentTypes.includes("advice")),[h]),re=x.useMemo(()=>{const z=[{value:"all",label:"Toutes les catgories"}];return ce.forEach(se=>z.push({value:se._id,label:se.name})),z},[ce]),p=x.useMemo(()=>u.map(z=>z.day).filter(z=>typeof z=="number"&&z!==null),[u]),V=x.useMemo(()=>{const z=new Set;return u.forEach(se=>{se.sources&&se.sources.forEach(oe=>{oe&&oe.trim()&&z.add(oe.trim().toUpperCase())})}),Array.from(z).sort()},[u]);x.useEffect(()=>{(async()=>{try{j(!0),g(null);const[se,oe]=await Promise.all([ex(i),vn(i)]);c(se),m(oe)}catch(se){se instanceof Error?se.message==="Session expire. Veuillez vous reconnecter."?d():g(se.message):g("Une erreur inconnue est survenue.")}finally{j(!1)}})()},[i,d]);const ie=x.useMemo(()=>{let z=u.filter(oe=>{var je;return(((je=oe.title)==null?void 0:je.toLowerCase())||"").includes(R.toLowerCase())}).filter(oe=>K==="all"?!0:(typeof oe.category=="object"?oe.category._id:oe.category)===K).filter(oe=>{if(ue==="all")return!0;const je=oe.isActive!==!1;return ue==="active"?je:!je});const se=oe=>{const je=oe.day!==null&&oe.day!==void 0?Number(oe.day):null,Oe=oe.minDay!==null&&oe.minDay!==void 0?Number(oe.minDay):null,ke=oe.maxDay!==null&&oe.maxDay!==void 0?Number(oe.maxDay):null,Ie=180,$e=270;return je!==null&&!isNaN(je)&&je>=Ie&&je<=$e||Oe!==null&&ke!==null&&!isNaN(Oe)&&!isNaN(ke)&&Oe>=Ie&&ke<=$e};if(pe==="all"?z=z.filter(oe=>!se(oe)):pe==="6-9"&&(z=z.filter(oe=>se(oe))),M){const[oe,je]=M.split("-");z.sort((Oe,ke)=>{var It,Tt;if(oe==="day"){const vt=aa=>aa.minDay!==null&&aa.minDay!==void 0?aa.minDay:aa.day!==null&&aa.day!==void 0?aa.day:1/0,ua=vt(Oe),qe=vt(ke);return je==="asc"?ua-qe:qe-ua}if(oe==="viewers"){const vt=((It=Oe.viewers)==null?void 0:It.length)||0,ua=((Tt=ke.viewers)==null?void 0:Tt.length)||0;return je==="desc"?ua-vt:vt-ua}const Ie=Oe[oe],$e=ke[oe];if(Ie==null)return 1;if($e==null)return-1;let ut=0;return typeof Ie=="string"&&typeof $e=="string"?ut=Ie.localeCompare($e,"fr",{sensitivity:"base"}):Ie<$e?ut=-1:Ie>$e&&(ut=1),je==="desc"?-ut:ut})}return z},[u,R,M,K,ue,pe]),F=x.useMemo(()=>{const z=(Y-1)*go;return ie.slice(z,z+go)},[ie,Y]),b=async z=>{ne(!0);try{if(S){const se=await hg(i,S._id,z);c(u.map(oe=>oe._id===se._id?{...oe,...se}:oe)),O("Conseil mis  jour avec succs.","success")}else{const se=await xg(i,z);if(typeof se.category=="string"){const oe=h.find(je=>je._id===se.category);oe&&(se.category=oe)}c([se,...u]),O("Conseil ajout avec succs.","success")}ee(!1),_(null)}catch(se){const oe=se instanceof Error?se.message:"La sauvegarde a chou.";throw O(oe,"error"),se}finally{ne(!1)}},C=async z=>{try{const se=z.isActive!==!1;let oe;se?(oe=await yg(i,z._id),O("Conseil dsactiv.","success")):(oe=await gg(i,z._id),O("Conseil activ.","success")),c(u.map(je=>je._id===oe._id?{...je,...oe}:je))}catch(se){const oe=se instanceof Error?se.message:"Impossible de modifier le statut.";O(oe,"error")}},Q=async()=>{if(P){ne(!0);try{await pg(i,P._id),c(u.filter(z=>z._id!==P._id)),O("Conseil supprim avec succs.","success")}catch(z){const se=z instanceof Error?z.message:"La suppression a chou.";O(se,"error")}finally{ne(!1),A(null)}}},I=()=>{_(null),ee(!0)},D=z=>{_(z),ee(!0)},te=()=>v?l.jsx("div",{className:"flex-1 flex justify-center items-center",children:l.jsx(bt,{className:"h-12 w-12 text-premier"})}):w?l.jsx("p",{className:"text-red-500 text-center p-4 bg-red-50 rounded-lg m-4",children:w}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"border-b border-border-color mb-0 bg-white",children:l.jsx("nav",{className:"-mb-px flex space-x-8 px-6 overflow-x-auto","aria-label":"Tabs",children:l0.map(z=>l.jsx("button",{onClick:()=>{me(z.id),k(1)},className:`
                                whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200
                                ${pe===z.id?"border-premier text-premier":"border-transparent text-text-secondary hover:text-text-primary hover:border-gray-300"}
                            `,children:z.label},z.id))})}),l.jsx(t0,{advices:F,onEdit:D,onDelete:A,onToggleStatus:C}),l.jsx(Nl,{currentPage:Y,totalItems:ie.length,itemsPerPage:go,onPageChange:k})]});return l.jsxs(l.Fragment,{children:[Z&&l.jsx(a0,{message:Z.message,type:Z.type,onClose:()=>q(null)}),l.jsx(oa,{title:"Gestion des conseils",headerContent:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center w-full",children:[l.jsxs("div",{className:"relative flex-grow w-full sm:w-auto",children:[l.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:l.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"search",placeholder:"Rechercher un conseil...",onChange:z=>{T(z.target.value),k(1)},className:"w-full pl-10 pr-4 py-2.5 bg-white border border-border-color rounded-lg text-sm text-text-primary focus:ring-premier focus:border-premier transition"})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-3 w-full sm:w-auto",children:[l.jsx(Qe,{options:re,value:K,onChange:z=>{xe(z),k(1)},labelPrefix:"Catgorie : "}),l.jsx(Qe,{options:de,value:ue,onChange:z=>{ve(z),k(1)}}),l.jsx(Qe,{options:le,value:M,onChange:$,labelPrefix:"Trier par : "})]}),l.jsxs("button",{onClick:I,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-5 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-premier hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier transition-colors",children:[l.jsx(Ft,{className:"h-5 w-5"}),l.jsx("span",{children:"Ajouter"})]})]}),children:te()}),l.jsx(e0,{isOpen:H,onClose:()=>ee(!1),onSave:b,advice:S,categories:ce,usedDays:p,isLoading:G,existingSources:V,token:i}),l.jsx(Ma,{isOpen:!!P,onClose:()=>A(null),onConfirm:Q,title:"Supprimer le conseil",message:`tes-vous sr de vouloir supprimer le conseil "${P==null?void 0:P.title}" ? Cette action est irrversible.`,confirmButtonText:"Supprimer",isLoading:G})]})},n0=({isOpen:i,onClose:d,onSave:u,article:c,categories:h,isLoading:m,existingSources:v=[],token:j})=>{const[w,g]=x.useState(""),[R,T]=x.useState(""),[Y,k]=x.useState(!0),[S,_]=x.useState(""),[H,ee]=x.useState(""),[P,A]=x.useState(["",""]),[G,ne]=x.useState(["",""]),[Z,q]=x.useState([""]),[M,$]=x.useState(""),[K,xe]=x.useState(!1),ue=x.useRef([]);x.useEffect(()=>{if(i)if($(""),xe(!1),c){if(g(c.title),T(typeof c.category=="string"?c.category:c.category._id),k(c.isActive!==!1),c.scheduledAt)try{const Q=new Date(c.scheduledAt),I=Q.getFullYear(),D=String(Q.getMonth()+1).padStart(2,"0"),te=String(Q.getDate()).padStart(2,"0"),z=String(Q.getHours()).padStart(2,"0"),se=String(Q.getMinutes()).padStart(2,"0");_(`${I}-${D}-${te}`),ee(`${z}:${se}`)}catch{_(""),ee("")}else _(""),ee("");const b=c.description||[];A([b[0]||"",b[1]||""]);const C=c.imageUrl||[];ne([C[0]||"",C[1]||""]),q(c.sources&&c.sources.length>0?c.sources.map(Q=>Q.toUpperCase()):[""])}else g(""),T(""),k(!0),_(""),ee(""),A(["",""]),ne(["",""]),q([""])},[i,c]),x.useEffect(()=>{if(S){const b=H||"00:00",C=new Date(`${S}T${b}`),Q=new Date;!isNaN(C.getTime())&&C>Q?k(!1):!isNaN(C.getTime())&&C<=Q&&k(!0)}},[S,H]);const ve=(b,C,Q)=>{b(I=>{const D=[...I];return D[C]=Q,D})},pe=(b,C)=>{q(Q=>{const I=[...Q];return I[b]=C.toUpperCase(),I})},me=()=>q(b=>[...b,""]),O=b=>q(C=>C.filter((Q,I)=>I!==b)),le=async(b,C)=>{var I;const Q=(I=b.target.files)==null?void 0:I[0];if(Q){if(Q.size>5*1024*1024){$("L'image est trop volumineuse (max 5MB).");return}xe(!0),$("");try{const D=await qr(j,Q);ve(ne,C,D)}catch(D){$(D instanceof Error?D.message:"chec du tlchargement de l'image."),ue.current[C]&&(ue.current[C].value="")}finally{xe(!1)}}},de=()=>{if(!S)return!1;const b=H||"00:00",C=new Date(`${S}T${b}`);return!isNaN(C.getTime())&&C>new Date},ce=b=>{b.target.setCustomValidity("Veuillez remplir ce champ.")},re=b=>{b.target.setCustomValidity("")},p=async b=>{if(b.preventDefault(),$(""),K)return;if(!R){$("Veuillez slectionner une catgorie.");return}const C=P.filter(z=>z.trim()!==""),Q=G.filter(z=>z.trim()!==""),I=Z.filter(z=>z.trim()!=="");if(C.length===0){$("Veuillez ajouter au moins un paragraphe de description.");return}if(Q.length===0){$("Veuillez ajouter au moins une image.");return}let D=null;if(S){const se=`${S}T${H||"00:00"}`,oe=new Date(se);isNaN(oe.getTime())||(D=oe.toISOString())}const te={title:w,category:R,description:C,imageUrl:Q,sources:I,isActive:Y,scheduledAt:D};try{await u(te)}catch(z){z instanceof Error?$(z.message):$("Une erreur inconnue est survenue.")}};if(!i)return null;const V="w-full bg-background rounded-lg py-2.5 px-4 text-text-primary placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-premier focus:bg-white transition-colors",ie=[{value:"",label:"Slectionner une catgorie"},...h.map(b=>({value:b._id,label:b.name}))],F=de();return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 overflow-y-auto p-4 sm:p-6","aria-modal":"true",role:"dialog",children:l.jsx("div",{className:"flex min-h-full items-center justify-center",children:l.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl transform transition-all",children:l.jsxs("form",{onSubmit:p,children:[l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:c?"Modifier l'article":"Ajouter un article"}),l.jsx("button",{type:"button",onClick:d,className:"p-1 rounded-full text-text-secondary hover:bg-gray-100",children:l.jsx(Re,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-text-secondary mb-1",children:"Titre"}),l.jsx("input",{required:!0,type:"text",id:"title",value:w,onChange:b=>g(b.target.value),onInvalid:ce,onInput:re,className:V})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Catgorie"}),l.jsx(Qe,{options:ie,value:R,onChange:T})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-3",children:"Statut"}),l.jsxs("label",{className:"flex items-center cursor-pointer w-fit select-none",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"checkbox",className:"sr-only",checked:Y,onChange:b=>{F||k(b.target.checked)},disabled:F}),l.jsx("div",{className:`block w-10 h-6 rounded-full transition-colors ${Y?"bg-premier":"bg-gray-300"} ${F?"opacity-50 cursor-not-allowed":""}`}),l.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${Y?"transform translate-x-4":""}`})]}),l.jsx("div",{className:"ml-3 text-sm font-medium text-text-secondary",children:Y?"Actif (Visible)":"Inactif (Masqu)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-3",children:"Planification (Optionnel)"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(Zr,{value:S,onChange:_}),l.jsx("div",{className:"absolute right-3 top-2.5 pointer-events-none text-gray-400",children:l.jsx(Xm,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Heure"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"time",value:H,onChange:b=>ee(b.target.value),className:V}),l.jsx("div",{className:"absolute right-3 top-2.5 pointer-events-none text-gray-400",children:l.jsx($m,{className:"h-5 w-5"})})]})]})]}),l.jsx("p",{className:"text-xs text-text-secondary mt-2",children:'Si une date future est slectionne, le statut passera automatiquement  "Inactif".'})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Description (2 paragraphes)"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Paragraphe 1"}),l.jsx("textarea",{rows:3,value:P[0],onChange:b=>ve(A,0,b.target.value),className:V,placeholder:"Introduction..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Paragraphe 2"}),l.jsx("textarea",{rows:3,value:P[1],onChange:b=>ve(A,1,b.target.value),className:V,placeholder:"Contenu suite..."})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-3",children:"Images (2 obligatoires)"}),l.jsx("div",{className:"space-y-6",children:[0,1].map(b=>l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-border-color",children:[l.jsxs("label",{className:"block text-xs font-bold text-text-secondary mb-2",children:["Image ",b===0?"principale":"secondaire"]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[G[b]&&l.jsxs("div",{className:"relative w-32 h-32 flex-shrink-0 mx-auto sm:mx-0 group",children:[l.jsx("img",{src:G[b].startsWith("http")?G[b]:`https://${G[b]}`,alt:`Aperu ${b+1}`,className:"w-full h-full object-cover rounded-xl border border-border-color shadow-sm bg-white",onError:C=>{C.currentTarget.src="https://via.placeholder.com/150?text=Erreur"}}),l.jsx("button",{type:"button",onClick:()=>{ve(ne,b,""),ue.current[b]&&(ue.current[b].value="")},className:"absolute -top-2 -right-2 bg-red-100 text-red-600 rounded-full p-1 hover:bg-red-200 transition-colors border border-white shadow-sm",title:"Supprimer l'image",children:l.jsx(Re,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex-1 w-full space-y-3",children:[l.jsx("div",{className:"w-full",children:l.jsx("input",{type:"text",value:G[b],onChange:C=>ve(ne,b,C.target.value),placeholder:"https://exemple.com/photo.jpg",className:V,disabled:K})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-px bg-border-color flex-1"}),l.jsx("span",{className:"text-xs text-text-secondary uppercase font-medium",children:"OU"}),l.jsx("div",{className:"h-px bg-border-color flex-1"})]}),l.jsxs("div",{children:[l.jsx("input",{type:"file",ref:C=>{ue.current[b]=C},className:"hidden",accept:"image/*",onChange:C=>le(C,b),disabled:K}),l.jsx("button",{type:"button",onClick:()=>{var C;return(C=ue.current[b])==null?void 0:C.click()},disabled:K,className:"w-full flex items-center justify-center gap-2 py-2.5 border border-dashed border-gray-300 rounded-lg text-sm text-text-secondary hover:text-premier hover:border-premier hover:bg-premier/5 transition-all bg-gray-50/50 disabled:opacity-50 disabled:cursor-not-allowed",children:K?l.jsxs(l.Fragment,{children:[l.jsx(bt,{className:"h-5 w-5 text-premier"}),l.jsx("span",{children:"Tlchargement..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(bn,{className:"h-5 w-5"}),l.jsx("span",{children:"Choisir une image depuis l'appareil"})]})})]})]})]})]},b))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Sources"}),l.jsxs("button",{type:"button",onClick:me,className:"text-premier hover:text-premier-dark text-sm font-medium flex items-center gap-1",children:[l.jsx(Ft,{className:"h-4 w-4"})," Ajouter"]})]}),l.jsx("div",{className:"space-y-3",children:Z.map((b,C)=>l.jsxs("div",{className:"flex gap-2 items-center relative z-10",style:{zIndex:Z.length-C},children:[l.jsx("div",{className:"flex-grow",children:l.jsx(yn,{options:v,value:b,onChange:Q=>pe(C,Q.toUpperCase()),placeholder:"ex: OMS, AFPA..."})}),Z.length>1&&l.jsx("button",{type:"button",onClick:()=>O(C),className:"text-text-secondary hover:text-red-500 p-2",children:l.jsx(Re,{className:"h-5 w-5"})})]},C))})]}),M&&l.jsx("p",{className:"text-red-500 text-sm text-center bg-red-50 p-2 rounded",children:M})]})]}),l.jsxs("div",{className:"px-6 py-4 flex flex-row-reverse items-center gap-3 border-t border-border-color bg-gray-50 rounded-b-lg",children:[l.jsx("button",{type:"submit",disabled:m||K,className:"inline-flex justify-center rounded-lg shadow-sm px-5 py-2.5 bg-premier text-base font-semibold text-white hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:m||K?"Enregistrement...":"Enregistrer"}),l.jsx("button",{type:"button",onClick:d,disabled:m||K,className:"inline-flex justify-center rounded-lg border border-border-color shadow-sm px-5 py-2.5 bg-white text-base font-semibold text-text-primary hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:"Annuler"})]})]})})})})},r0=({articles:i,onEdit:d,onDelete:u,onToggleStatus:c})=>l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-border-color",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Aperu"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Titre"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Catgorie"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Sources"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Statistiques"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Statut"}),l.jsx("th",{scope:"col",className:"relative px-6 py-3",children:l.jsx("span",{className:"sr-only",children:"Actions"})})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-border-color",children:i.map(h=>{const m=h.isActive!==!1,v=h.scheduledAt&&new Date(h.scheduledAt)>new Date;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"h-12 w-12 rounded-lg bg-gray-200 overflow-hidden",children:h.imageUrl&&h.imageUrl.length>0?l.jsx("img",{src:h.imageUrl[0],alt:"",className:"h-full w-full object-cover"}):l.jsx("div",{className:"h-full w-full flex items-center justify-center text-gray-400 text-xs",children:"No IMG"})})}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsx("div",{className:"text-sm font-medium text-text-primary",children:h.title}),l.jsx("div",{className:"text-xs text-text-secondary truncate max-w-xs",children:h.description&&h.description[0]})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:typeof h.category=="object"&&h.category?l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:h.category.name}):l.jsx("span",{className:"text-gray-400 italic",children:"N/A"})}),l.jsx("td",{className:"px-6 py-4 text-sm text-text-secondary",children:h.sources&&h.sources.length>0?l.jsx("div",{className:"flex flex-wrap gap-1.5",children:h.sources.map((j,w)=>l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800 border border-gray-200",children:j.toUpperCase()},w))}):l.jsx("span",{className:"text-gray-400 italic",children:"Aucune"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:l.jsxs("div",{className:"flex flex-col gap-1.5",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-1 text-green-600",title:"J'aime",children:[l.jsx(pn,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:h.likes?h.likes.length:0})]}),l.jsxs("div",{className:"flex items-center gap-1 text-red-500",title:"Je n'aime pas",children:[l.jsx(gn,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:h.dislikes?h.dislikes.length:0})]})]}),l.jsxs("div",{className:"flex items-center gap-1 text-gray-500",title:"Vues",children:[l.jsx(Lt,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:h.viewers?h.viewers.length:0})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v?l.jsxs("span",{className:"inline-flex flex-col items-start",children:[l.jsx("span",{className:"px-2 py-1 text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800 mb-1",children:"Planifi"}),l.jsxs("span",{className:"text-xs text-text-secondary",children:[new Date(h.scheduledAt).toLocaleDateString("fr-FR")," ",new Date(h.scheduledAt).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]}):l.jsx("button",{onClick:()=>c(h),className:`inline-flex px-2 py-1 text-xs leading-5 font-semibold rounded-full cursor-pointer transition-colors ${m?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,title:"Cliquez pour changer le statut",children:m?"Actif":"Inactif"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[l.jsx("button",{onClick:()=>d(h),className:"p-2 rounded-md text-text-secondary hover:bg-gray-100 hover:text-premier transition-colors","aria-label":`Modifier ${h.title}`,children:l.jsx(ca,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>u(h),className:"p-2 rounded-md text-text-secondary hover:bg-gray-100 hover:text-red-600 transition-colors","aria-label":`Supprimer ${h.title}`,children:l.jsx(Rt,{className:"h-5 w-5"})})]})})]},h._id)})})]})}),yo=10,i0=({message:i,type:d,onClose:u})=>{x.useEffect(()=>{const m=setTimeout(u,5e3);return()=>clearTimeout(m)},[u]);const c="fixed top-5 right-5 z-50 p-4 rounded-md shadow-lg text-white flex items-center animate-fade-in-up",h=d==="success"?"bg-green-500":"bg-red-600";return l.jsxs("div",{className:`${c} ${h}`,role:"alert",children:[l.jsx("span",{className:"flex-grow",children:i}),l.jsx("button",{onClick:u,className:"ml-4 p-1 rounded-full hover:bg-white/20",children:l.jsx(Re,{className:"h-5 w-5"})})]})},c0=({token:i,onLogout:d})=>{const[u,c]=x.useState([]),[h,m]=x.useState([]),[v,j]=x.useState(!0),[w,g]=x.useState(null),[R,T]=x.useState(""),[Y,k]=x.useState(1),[S,_]=x.useState(null),[H,ee]=x.useState(!1),[P,A]=x.useState(null),[G,ne]=x.useState(!1),[Z,q]=x.useState(null),[M,$]=x.useState("createdAt-desc"),[K,xe]=x.useState("all"),[ue,ve]=x.useState("all"),pe=(I,D="success")=>{q({message:I,type:D})},me=[{value:"createdAt-desc",label:"Plus rcent (Cration)"},{value:"createdAt-asc",label:"Plus ancien (Cration)"},{value:"updatedAt-desc",label:"Dernire modification"},{value:"scheduledAt-desc",label:"Date de planification"},{value:"title-asc",label:"Titre (A-Z)"},{value:"title-desc",label:"Titre (Z-A)"},{value:"viewers-desc",label:"Vues (Dcroissant)"}],O=[{value:"all",label:"Tous les statuts"},{value:"active",label:"Actif"},{value:"inactive",label:"Inactif"}],le=x.useMemo(()=>h.filter(I=>I.contentTypes&&I.contentTypes.includes("article")),[h]),de=x.useMemo(()=>{const I=[{value:"all",label:"Toutes les catgories"}];return le.forEach(D=>I.push({value:D._id,label:D.name})),I},[le]),ce=x.useMemo(()=>{const I=new Set;return u.forEach(D=>{D.sources&&D.sources.forEach(te=>{te&&te.trim()&&I.add(te.trim().toUpperCase())})}),Array.from(I).sort()},[u]);x.useEffect(()=>{(async()=>{try{j(!0),g(null);const[D,te]=await Promise.all([Pm(i),vn(i)]);c(D),m(te)}catch(D){D instanceof Error?D.message==="Session expire. Veuillez vous reconnecter."?d():g(D.message):g("Une erreur inconnue est survenue.")}finally{j(!1)}})()},[i,d]);const re=x.useMemo(()=>{let I=u.filter(D=>{var te;return(((te=D.title)==null?void 0:te.toLowerCase())||"").includes(R.toLowerCase())}).filter(D=>K==="all"?!0:(typeof D.category=="object"?D.category._id:D.category)===K).filter(D=>{if(ue==="all")return!0;const te=D.isActive!==!1;return ue==="active"?te:!te});if(M){const[D,te]=M.split("-");I.sort((z,se)=>{var ke,Ie;if(D==="viewers"){const $e=((ke=z.viewers)==null?void 0:ke.length)||0,ut=((Ie=se.viewers)==null?void 0:Ie.length)||0;return te==="desc"?ut-$e:$e-ut}const oe=z[D],je=se[D];if(oe==null)return 1;if(je==null)return-1;let Oe=0;return typeof oe=="string"&&typeof je=="string"?Oe=oe.localeCompare(je,"fr",{sensitivity:"base"}):oe<je?Oe=-1:oe>je&&(Oe=1),te==="desc"?-Oe:Oe})}return I},[u,R,M,K,ue]),p=x.useMemo(()=>{const I=(Y-1)*yo;return re.slice(I,I+yo)},[re,Y]),V=async I=>{ne(!0);try{if(S){const D=await ug(i,S._id,I);c(u.map(te=>te._id===D._id?{...te,...D}:te)),pe("Article mis  jour avec succs.","success")}else{const D=await og(i,I);if(typeof D.category=="string"){const te=h.find(z=>z._id===D.category);te&&(D.category=te)}c([D,...u]),pe("Article ajout avec succs.","success")}ee(!1),_(null)}catch(D){const te=D instanceof Error?D.message:"La sauvegarde a chou.";throw pe(te,"error"),D}finally{ne(!1)}},ie=async I=>{try{const D=I.isActive!==!1;let te;D?(te=await mg(i,I._id),pe("Article dsactiv.","success")):(te=await fg(i,I._id),pe("Article activ.","success")),c(u.map(z=>z._id===te._id?{...z,...te}:z))}catch(D){const te=D instanceof Error?D.message:"Impossible de modifier le statut.";pe(te,"error")}},F=async()=>{if(P){ne(!0);try{await dg(i,P._id),c(u.filter(I=>I._id!==P._id)),pe("Article supprim avec succs.","success")}catch(I){const D=I instanceof Error?I.message:"La suppression a chou.";pe(D,"error")}finally{ne(!1),A(null)}}},b=()=>{_(null),ee(!0)},C=I=>{_(I),ee(!0)},Q=()=>v?l.jsx("div",{className:"flex-1 flex justify-center items-center",children:l.jsx(bt,{className:"h-12 w-12 text-premier"})}):w?l.jsx("p",{className:"text-red-500 text-center p-4 bg-red-50 rounded-lg m-4",children:w}):l.jsxs(l.Fragment,{children:[l.jsx(r0,{articles:p,onEdit:C,onDelete:A,onToggleStatus:ie}),l.jsx(Nl,{currentPage:Y,totalItems:re.length,itemsPerPage:yo,onPageChange:k})]});return l.jsxs(l.Fragment,{children:[Z&&l.jsx(i0,{message:Z.message,type:Z.type,onClose:()=>q(null)}),l.jsx(oa,{title:"Gestion des articles",headerContent:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center w-full",children:[l.jsxs("div",{className:"relative flex-grow w-full sm:w-auto",children:[l.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:l.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"search",placeholder:"Rechercher un article...",onChange:I=>{T(I.target.value),k(1)},className:"w-full pl-10 pr-4 py-2.5 bg-white border border-border-color rounded-lg text-sm text-text-primary focus:ring-premier focus:border-premier transition"})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-3 w-full sm:w-auto",children:[l.jsx(Qe,{options:de,value:K,onChange:I=>{xe(I),k(1)},labelPrefix:"Catgorie : "}),l.jsx(Qe,{options:O,value:ue,onChange:I=>{ve(I),k(1)}}),l.jsx(Qe,{options:me,value:M,onChange:$,labelPrefix:"Trier par : "})]}),l.jsxs("button",{onClick:b,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-5 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-premier hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier transition-colors",children:[l.jsx(Ft,{className:"h-5 w-5"}),l.jsx("span",{children:"Ajouter"})]})]}),children:Q()}),l.jsx(n0,{isOpen:H,onClose:()=>ee(!1),onSave:V,article:S,categories:le,isLoading:G,existingSources:ce,token:i}),l.jsx(Ma,{isOpen:!!P,onClose:()=>A(null),onConfirm:F,title:"Supprimer l'article",message:`tes-vous sr de vouloir supprimer l'article "${P==null?void 0:P.title}" ? Cette action est irrversible.`,confirmButtonText:"Supprimer",isLoading:G})]})},o0=[{value:"Aucune",label:"Aucune"},...sx.map(i=>({value:i,label:i}))],u0=["g","kg","ml","cl","l","c..s","c..c","pince","pice","tranche","tasse","verre","bol","botte","gousse","brin"],d0=({isOpen:i,onClose:d,onSave:u,recipe:c,categories:h,isLoading:m,existingIngredients:v=[],existingSources:j=[],token:w})=>{const[g,R]=x.useState(""),[T,Y]=x.useState(""),[k,S]=x.useState(""),[_,H]=x.useState("4.5"),[ee,P]=x.useState(""),[A,G]=x.useState(""),[ne,Z]=x.useState("Aucune"),[q,M]=x.useState("270"),[$,K]=x.useState("720"),[xe,ue]=x.useState(!0),[ve,pe]=x.useState(""),[me,O]=x.useState(""),[le,de]=x.useState([{name:"",quantity:0,unit:"g"}]),[ce,re]=x.useState([""]),[p,V]=x.useState([""]),[ie,F]=x.useState(""),[b,C]=x.useState("info"),[Q,I]=x.useState(!1),D=x.useRef(null);x.useEffect(()=>{var fe,ye;if(i)if(F(""),C("info"),I(!1),c){if(R(c.title),Y(c.description||""),S(typeof c.category=="string"?c.category:c.category._id),H(c.rating.toString()),P(c.imageUrl),G(c.videoUrl||""),Z(c.city||"Aucune"),M(((fe=c.minDay)==null?void 0:fe.toString())||"270"),K(((ye=c.maxDay)==null?void 0:ye.toString())||"720"),ue(c.isActive!==!1),c.scheduledAt)try{const we=new Date(c.scheduledAt),Ze=we.getFullYear(),Da=String(we.getMonth()+1).padStart(2,"0"),zt=String(we.getDate()).padStart(2,"0"),Je=String(we.getHours()).padStart(2,"0"),Ht=String(we.getMinutes()).padStart(2,"0");pe(`${Ze}-${Da}-${zt}`),O(`${Je}:${Ht}`)}catch{pe(""),O("")}else pe(""),O("");de(c.ingredients&&c.ingredients.length>0?c.ingredients.map(we=>({name:we.name||"",quantity:we.quantity||0,unit:we.unit||"g"})):[{name:"",quantity:0,unit:"g"}]),re(c.instructions&&c.instructions.length>0?c.instructions:[""]),V(c.sources&&c.sources.length>0?c.sources.map(we=>we.toUpperCase()):[""])}else R(""),Y(""),S(""),H("4.5"),P(""),G(""),Z("Aucune"),M("270"),K("720"),ue(!0),pe(""),O(""),de([{name:"",quantity:0,unit:"g"}]),re([""]),V([""])},[i,c]),x.useEffect(()=>{if(ve){const fe=me||"00:00",ye=new Date(`${ve}T${fe}`),we=new Date;!isNaN(ye.getTime())&&ye>we?ue(!1):!isNaN(ye.getTime())&&ye<=we&&ue(!0)}},[ve,me]);const te=(fe,ye)=>{re(we=>{const Ze=[...we];return Ze[fe]=ye,Ze})},z=(fe,ye)=>{V(we=>{const Ze=[...we];return Ze[fe]=ye.toUpperCase(),Ze})},se=(fe,ye,we)=>{let Ze=we;ye==="name"&&typeof we=="string"&&we.length>0&&(Ze=we.charAt(0).toUpperCase()+we.slice(1)),de(Da=>{const zt=[...Da];return zt[fe]={...zt[fe],[ye]:Ze},zt})},oe=()=>re(fe=>[...fe,""]),je=()=>V(fe=>[...fe,""]),Oe=()=>de(fe=>[...fe,{name:"",quantity:0,unit:"g"}]),ke=fe=>{re(ye=>ye.length===1?[""]:ye.filter((we,Ze)=>Ze!==fe))},Ie=fe=>{V(ye=>ye.length===1?[""]:ye.filter((we,Ze)=>Ze!==fe))},$e=fe=>{de(ye=>ye.length===1?[{name:"",quantity:0,unit:"g"}]:ye.filter((we,Ze)=>Ze!==fe))},ut=async fe=>{var we;const ye=(we=fe.target.files)==null?void 0:we[0];if(ye){if(ye.size>5*1024*1024){F("L'image est trop volumineuse (max 5MB).");return}I(!0),F("");try{const Ze=await qr(w,ye);P(Ze)}catch(Ze){F(Ze instanceof Error?Ze.message:"chec du tlchargement de l'image."),D.current&&(D.current.value="")}finally{I(!1)}}},It=()=>{if(!ve)return!1;const fe=me||"00:00",ye=new Date(`${ve}T${fe}`);return!isNaN(ye.getTime())&&ye>new Date},Tt=fe=>{fe.target.setCustomValidity("Veuillez remplir ce champ.")},vt=fe=>{fe.target.setCustomValidity("")},ua=async fe=>{if(fe.preventDefault(),F(""),Q)return;if(!g.trim()){C("info"),F("Le titre de la recette est obligatoire.");return}if(!k){C("info"),F("Veuillez slectionner une catgorie.");return}if(!T.trim()){C("info"),F("La description est obligatoire.");return}if(!ee.trim()){C("media"),F("L'image de la recette est manquante. Veuillez ajouter une URL d'image valide.");return}const ye=le.filter(Je=>Je.name.trim()!==""),we=ce.filter(Je=>Je.trim()!==""),Ze=p.filter(Je=>Je.trim()!=="");let Da=null;if(ve){const Ht=`${ve}T${me||"00:00"}`,pt=new Date(Ht);isNaN(pt.getTime())||(Da=pt.toISOString())}const zt={title:g,description:T,category:k,ingredients:ye,instructions:we,imageUrl:ee,videoUrl:A,city:ne.trim()||"Aucune",sources:Ze,rating:parseFloat(_),minDay:parseInt(q),maxDay:parseInt($),isActive:xe,scheduledAt:Da};try{await u(zt)}catch(Je){Je instanceof Error?F(Je.message):F("Une erreur inconnue est survenue.")}};if(!i)return null;const qe="w-full bg-background rounded-lg py-2.5 px-4 text-text-primary placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-premier focus:bg-white transition-colors",aa=[{value:"",label:"Slectionner une catgorie"},...h.map(fe=>({value:fe._id,label:fe.name}))],jn=[{id:"info",label:"Informations",mobileLabel:"Infos"},{id:"details",label:"Ingrdients & Prparation",mobileLabel:"Recette"},{id:"media",label:"Mdia & Sources",mobileLabel:"Mdia"}],Sl=It();return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 flex items-center justify-center p-0 sm:p-4","aria-modal":"true",role:"dialog",children:l.jsx("div",{className:"bg-white sm:rounded-xl shadow-2xl w-full max-w-6xl flex flex-col h-full sm:h-auto sm:max-h-[90vh] transform transition-all",children:l.jsxs("form",{onSubmit:ua,className:"flex flex-col h-full overflow-hidden",children:[l.jsxs("div",{className:"p-4 sm:p-5 border-b border-border-color flex justify-between items-center bg-white z-10 shrink-0",children:[l.jsx("h3",{className:"text-lg sm:text-xl font-bold text-text-primary truncate pr-2",children:c?"Modifier la recette":"Ajouter une recette"}),l.jsx("button",{type:"button",onClick:d,className:"p-2 rounded-full text-text-secondary hover:bg-gray-100 transition-colors flex-shrink-0",children:l.jsx(Re,{className:"h-6 w-6"})})]}),l.jsx("div",{className:"px-4 py-3 bg-white shrink-0 border-b border-border-color/50",children:l.jsx("div",{className:"flex p-1 bg-gray-100 rounded-lg",children:jn.map(fe=>l.jsxs("button",{type:"button",onClick:()=>C(fe.id),className:`
                                flex-1 flex items-center justify-center py-2 text-sm font-medium rounded-md transition-all duration-200
                                ${b===fe.id?"bg-white text-premier shadow-sm":"text-text-secondary hover:text-text-primary hover:bg-gray-200/50"}
                            `,children:[l.jsx("span",{className:"sm:hidden",children:fe.mobileLabel}),l.jsx("span",{className:"hidden sm:inline",children:fe.label})]},fe.id))})}),l.jsxs("div",{className:"p-4 sm:p-8 overflow-y-auto flex-1 custom-scrollbar bg-white",children:[b==="info"&&l.jsxs("div",{className:"space-y-6 sm:space-y-8 animate-fade-in-up",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-text-secondary mb-2",children:"Titre de la recette"}),l.jsx("input",{required:!0,type:"text",id:"title",value:g,onChange:fe=>R(fe.target.value),onInvalid:Tt,onInput:vt,className:qe})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Catgorie"}),l.jsx(Qe,{options:aa,value:k,onChange:S})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-text-secondary mb-2",children:"Description courte / Introduction"}),l.jsx("textarea",{required:!0,rows:4,id:"description",value:T,onChange:fe=>Y(fe.target.value),onInvalid:Tt,onInput:vt,className:qe})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Statut"}),l.jsxs("label",{className:"flex items-center cursor-pointer w-fit select-none",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"checkbox",className:"sr-only",checked:xe,onChange:fe=>{Sl||ue(fe.target.checked)},disabled:Sl}),l.jsx("div",{className:`block w-10 h-6 rounded-full transition-colors ${xe?"bg-premier":"bg-gray-300"} ${Sl?"opacity-50 cursor-not-allowed":""}`}),l.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform ${xe?"transform translate-x-4":""}`})]}),l.jsx("div",{className:"ml-3 text-sm font-medium text-text-secondary",children:xe?"Active (Visible)":"Inactive (Masque)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Planification (Optionnel)"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Date"}),l.jsxs("div",{className:"relative",children:[l.jsx(Zr,{value:ve,onChange:pe}),l.jsx("div",{className:"absolute right-3 top-2.5 pointer-events-none text-gray-400",children:l.jsx(Xm,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-text-secondary mb-1",children:"Heure"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"time",value:me,onChange:fe=>O(fe.target.value),className:qe}),l.jsx("div",{className:"absolute right-3 top-2.5 pointer-events-none text-gray-400",children:l.jsx($m,{className:"h-5 w-5"})})]})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"rating",className:"block text-sm font-medium text-text-secondary mb-2",children:"Note (0 - 5)"}),l.jsx("input",{required:!0,type:"number",step:"0.1",min:"0",max:"5",id:"rating",value:_,onChange:fe=>H(fe.target.value),onInvalid:Tt,onInput:vt,className:qe})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Ville / Rgion (Optionnel)"}),l.jsx(Qe,{options:o0,value:ne,onChange:Z})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Tranche d'ge (Jours)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"number",placeholder:"Min",value:q,onChange:fe=>M(fe.target.value),className:`${qe} w-1/2`}),l.jsx("span",{className:"text-text-secondary",children:"-"}),l.jsx("input",{type:"number",placeholder:"Max",value:$,onChange:fe=>K(fe.target.value),className:`${qe} w-1/2`})]}),l.jsx("p",{className:"text-xs text-text-secondary mt-1.5",children:"Ex: 270j = 9 mois, 720j = 24 mois"})]})]})]}),b==="details"&&l.jsxs("div",{className:"space-y-8 sm:space-y-10 animate-fade-in-up",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-2",children:[l.jsx("label",{className:"block text-lg font-semibold text-text-primary",children:"Ingrdients"}),l.jsxs("button",{type:"button",onClick:Oe,className:"text-white bg-premier hover:bg-premier-dark px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 shadow-sm transition-colors w-full sm:w-auto justify-center",children:[l.jsx(Ft,{className:"h-4 w-4"})," Ajouter un ingrdient"]})]}),l.jsx("div",{className:"space-y-3",children:le.map((fe,ye)=>l.jsxs("div",{className:"bg-white sm:bg-gray-50 p-3 sm:p-4 rounded-xl border border-gray-200 sm:border-transparent mb-3 shadow-sm sm:shadow-none",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2 sm:hidden pb-2 border-b border-gray-100",children:[l.jsxs("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:["Ingrdient ",ye+1]}),l.jsx("button",{type:"button",onClick:()=>$e(ye),className:"text-red-500 p-1.5 rounded-md hover:bg-red-50",children:l.jsx(Rt,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex flex-col sm:grid sm:grid-cols-12 gap-3 sm:gap-4 items-start sm:items-center",children:[l.jsx("div",{className:"hidden sm:flex sm:col-span-1 justify-center",children:l.jsx("span",{className:"text-sm font-bold text-gray-500 bg-white w-8 h-8 flex items-center justify-center rounded-full border border-gray-200 shadow-sm",children:ye+1})}),l.jsx("div",{className:"w-full sm:col-span-6 relative z-20",style:{zIndex:le.length-ye},children:l.jsx(yn,{options:v,value:fe.name,onChange:we=>se(ye,"name",we),placeholder:"Nom (ex: Farine)",capitalizeFirstLetter:!0})}),l.jsxs("div",{className:"w-full sm:col-span-4 flex gap-3",children:[l.jsx("div",{className:"w-1/2",children:l.jsx("input",{type:"number",step:"0.1",value:fe.quantity,onChange:we=>se(ye,"quantity",parseFloat(we.target.value)||0),className:qe,placeholder:"Qte",onInvalid:Tt,onInput:vt})}),l.jsxs("div",{className:"w-1/2 relative",children:[l.jsx("select",{value:fe.unit,onChange:we=>se(ye,"unit",we.target.value),className:`${qe} appearance-none cursor-pointer pr-8`,children:u0.map(we=>l.jsx("option",{value:we,children:we},we))}),l.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none text-gray-500",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),l.jsx("div",{className:"hidden sm:flex sm:col-span-1 justify-end",children:l.jsx("button",{type:"button",onClick:()=>$e(ye),className:"text-gray-400 hover:text-red-500 p-2 rounded-full hover:bg-red-50 transition-colors",children:l.jsx(Rt,{className:"h-5 w-5"})})})]})]},ye))})]}),l.jsx("div",{className:"border-t border-gray-100"}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-2",children:[l.jsx("label",{className:"block text-lg font-semibold text-text-primary",children:"Instructions de prparation"}),l.jsxs("button",{type:"button",onClick:oe,className:"text-white bg-premier hover:bg-premier-dark px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 shadow-sm transition-colors w-full sm:w-auto justify-center",children:[l.jsx(Ft,{className:"h-4 w-4"})," Ajouter une tape"]})]}),l.jsx("div",{className:"space-y-4",children:ce.map((fe,ye)=>l.jsxs("div",{className:"bg-white sm:bg-gray-50 p-3 sm:p-4 rounded-xl border border-gray-200 sm:border-transparent mb-3 shadow-sm sm:shadow-none",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2 sm:hidden pb-2 border-b border-gray-100",children:[l.jsxs("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:["tape ",ye+1]}),l.jsx("button",{type:"button",onClick:()=>ke(ye),className:"text-red-500 p-1.5 rounded-md hover:bg-red-50",children:l.jsx(Rt,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 items-start",children:[l.jsx("div",{className:"hidden sm:block pt-2",children:l.jsx("span",{className:"text-sm font-bold text-gray-500 w-8 text-center block",children:ye+1})}),l.jsx("div",{className:"flex-grow w-full",children:l.jsx("textarea",{rows:3,value:fe,onChange:we=>te(ye,we.target.value),className:`${qe} bg-white w-full`,placeholder:"Dcrivez l'action  raliser...",onInvalid:Tt,onInput:vt})}),l.jsx("button",{type:"button",onClick:()=>ke(ye),className:"hidden sm:block text-gray-400 hover:text-red-500 mt-2 p-2 rounded-full hover:bg-red-50 transition-colors self-start",children:l.jsx(Rt,{className:"h-5 w-5"})})]})]},ye))})]})]}),b==="media"&&l.jsx("div",{className:"space-y-8 animate-fade-in-up",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Image de la recette"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[ee&&l.jsxs("div",{className:"relative w-32 h-32 flex-shrink-0 mx-auto sm:mx-0 group",children:[l.jsx("img",{src:ee.startsWith("http")?ee:`https://${ee}`,alt:"Aperu",className:"w-full h-full object-cover rounded-xl border border-border-color shadow-sm bg-gray-50",onError:fe=>{fe.currentTarget.src="https://via.placeholder.com/150?text=Erreur"}}),l.jsx("button",{type:"button",onClick:()=>{P(""),D.current&&(D.current.value="")},className:"absolute -top-2 -right-2 bg-red-100 text-red-600 rounded-full p-1 hover:bg-red-200 transition-colors border border-white shadow-sm",children:l.jsx(Re,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex-1 w-full space-y-3",children:[l.jsx("div",{className:"w-full",children:l.jsx("input",{type:"text",value:ee,onChange:fe=>P(fe.target.value),onInvalid:Tt,onInput:vt,className:qe,placeholder:"https://exemple.com/recette.jpg",disabled:Q})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-px bg-border-color flex-1"}),l.jsx("span",{className:"text-xs text-text-secondary uppercase font-medium",children:"OU"}),l.jsx("div",{className:"h-px bg-border-color flex-1"})]}),l.jsxs("div",{children:[l.jsx("input",{type:"file",ref:D,className:"hidden",accept:"image/*",onChange:ut,disabled:Q}),l.jsx("button",{type:"button",onClick:()=>{var fe;return(fe=D.current)==null?void 0:fe.click()},disabled:Q,className:"w-full flex items-center justify-center gap-2 py-2.5 border border-dashed border-gray-300 rounded-lg text-sm text-text-secondary hover:text-premier hover:border-premier hover:bg-premier/5 transition-all bg-gray-50/50 disabled:opacity-50 disabled:cursor-not-allowed",children:Q?l.jsxs(l.Fragment,{children:[l.jsx(bt,{className:"h-5 w-5 text-premier"}),l.jsx("span",{children:"Tlchargement..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(bn,{className:"h-5 w-5"}),l.jsx("span",{children:"Choisir une image depuis l'appareil"})]})})]})]})]})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"videoUrl",className:"block text-sm font-medium text-text-secondary mb-2",children:"Vido URL (Optionnel)"}),l.jsx("input",{type:"text",id:"videoUrl",value:A,onChange:fe=>G(fe.target.value),className:qe,placeholder:"https://youtube.com/..."})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Sources / Crdits"}),l.jsx("button",{type:"button",onClick:je,className:"text-premier hover:text-premier-dark text-sm font-medium",children:"+ Ajouter"})]}),l.jsx("div",{className:"space-y-3",children:p.map((fe,ye)=>l.jsxs("div",{className:"flex gap-2 items-center relative z-10",style:{zIndex:p.length-ye},children:[l.jsx("div",{className:"flex-grow",children:l.jsx(yn,{options:j,value:fe,onChange:we=>z(ye,we.toUpperCase()),placeholder:"ex: CHEF UNTEL"})}),l.jsx("button",{type:"button",onClick:()=>Ie(ye),className:"text-text-secondary hover:text-red-500 p-2",children:l.jsx(Re,{className:"h-5 w-5"})})]},ye))})]})]})]})}),ie&&l.jsx("p",{className:"text-red-500 text-sm text-center bg-red-50 p-3 rounded-lg mt-6 font-medium border border-red-100",children:ie})]}),l.jsxs("div",{className:"p-4 sm:p-6 border-t border-border-color bg-gray-50 sm:rounded-b-xl flex flex-col sm:flex-row-reverse items-center gap-3 z-10 shrink-0",children:[l.jsx("button",{type:"submit",disabled:m||Q,className:"w-full sm:w-auto inline-flex justify-center rounded-lg shadow-sm px-6 py-3 bg-premier text-base font-semibold text-white hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50 transition-all",children:m||Q?"Enregistrement...":"Enregistrer la recette"}),l.jsx("button",{type:"button",onClick:d,disabled:m||Q,className:"w-full sm:w-auto inline-flex justify-center rounded-lg border border-gray-300 shadow-sm px-6 py-3 bg-white text-base font-semibold text-text-primary hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50 transition-all",children:"Annuler"})]})]})})})},f0=({recipes:i,categories:d,onEdit:u,onDelete:c,onToggleStatus:h})=>{const m=v=>{if(typeof v.category=="object"&&v.category)return v.category.name;if(typeof v.category=="string"){const j=d.find(w=>w._id===v.category);return j?j.name:"N/A"}return"N/A"};return l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-border-color",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Image"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Titre"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Catgorie"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Note"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Age (Jours)"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Sources"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Statistiques"}),l.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider",children:"Statut"}),l.jsx("th",{scope:"col",className:"relative px-6 py-3",children:l.jsx("span",{className:"sr-only",children:"Actions"})})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-border-color",children:i.map(v=>{const j=m(v),w=v.isActive!==!1,g=v.scheduledAt&&new Date(v.scheduledAt)>new Date;return l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"h-12 w-12 rounded-lg bg-gray-200 overflow-hidden",children:v.imageUrl?l.jsx("img",{src:v.imageUrl,alt:"",className:"h-full w-full object-cover"}):l.jsx("div",{className:"h-full w-full flex items-center justify-center text-gray-400 text-xs",children:"No IMG"})})}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsx("div",{className:"text-sm font-medium text-text-primary",children:v.title}),v.city&&l.jsx("div",{className:"text-xs text-text-secondary",children:v.city})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:j!=="N/A"?l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:j}):l.jsx("span",{className:"text-gray-400 italic",children:"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-secondary",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("svg",{className:"h-4 w-4 text-yellow-400 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),v.rating]})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-primary",children:[v.minDay," - ",v.maxDay]}),l.jsx("td",{className:"px-6 py-4 text-sm text-text-secondary",children:v.sources&&v.sources.length>0?l.jsx("div",{className:"flex flex-wrap gap-1.5",children:v.sources.map((R,T)=>l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800 border border-gray-200",children:R.toUpperCase()},T))}):l.jsx("span",{className:"text-gray-400 italic",children:"Aucune"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:l.jsxs("div",{className:"flex flex-col gap-1.5",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-1 text-green-600",title:"J'aime",children:[l.jsx(pn,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:v.likes?v.likes.length:0})]}),l.jsxs("div",{className:"flex items-center gap-1 text-red-500",title:"Je n'aime pas",children:[l.jsx(gn,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:v.dislikes?v.dislikes.length:0})]})]}),l.jsxs("div",{className:"flex items-center gap-1 text-gray-500",title:"Vues",children:[l.jsx(Lt,{className:"h-4 w-4"}),l.jsx("span",{className:"font-medium",children:v.viewers?v.viewers.length:0})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g?l.jsxs("span",{className:"inline-flex flex-col items-start",children:[l.jsx("span",{className:"px-2 py-1 text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800 mb-1",children:"Planifi"}),l.jsxs("span",{className:"text-xs text-text-secondary",children:[new Date(v.scheduledAt).toLocaleDateString("fr-FR")," ",new Date(v.scheduledAt).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]}):l.jsx("button",{onClick:()=>h(v),className:`inline-flex px-2 py-1 text-xs leading-5 font-semibold rounded-full cursor-pointer transition-colors ${w?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,title:"Cliquez pour changer le statut",children:w?"Active":"Inactive"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[l.jsx("button",{onClick:()=>u(v),className:"p-2 rounded-md text-text-secondary hover:bg-gray-100 hover:text-premier transition-colors","aria-label":`Modifier ${v.title}`,children:l.jsx(ca,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>c(v),className:"p-2 rounded-md text-text-secondary hover:bg-gray-100 hover:text-red-600 transition-colors","aria-label":`Supprimer ${v.title}`,children:l.jsx(Rt,{className:"h-5 w-5"})})]})})]},v._id)})})]})})},bo=10,m0=({message:i,type:d,onClose:u})=>{x.useEffect(()=>{const m=setTimeout(u,5e3);return()=>clearTimeout(m)},[u]);const c="fixed top-5 right-5 z-50 p-4 rounded-md shadow-lg text-white flex items-center animate-fade-in-up",h=d==="success"?"bg-green-500":"bg-red-600";return l.jsxs("div",{className:`${c} ${h}`,role:"alert",children:[l.jsx("span",{className:"flex-grow",children:i}),l.jsx("button",{onClick:u,className:"ml-4 p-1 rounded-full hover:bg-white/20",children:l.jsx(Re,{className:"h-5 w-5"})})]})},x0=({token:i,onLogout:d})=>{const[u,c]=x.useState([]),[h,m]=x.useState([]),[v,j]=x.useState(!0),[w,g]=x.useState(null),[R,T]=x.useState(""),[Y,k]=x.useState(1),[S,_]=x.useState(null),[H,ee]=x.useState(!1),[P,A]=x.useState(null),[G,ne]=x.useState(!1),[Z,q]=x.useState(null),[M,$]=x.useState("createdAt-desc"),[K,xe]=x.useState("all"),[ue,ve]=x.useState("all"),pe=(D,te="success")=>{q({message:D,type:te})},me=[{value:"createdAt-desc",label:"Plus rcent"},{value:"createdAt-asc",label:"Plus ancien"},{value:"title-asc",label:"Titre (A-Z)"},{value:"title-desc",label:"Titre (Z-A)"},{value:"rating-desc",label:"Mieux nots"},{value:"updatedAt-desc",label:"Dernire modification"},{value:"scheduledAt-desc",label:"Date de planification"},{value:"viewers-desc",label:"Vues (Dcroissant)"}],O=[{value:"all",label:"Tous les statuts"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],le=x.useMemo(()=>h.filter(D=>D.contentTypes&&D.contentTypes.includes("recipe")),[h]),de=x.useMemo(()=>{const D=[{value:"all",label:"Toutes les catgories"}];return le.forEach(te=>D.push({value:te._id,label:te.name})),D},[le]),ce=x.useMemo(()=>{const D=new Set;return u.forEach(te=>{te.ingredients&&te.ingredients.forEach(z=>{z.name&&z.name.trim()&&D.add(z.name.trim())})}),Array.from(D).sort()},[u]),re=x.useMemo(()=>{const D=new Set;return u.forEach(te=>{te.sources&&te.sources.forEach(z=>{z&&z.trim()&&D.add(z.trim().toUpperCase())})}),Array.from(D).sort()},[u]);x.useEffect(()=>{(async()=>{try{j(!0),g(null);const[te,z]=await Promise.all([Wm(i),vn(i)]);c(te),m(z)}catch(te){te instanceof Error?te.message==="Session expire. Veuillez vous reconnecter."?d():g(te.message):g("Une erreur inconnue est survenue.")}finally{j(!1)}})()},[i,d]);const p=x.useMemo(()=>{let D=u.filter(te=>{var z,se;return(((z=te.title)==null?void 0:z.toLowerCase())||"").includes(R.toLowerCase())||(((se=te.city)==null?void 0:se.toLowerCase())||"").includes(R.toLowerCase())}).filter(te=>K==="all"?!0:(typeof te.category=="object"?te.category._id:te.category)===K).filter(te=>{if(ue==="all")return!0;const z=te.isActive!==!1;return ue==="active"?z:!z});if(M){const[te,z]=M.split("-");D.sort((se,oe)=>{var Ie,$e;if(te==="viewers"){const ut=((Ie=se.viewers)==null?void 0:Ie.length)||0,It=(($e=oe.viewers)==null?void 0:$e.length)||0;return z==="desc"?It-ut:ut-It}const je=se[te],Oe=oe[te];if(je==null)return 1;if(Oe==null)return-1;let ke=0;return typeof je=="string"&&typeof Oe=="string"?ke=je.localeCompare(Oe,"fr",{sensitivity:"base"}):typeof je=="number"&&typeof Oe=="number"?ke=je-Oe:je<Oe?ke=-1:je>Oe&&(ke=1),z==="desc"?-ke:ke})}return D},[u,R,M,K,ue]),V=x.useMemo(()=>{const D=(Y-1)*bo;return p.slice(D,D+bo)},[p,Y]),ie=async D=>{ne(!0);try{if(S){const te=await ng(i,S._id,D);c(u.map(z=>z._id===te._id?{...z,...te}:z)),pe("Recette mise  jour avec succs.","success")}else{const te=await sg(i,D);if(typeof te.category=="string"){const z=h.find(se=>se._id===te.category);z&&(te.category=z)}c([te,...u]),pe("Recette ajoute avec succs.","success")}ee(!1),_(null)}catch(te){const z=te instanceof Error?te.message:"La sauvegarde a chou.";throw pe(z,"error"),te}finally{ne(!1)}},F=async D=>{try{const te=D.isActive!==!1;let z;te?(z=await cg(i,D._id),pe("Recette dsactive.","success")):(z=await ig(i,D._id),pe("Recette active.","success")),c(u.map(se=>se._id===z._id?{...se,...z}:se))}catch(te){const z=te instanceof Error?te.message:"Impossible de modifier le statut.";pe(z,"error")}},b=async()=>{if(P){ne(!0);try{await rg(i,P._id),c(u.filter(D=>D._id!==P._id)),pe("Recette supprime avec succs.","success")}catch(D){const te=D instanceof Error?D.message:"La suppression a chou.";pe(te,"error")}finally{ne(!1),A(null)}}},C=()=>{_(null),ee(!0)},Q=D=>{_(D),ee(!0)},I=()=>v?l.jsx("div",{className:"flex-1 flex justify-center items-center",children:l.jsx(bt,{className:"h-12 w-12 text-premier"})}):w?l.jsx("p",{className:"text-red-500 text-center p-4 bg-red-50 rounded-lg m-4",children:w}):l.jsxs(l.Fragment,{children:[l.jsx(f0,{recipes:V,categories:h,onEdit:Q,onDelete:A,onToggleStatus:F}),l.jsx(Nl,{currentPage:Y,totalItems:p.length,itemsPerPage:bo,onPageChange:k})]});return l.jsxs(l.Fragment,{children:[Z&&l.jsx(m0,{message:Z.message,type:Z.type,onClose:()=>q(null)}),l.jsx(oa,{title:"Gestion des recettes",headerContent:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center w-full",children:[l.jsxs("div",{className:"relative flex-grow w-full sm:w-auto",children:[l.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:l.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"search",placeholder:"Rechercher une recette...",onChange:D=>{T(D.target.value),k(1)},className:"w-full pl-10 pr-4 py-2.5 bg-white border border-border-color rounded-lg text-sm text-text-primary focus:ring-premier focus:border-premier transition"})]}),l.jsxs("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-3 w-full sm:w-auto",children:[l.jsx(Qe,{options:de,value:K,onChange:D=>{xe(D),k(1)},labelPrefix:"Catgorie : "}),l.jsx(Qe,{options:O,value:ue,onChange:D=>{ve(D),k(1)}}),l.jsx(Qe,{options:me,value:M,onChange:$,labelPrefix:"Trier par : "})]}),l.jsxs("button",{onClick:C,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-5 py-2.5 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-premier hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier transition-colors",children:[l.jsx(Ft,{className:"h-5 w-5"}),l.jsx("span",{children:"Ajouter"})]})]}),children:I()}),l.jsx(d0,{isOpen:H,onClose:()=>ee(!1),onSave:ie,recipe:S,categories:le,isLoading:G,existingIngredients:ce,existingSources:re,token:i}),l.jsx(Ma,{isOpen:!!P,onClose:()=>A(null),onConfirm:b,title:"Supprimer la recette",message:`tes-vous sr de vouloir supprimer la recette "${P==null?void 0:P.title}" ? Cette action est irrversible.`,confirmButtonText:"Supprimer",isLoading:G})]})},h0=async(i,d,u)=>{const c=await fetch(`${ta}/admin/change-password`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({oldPassword:d,newPassword:u})});if(!c.ok){let h="Erreur lors du changement de mot de passe";try{h=(await c.json()).message||h}catch{}throw new Error(h)}},p0=[{id:"violet",name:"Mamaty Violet (Dfaut)",primary:"#8B5CF6",dark:"#7C3AED"},{id:"pink",name:"Rose Bonbon",primary:"#EC4899",dark:"#DB2777"},{id:"blue",name:"Bleu Ocan",primary:"#3B82F6",dark:"#2563EB"},{id:"cyan",name:"Cyan Frais",primary:"#06B6D4",dark:"#0891B2"},{id:"emerald",name:"Vert Nature",primary:"#10B981",dark:"#059669"},{id:"amber",name:"Ambre Chaud",primary:"#F59E0B",dark:"#D97706"},{id:"rose",name:"Rouge Passion",primary:"#F43F5E",dark:"#E11D48"},{id:"slate",name:"Gris Professionnel",primary:"#64748B",dark:"#475569"}],nx=(i,d)=>{const u=document.documentElement;u.style.setProperty("--color-premier",i),u.style.setProperty("--color-premier-dark",d),localStorage.setItem("app-theme",JSON.stringify({primary:i,dark:d}))},g0=()=>{const i=localStorage.getItem("app-theme");if(i)try{const{primary:d,dark:u}=JSON.parse(i);nx(d,u)}catch(d){console.error("Failed to parse saved theme",d)}},y0=({token:i})=>{const[d,u]=x.useState("general"),[c,h]=x.useState(""),[m,v]=x.useState(""),[j,w]=x.useState(""),[g,R]=x.useState(!1),[T,Y]=x.useState(!1),[k,S]=x.useState(!1),[_,H]=x.useState(null),[ee,P]=x.useState(!1),[A,G]=x.useState(!0),[ne,Z]=x.useState(!1),[q,M]=x.useState("violet"),$=me=>{me.target.setCustomValidity("Veuillez remplir ce champ.")},K=me=>{me.target.setCustomValidity("")},xe=async me=>{if(me.preventDefault(),H(null),m!==j){H({text:"Les nouveaux mots de passe ne correspondent pas.",type:"error"});return}if(m.length<6){H({text:"Le mot de passe doit contenir au moins 6 caractres.",type:"error"});return}P(!0);try{await h0(i,c,m),H({text:"Mot de passe modifi avec succs.",type:"success"}),h(""),v(""),w("")}catch(O){const le=O instanceof Error?O.message:"Erreur lors du changement de mot de passe.";H({text:le,type:"error"})}finally{P(!1)}},ue=()=>{const me={exportDate:new Date().toISOString(),app:"Mamaty Dashboard",note:"This is a client-side export of available cached data context."},O=new Blob([JSON.stringify(me,null,2)],{type:"application/json"}),le=URL.createObjectURL(O),de=document.createElement("a");de.href=le,de.download=`mamaty_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(de),de.click(),document.body.removeChild(de)},ve=me=>{M(me.id),nx(me.primary,me.dark)},pe=[{id:"general",label:"Gnral",icon:Qp},{id:"security",label:"Scurit",icon:Yp},{id:"appearance",label:"Apparence",icon:Lt},{id:"data",label:"Donnes",icon:km}];return l.jsx(oa,{title:"Paramtres",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-border-color overflow-hidden mb-6",children:l.jsx("div",{className:"flex overflow-x-auto",children:pe.map(me=>{const O=me.icon;return l.jsxs("button",{onClick:()=>u(me.id),className:`
                                flex items-center gap-2 px-6 py-4 text-sm font-medium transition-colors whitespace-nowrap border-b-2
                                ${d===me.id?"border-premier text-premier bg-premier/5":"border-transparent text-text-secondary hover:text-text-primary hover:bg-gray-50"}
                            `,children:[l.jsx(O,{className:"h-5 w-5"}),me.label]},me.id)})})}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-border-color p-6 sm:p-8 min-h-[400px]",children:[d==="general"&&l.jsx("div",{className:"space-y-8 animate-fade-in-up",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Prfrences de l'application"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-border-color",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-text-primary",children:"Mode Maintenance"}),l.jsx("p",{className:"text-sm text-text-secondary",children:"Empcher l'accs aux utilisateurs (hors admin)."})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:ne,onChange:me=>Z(me.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-premier/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-premier"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-border-color",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-text-primary",children:"Notifications Email"}),l.jsx("p",{className:"text-sm text-text-secondary",children:"Recevoir des alertes pour les nouvelles inscriptions."})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:A,onChange:me=>G(me.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-premier/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-premier"})]})]})]})]})}),d==="security"&&l.jsxs("div",{className:"max-w-md animate-fade-in-up",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-6",children:"Changer le mot de passe"}),l.jsxs("form",{onSubmit:xe,className:"space-y-5",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Mot de passe actuel"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:g?"text":"password",required:!0,value:c,onChange:me=>h(me.target.value),onInvalid:$,onInput:K,className:"w-full rounded-lg border-border-color bg-background py-2.5 px-4 pr-10 text-text-primary focus:ring-2 focus:ring-premier focus:bg-white transition-colors"}),l.jsx("button",{type:"button",onClick:()=>R(!g),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 focus:outline-none",children:g?l.jsx(vl,{className:"h-5 w-5"}):l.jsx(Lt,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Nouveau mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:T?"text":"password",required:!0,value:m,onChange:me=>v(me.target.value),onInvalid:$,onInput:K,className:"w-full rounded-lg border-border-color bg-background py-2.5 px-4 pr-10 text-text-primary focus:ring-2 focus:ring-premier focus:bg-white transition-colors"}),l.jsx("button",{type:"button",onClick:()=>Y(!T),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 focus:outline-none",children:T?l.jsx(vl,{className:"h-5 w-5"}):l.jsx(Lt,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Confirmer le nouveau mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:k?"text":"password",required:!0,value:j,onChange:me=>w(me.target.value),onInvalid:$,onInput:K,className:"w-full rounded-lg border-border-color bg-background py-2.5 px-4 pr-10 text-text-primary focus:ring-2 focus:ring-premier focus:bg-white transition-colors"}),l.jsx("button",{type:"button",onClick:()=>S(!k),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 focus:outline-none",children:k?l.jsx(vl,{className:"h-5 w-5"}):l.jsx(Lt,{className:"h-5 w-5"})})]})]}),_&&l.jsx("div",{className:`p-3 rounded-lg text-sm ${_.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:_.text}),l.jsx("button",{type:"submit",disabled:ee,className:"flex items-center justify-center gap-2 w-full py-2.5 bg-premier hover:bg-premier-dark text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:ee?"Traitement...":l.jsxs(l.Fragment,{children:[l.jsx(Xp,{className:"h-4 w-4"}),"Mettre  jour"]})})]})]}),d==="appearance"&&l.jsxs("div",{className:"animate-fade-in-up",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Thme de l'interface"}),l.jsx("p",{className:"text-text-secondary mb-6 text-sm",children:"Personnalisez la couleur principale de votre tableau de bord."}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:p0.map(me=>l.jsxs("button",{onClick:()=>ve(me),className:`
                                    group relative flex flex-col items-center gap-3 p-4 rounded-xl border transition-all duration-200
                                    ${q===me.id?"border-premier bg-premier/5 ring-1 ring-premier":"border-border-color hover:border-gray-300 hover:bg-gray-50"}
                                `,children:[l.jsx("div",{className:"w-12 h-12 rounded-full shadow-sm flex items-center justify-center transition-transform group-hover:scale-110",style:{backgroundColor:me.primary},children:q===me.id&&l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),l.jsx("span",{className:`text-sm font-medium ${q===me.id?"text-premier":"text-text-primary"}`,children:me.name})]},me.id))}),l.jsxs("div",{className:"mt-10 p-6 bg-gray-50 rounded-xl border border-border-color",children:[l.jsx("h4",{className:"text-sm font-bold text-text-primary mb-4",children:"Aperu des composants"}),l.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[l.jsx("button",{className:"px-4 py-2 bg-premier text-white rounded-lg shadow-sm",children:"Bouton Principal"}),l.jsx("button",{className:"px-4 py-2 bg-white border border-premier text-premier rounded-lg shadow-sm",children:"Bouton Secondaire"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:!0,readOnly:!0,className:"text-premier focus:ring-premier rounded"}),l.jsx("span",{className:"text-sm",children:"Case  cocher"})]}),l.jsx("span",{className:"px-2 py-1 bg-premier/10 text-premier text-xs rounded-full font-medium",children:"Badge"})]})]})]}),d==="data"&&l.jsxs("div",{className:"animate-fade-in-up",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Exportation des donnes"}),l.jsx("p",{className:"text-text-secondary text-sm mb-6",children:"Tlchargez une copie de vos donnes actuelles (JSON) pour effectuer des sauvegardes manuelles."}),l.jsxs("div",{className:"p-6 border border-border-color rounded-xl bg-gray-50 flex flex-col sm:flex-row items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-lg",children:l.jsx(km,{className:"h-6 w-6"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-text-primary",children:"Sauvegarde complte"}),l.jsx("p",{className:"text-xs text-text-secondary",children:"Utilisateurs, Recettes, Conseils, etc."})]})]}),l.jsx("button",{onClick:ue,className:"px-4 py-2 bg-white border border-border-color text-text-primary hover:text-premier hover:border-premier rounded-lg shadow-sm transition-colors font-medium text-sm",children:"Tlcharger JSON"})]})]})]})]})})},wl=`${ta}/admin`,ys=async i=>{if(i.status===401||i.status===403)throw new Error("Session expire. Veuillez vous reconnecter.");if(!i.ok){let d;const u=i.headers.get("content-type");if(u&&u.includes("application/json"))d=await i.json();else{const c=await i.text();throw new Error(`Erreur du serveur : ${i.status}. ${c}`)}throw new Error(d.message||"Une erreur est survenue.")}return i.status===204||i.headers.get("content-length")==="0"?null:i.json()},b0=async i=>{const d=await fetch(`${wl}/faqs`,{method:"GET",headers:{Authorization:`Bearer ${i}`}}),u=await ys(d);return Array.isArray(u)?u:u.faqs||[]},v0=async(i,d)=>{const u=await fetch(`${wl}/faqs`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(d)});return ys(u)},j0=async(i,d,u)=>{const c=await fetch(`${wl}/faqs/${d}`,{method:"PUT",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(u)});return ys(c)},N0=async(i,d)=>{const u=await fetch(`${wl}/faqs/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}});await ys(u)},w0=async i=>{const d=`${wl}/contact-info`;try{const u=await fetch(d,{method:"GET",headers:{Authorization:`Bearer ${i}`}});if(!u.ok){let h=`Erreur ${u.status}`;try{h=(await u.json()).message||h}catch{h=await u.text()||h}throw new Error(h)}const c=await u.json();return Array.isArray(c)?c:c.infos&&Array.isArray(c.infos)?c.infos:c._id||c.email?[c]:[]}catch(u){throw console.error("Error in getContactInfos:",u),u}},S0=async(i,d)=>{const u=await fetch(`${wl}/contact-info`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(d)});return ys(u)},C0=async(i,d,u)=>{const c=await fetch(`${wl}/contact-info/${d}`,{method:"PUT",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(u)});return ys(c)},A0=({isOpen:i,onClose:d,onSave:u,faq:c,isLoading:h})=>{const[m,v]=x.useState(""),[j,w]=x.useState(""),[g,R]=x.useState(""),T=!!c;x.useEffect(()=>{i&&(R(""),c?(v(c.question),w(c.answer)):(v(""),w("")))},[i,c]);const Y=H=>{H.target.setCustomValidity("Veuillez remplir ce champ.")},k=H=>{H.target.setCustomValidity("")},S=async H=>{if(H.preventDefault(),R(""),!m.trim()||!j.trim()){R("Tous les champs sont requis.");return}try{await u({question:m,answer:j})}catch(ee){ee instanceof Error?R(ee.message):R("Une erreur inconnue est survenue.")}};if(!i)return null;const _="w-full bg-background rounded-lg py-2.5 px-4 text-text-primary placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-premier focus:bg-white transition-colors";return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 flex justify-center items-center p-4","aria-modal":"true",role:"dialog",children:l.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg transform transition-all",children:l.jsxs("form",{onSubmit:S,children:[l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:T?"Modifier la FAQ":"Ajouter une FAQ"}),l.jsx("button",{type:"button",onClick:d,className:"p-1 rounded-full text-text-secondary hover:bg-gray-100",children:l.jsx(Re,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"question",className:"block text-sm font-medium text-text-secondary mb-1",children:"Question"}),l.jsx("input",{required:!0,type:"text",id:"question",value:m,onChange:H=>v(H.target.value),onInvalid:Y,onInput:k,className:_,placeholder:"Posez une question..."})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"answer",className:"block text-sm font-medium text-text-secondary mb-1",children:"Rponse"}),l.jsx("textarea",{required:!0,id:"answer",rows:4,value:j,onChange:H=>w(H.target.value),onInvalid:Y,onInput:k,className:_,placeholder:"Votre rponse ici..."})]}),g&&l.jsx("p",{className:"text-red-500 text-sm text-center",children:g})]})]}),l.jsxs("div",{className:"px-6 py-4 flex flex-row-reverse items-center gap-3 border-t border-border-color bg-gray-50 rounded-b-lg",children:[l.jsx("button",{type:"submit",disabled:h,className:"inline-flex justify-center rounded-lg shadow-sm px-5 py-2.5 bg-premier text-base font-semibold text-white hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:h?"Enregistrement...":"Enregistrer"}),l.jsx("button",{type:"button",onClick:d,disabled:h,className:"inline-flex justify-center rounded-lg border border-border-color shadow-sm px-5 py-2.5 bg-white text-base font-semibold text-text-primary hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:"Annuler"})]})]})})})},E0=({isOpen:i,onClose:d,onSave:u,info:c,isLoading:h})=>{const[m,v]=x.useState(""),[j,w]=x.useState(""),[g,R]=x.useState(""),[T,Y]=x.useState([]),[k,S]=x.useState(""),_=!!c;x.useEffect(()=>{i&&(S(""),c?(v(c.phone||""),w(c.email||""),R(c.description||""),Y(c.socials&&c.socials.length>0?c.socials:[])):(v(""),w(""),R(""),Y([])))},[i,c]);const H=()=>{Y([...T,{icon:"",title:"",subtitle:"",url:""}])},ee=q=>{const M=[...T];M.splice(q,1),Y(M)},P=(q,M,$)=>{const K=[...T];K[q]={...K[q],[M]:$},Y(K)},A=q=>{q.target.setCustomValidity("Veuillez remplir ce champ.")},G=q=>{q.target.setCustomValidity("")},ne=async q=>{if(q.preventDefault(),S(""),!m.trim()||!j.trim()){S("L'email et le tlphone sont requis.");return}for(const M of T)if(!M.title||!M.url||!M.icon){S("Tous les champs des rseaux sociaux (Titre, URL, Icne) sont requis.");return}try{await u({phone:m,email:j,description:g,socials:T})}catch(M){M instanceof Error?S(M.message):S("Une erreur inconnue est survenue.")}};if(!i)return null;const Z="w-full bg-background rounded-lg py-2.5 px-4 text-text-primary placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-premier focus:bg-white transition-colors";return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 flex justify-center items-center p-4","aria-modal":"true",role:"dialog",children:l.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl transform transition-all max-h-[90vh] flex flex-col",children:l.jsxs("form",{onSubmit:ne,className:"flex flex-col h-full overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-border-color flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:_?"Modifier l'info de contact":"Ajouter une info de contact"}),l.jsx("button",{type:"button",onClick:d,className:"p-1 rounded-full text-text-secondary hover:bg-gray-100",children:l.jsx(Re,{className:"h-6 w-6"})})]}),l.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-secondary mb-1",children:"Email"}),l.jsx("input",{required:!0,type:"email",id:"email",value:j,onChange:q=>w(q.target.value),onInvalid:q=>q.target.setCustomValidity("Veuillez saisir une adresse e-mail valide."),onInput:G,className:Z,placeholder:"contact@mamaty.tn"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-text-secondary mb-1",children:"Tlphone"}),l.jsx("input",{required:!0,type:"tel",id:"phone",value:m,onChange:q=>v(q.target.value),onInvalid:A,onInput:G,className:Z,placeholder:"+216 71 000 000"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-text-secondary mb-1",children:"Description"}),l.jsx("textarea",{id:"description",rows:3,value:g,onChange:q=>R(q.target.value),className:Z,placeholder:"Description brve..."})]}),l.jsxs("div",{className:"border-t border-border-color pt-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h4",{className:"text-sm font-bold text-text-primary",children:"Rseaux Sociaux"}),l.jsxs("button",{type:"button",onClick:H,className:"text-sm text-premier hover:text-premier-dark font-medium flex items-center gap-1",children:[l.jsx(Ft,{className:"h-4 w-4"})," Ajouter"]})]}),T.length===0?l.jsx("p",{className:"text-sm text-text-secondary italic text-center py-4 bg-gray-50 rounded-lg",children:"Aucun rseau social ajout."}):l.jsx("div",{className:"space-y-4",children:T.map((q,M)=>l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-border-color relative group",children:[l.jsx("button",{type:"button",onClick:()=>ee(M),className:"absolute top-2 right-2 p-1 text-text-secondary hover:text-red-500 rounded-full hover:bg-white transition-colors",children:l.jsx(Re,{className:"h-4 w-4"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-text-secondary mb-1",children:"Titre"}),l.jsx("input",{type:"text",value:q.title,onChange:$=>P(M,"title",$.target.value),className:`${Z} py-1.5 text-sm`,placeholder:"ex: Facebook"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-text-secondary mb-1",children:"Sous-titre (Optionnel)"}),l.jsx("input",{type:"text",value:q.subtitle,onChange:$=>P(M,"subtitle",$.target.value),className:`${Z} py-1.5 text-sm`,placeholder:"ex: @mamaty_officiel"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-text-secondary mb-1",children:"URL"}),l.jsx("input",{type:"text",value:q.url,onChange:$=>P(M,"url",$.target.value),className:`${Z} py-1.5 text-sm`,placeholder:"https://..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-text-secondary mb-1",children:"Icne (Code ou URL)"}),l.jsx("input",{type:"text",value:q.icon,onChange:$=>P(M,"icon",$.target.value),className:`${Z} py-1.5 text-sm`,placeholder:"ex: facebook OU https://..."})]})]})]},M))})]}),k&&l.jsx("p",{className:"text-red-500 text-sm text-center",children:k})]})}),l.jsxs("div",{className:"p-6 border-t border-border-color bg-gray-50 flex flex-row-reverse items-center gap-3",children:[l.jsx("button",{type:"submit",disabled:h,className:"inline-flex justify-center rounded-lg shadow-sm px-5 py-2.5 bg-premier text-base font-semibold text-white hover:bg-premier-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:h?"Enregistrement...":"Enregistrer"}),l.jsx("button",{type:"button",onClick:d,disabled:h,className:"inline-flex justify-center rounded-lg border border-border-color shadow-sm px-5 py-2.5 bg-white text-base font-semibold text-text-primary hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-premier sm:text-sm disabled:opacity-50",children:"Annuler"})]})]})})})},T0=({message:i,type:d,onClose:u})=>{x.useEffect(()=>{const m=setTimeout(u,5e3);return()=>clearTimeout(m)},[u]);const c="fixed top-5 right-5 z-50 p-4 rounded-md shadow-lg text-white flex items-center animate-fade-in-up",h=d==="success"?"bg-green-500":"bg-red-600";return l.jsxs("div",{className:`${c} ${h}`,role:"alert",children:[l.jsx("span",{className:"flex-grow",children:i}),l.jsx("button",{onClick:u,className:"ml-4 p-1 rounded-full hover:bg-white/20",children:l.jsx(Re,{className:"h-5 w-5"})})]})},z0=({token:i,onLogout:d})=>{const[u,c]=x.useState("faq"),[h,m]=x.useState([]),[v,j]=x.useState([]),[w,g]=x.useState(!0),[R,T]=x.useState(null),[Y,k]=x.useState(null),[S,_]=x.useState(!1),[H,ee]=x.useState(null),[P,A]=x.useState(null),[G,ne]=x.useState(!1),[Z,q]=x.useState(null),[M,$]=x.useState(!1),[K,xe]=x.useState(null),ue=(ce,re="success")=>{xe({message:ce,type:re})},ve=async()=>{var ce,re;g(!0),T(null),k(null);try{const p=await b0(i);m(p)}catch(p){console.error("Failed to fetch FAQs",p),(ce=p.message)!=null&&ce.includes("Session expire")&&d(),T("Impossible de charger les FAQs.")}try{const p=await w0(i);j(p)}catch(p){console.error("Failed to fetch Contact Infos",p),(re=p.message)!=null&&re.includes("Session expire")&&d(),k(p.message||"Impossible de charger les infos de contact.")}g(!1)};x.useEffect(()=>{ve()},[i,d]);const pe=async ce=>{$(!0);try{if(H){const re=await j0(i,H._id,ce);m(h.map(p=>p._id===re._id?re:p)),ue("FAQ mise  jour.","success")}else{const re=await v0(i,ce);m([re,...h]),ue("FAQ cre.","success")}_(!1),ee(null)}catch(re){ue(re.message||"Erreur lors de la sauvegarde.","error")}finally{$(!1)}},me=async()=>{if(P){$(!0);try{await N0(i,P._id),m(h.filter(ce=>ce._id!==P._id)),ue("FAQ supprime.","success")}catch(ce){ue(ce.message||"Erreur lors de la suppression.","error")}finally{$(!1),A(null)}}},O=ce=>{ee(ce||null),_(!0)},le=async ce=>{$(!0);try{if(Z){const re=await C0(i,Z._id,ce);j(v.map(p=>p._id===re._id?re:p)),ue("Info mise  jour.","success")}else{const re=await S0(i,ce);j([re,...v]),ue("Info cre.","success")}ne(!1),q(null)}catch(re){ue(re.message||"Erreur lors de la sauvegarde.","error")}finally{$(!1)}},de=ce=>{q(ce||null),ne(!0)};return w?l.jsx("div",{className:"flex h-full items-center justify-center",children:l.jsx(bt,{className:"h-12 w-12 text-premier"})}):l.jsxs(l.Fragment,{children:[K&&l.jsx(T0,{message:K.message,type:K.type,onClose:()=>xe(null)}),l.jsx(oa,{title:"Infos & FAQ",headerContent:l.jsx("div",{className:"flex gap-4",children:u==="faq"&&l.jsxs("button",{onClick:()=>O(),className:"flex items-center gap-2 px-4 py-2 bg-premier text-white rounded-lg hover:bg-premier-dark transition-colors text-sm font-medium",children:[l.jsx(Ft,{className:"h-5 w-5"}),"Ajouter une FAQ"]})}),children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"flex border-b border-border-color px-6",children:[l.jsx("button",{onClick:()=>c("faq"),className:`py-4 px-6 font-medium text-sm border-b-2 transition-colors ${u==="faq"?"border-premier text-premier":"border-transparent text-text-secondary hover:text-text-primary"}`,children:"Questions Frquentes (FAQ)"}),l.jsx("button",{onClick:()=>c("contact"),className:`py-4 px-6 font-medium text-sm border-b-2 transition-colors ${u==="contact"?"border-premier text-premier":"border-transparent text-text-secondary hover:text-text-primary"}`,children:"Informations de Contact"})]}),l.jsx("div",{className:"flex-1 overflow-auto p-6 bg-gray-50/30",children:u==="faq"?l.jsx(l.Fragment,{children:R?l.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-4 border border-red-200 text-center",children:[l.jsx("p",{className:"font-medium mb-2",children:R}),l.jsx("button",{onClick:ve,className:"text-sm underline hover:text-red-800",children:"Ressayer"})]}):l.jsx("div",{className:"bg-white rounded-lg border border-border-color shadow-sm overflow-hidden",children:l.jsxs("table",{className:"min-w-full divide-y divide-border-color",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase",children:"Question"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase",children:"Rponse"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-text-secondary uppercase",children:"Actions"})]})}),l.jsxs("tbody",{className:"divide-y divide-border-color",children:[h.map(ce=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 text-sm font-medium text-text-primary",children:ce.question}),l.jsx("td",{className:"px-6 py-4 text-sm text-text-secondary line-clamp-2 max-w-md",children:ce.answer}),l.jsx("td",{className:"px-6 py-4 text-right text-sm",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:()=>O(ce),className:"p-2 rounded-md hover:bg-gray-100 text-text-secondary hover:text-premier",children:l.jsx(ca,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>A(ce),className:"p-2 rounded-md hover:bg-gray-100 text-text-secondary hover:text-red-500",children:l.jsx(Rt,{className:"h-5 w-5"})})]})})]},ce._id)),h.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"px-6 py-8 text-center text-text-secondary",children:"Aucune FAQ trouve."})})]})]})})}):l.jsx(l.Fragment,{children:Y?l.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-4 border border-red-200 text-center",children:[l.jsx("p",{className:"font-medium mb-2",children:Y}),l.jsx("p",{className:"text-xs mb-2",children:"Vrifiez la console pour plus de dtails [DEBUG]"}),l.jsx("button",{onClick:ve,className:"text-sm underline hover:text-red-800",children:"Ressayer"})]}):l.jsx("div",{className:"bg-white rounded-lg border border-border-color shadow-sm overflow-hidden",children:l.jsxs("table",{className:"min-w-full divide-y divide-border-color",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase",children:"Contact (Email / Tl)"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase",children:"Description"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-text-secondary uppercase",children:"Rseaux Sociaux"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-text-secondary uppercase",children:"Actions"})]})}),l.jsxs("tbody",{className:"divide-y divide-border-color",children:[v.map(ce=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 text-sm",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium text-text-primary",children:ce.email}),l.jsx("span",{className:"text-text-secondary",children:ce.phone})]})}),l.jsx("td",{className:"px-6 py-4 text-sm text-text-secondary max-w-xs truncate",title:ce.description,children:ce.description||"Aucune description"}),l.jsx("td",{className:"px-6 py-4 text-sm",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:ce.socials&&ce.socials.length>0?ce.socials.map((re,p)=>l.jsxs("a",{href:re.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-2 py-1 rounded bg-blue-50 text-blue-700 text-xs font-medium border border-blue-100 hover:bg-blue-100 transition-colors",title:re.url,children:[re.icon.startsWith("http")?l.jsx("img",{src:re.icon,alt:re.title,className:"w-3.5 h-3.5 object-contain"}):l.jsx("span",{children:re.icon.substring(0,2).toUpperCase()}),l.jsx("span",{children:re.title})]},p)):l.jsx("span",{className:"text-text-secondary italic",children:"Aucun"})})}),l.jsx("td",{className:"px-6 py-4 text-right text-sm",children:l.jsx("div",{className:"flex justify-end gap-2",children:l.jsx("button",{onClick:()=>de(ce),className:"p-2 rounded-md hover:bg-gray-100 text-text-secondary hover:text-premier",children:l.jsx(ca,{className:"h-5 w-5"})})})})]},ce._id)),v.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-text-secondary",children:"Aucune info de contact trouve."})})]})]})})})})]})}),l.jsx(A0,{isOpen:S,onClose:()=>_(!1),onSave:pe,faq:H,isLoading:M}),l.jsx(E0,{isOpen:G,onClose:()=>ne(!1),onSave:le,info:Z,isLoading:M}),l.jsx(Ma,{isOpen:!!P,onClose:()=>A(null),onConfirm:me,title:"Supprimer la FAQ",message:"tes-vous sr de vouloir supprimer cette question ?",confirmButtonText:"Supprimer",isLoading:M})]})},M0=({message:i,type:d,onClose:u})=>{x.useEffect(()=>{const m=setTimeout(u,5e3);return()=>clearTimeout(m)},[u]);const c="fixed top-5 right-5 z-50 p-4 rounded-md shadow-lg text-white flex items-center animate-fade-in-up",h=d==="success"?"bg-green-500":"bg-red-600";return l.jsxs("div",{className:`${c} ${h}`,role:"alert",children:[l.jsx("span",{className:"flex-grow",children:i}),l.jsx("button",{onClick:u,className:"ml-4 p-1 rounded-full hover:bg-white/20",children:l.jsx(Re,{className:"h-5 w-5"})})]})},D0=({token:i,onLogout:d})=>{const[u,c]=x.useState([]),[h,m]=x.useState("parent"),[v,j]=x.useState("male"),[w,g]=x.useState(!1),[R,T]=x.useState(!0),[Y,k]=x.useState(null),[S,_]=x.useState(null),[H,ee]=x.useState(!1),P=x.useRef(null);x.useEffect(()=>{(async()=>{T(!0);try{const $=await tx(i);c($)}catch($){console.error($),$.message&&$.message.includes("Session expire")?d():A("Impossible de charger les avatars.","error")}finally{T(!1)}})()},[i,d]);const A=(M,$="success")=>{k({message:M,type:$})},G=async M=>{var K;const $=(K=M.target.files)==null?void 0:K[0];if($){if($.size>5*1024*1024){A("L'image est trop volumineuse (max 5MB).","error");return}g(!0);try{const xe=await Tg(i,$,h,v);c(ue=>[xe,...ue]),A("Avatar tlcharg avec succs.","success")}catch(xe){console.error(xe),A(xe.message||"chec du tlchargement de l'avatar.","error")}finally{g(!1),P.current&&(P.current.value="")}}},ne=(M,$)=>{M.stopPropagation(),_($)},Z=async()=>{if(S){ee(!0);try{await zg(i,S),c(M=>M.filter($=>$._id!==S)),A("Avatar supprim.","success")}catch(M){console.error("Delete failed",M),A(M.message||"Erreur lors de la suppression.","error")}finally{ee(!1),_(null)}}},q=u.filter(M=>M.type===h&&M.gender===v);return l.jsxs(l.Fragment,{children:[Y&&l.jsx(M0,{message:Y.message,type:Y.type,onClose:()=>k(null)}),l.jsx(oa,{title:"Gestion des Avatars",headerContent:l.jsx("div",{className:"flex gap-2"}),children:l.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50",children:[l.jsx("div",{className:"p-6 bg-white border-b border-border-color space-y-4",children:l.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:l.jsxs("div",{className:"flex gap-4 p-1 bg-gray-100 rounded-lg",children:[l.jsx("button",{onClick:()=>{m("parent"),j("male")},className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${h==="parent"&&v==="male"?"bg-white shadow-sm text-premier":"text-text-secondary hover:text-text-primary"}`,children:"Papa (Homme)"}),l.jsx("button",{onClick:()=>{m("parent"),j("female")},className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${h==="parent"&&v==="female"?"bg-white shadow-sm text-premier":"text-text-secondary hover:text-text-primary"}`,children:"Maman (Femme)"}),l.jsx("button",{onClick:()=>{m("baby"),j("male")},className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${h==="baby"&&v==="male"?"bg-white shadow-sm text-premier":"text-text-secondary hover:text-text-primary"}`,children:"Bb (Garon)"}),l.jsx("button",{onClick:()=>{m("baby"),j("female")},className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${h==="baby"&&v==="female"?"bg-white shadow-sm text-premier":"text-text-secondary hover:text-text-primary"}`,children:"Bb (Fille)"})]})})}),l.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[R?l.jsx("div",{className:"flex h-full items-center justify-center",children:l.jsx(bt,{className:"h-12 w-12 text-premier"})}):l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-6",children:[l.jsxs("div",{className:"aspect-square rounded-xl border-2 border-dashed border-gray-300 hover:border-premier hover:bg-premier/5 transition-all flex flex-col items-center justify-center cursor-pointer group bg-white",onClick:()=>{var M;return(M=P.current)==null?void 0:M.click()},children:[l.jsx("input",{type:"file",ref:P,className:"hidden",accept:"image/*",onChange:G,disabled:w}),w?l.jsx(bt,{className:"h-8 w-8 text-premier"}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-3 rounded-full bg-gray-50 group-hover:bg-white transition-colors mb-2",children:l.jsx(bn,{className:"h-6 w-6 text-gray-400 group-hover:text-premier"})}),l.jsx("span",{className:"text-sm font-medium text-gray-500 group-hover:text-premier",children:"Ajouter"})]})]}),q.map(M=>l.jsxs("div",{className:"group relative aspect-square rounded-xl overflow-hidden border border-border-color bg-white shadow-sm hover:shadow-md transition-all",children:[l.jsx("img",{src:M.url,alt:"Avatar",className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:l.jsx("button",{onClick:$=>ne($,M._id),className:"p-2 bg-white rounded-full text-red-500 hover:text-red-700 hover:bg-red-50 transition-colors shadow-lg",title:"Supprimer",children:l.jsx(Rt,{className:"h-5 w-5"})})})]},M._id))]}),!R&&q.length===0&&l.jsx("div",{className:"text-center py-10 text-text-secondary",children:"Aucun avatar tlcharg pour cette catgorie. Commencez par en ajouter un !"})]})]})}),l.jsx(Ma,{isOpen:!!S,onClose:()=>_(null),onConfirm:Z,title:"Supprimer l'avatar",message:"tes-vous sr de vouloir supprimer cet avatar ? Cette action est irrversible.",confirmButtonText:"Supprimer",isLoading:H})]})},O0=({message:i,type:d,onClose:u})=>{x.useEffect(()=>{const m=setTimeout(u,5e3);return()=>clearTimeout(m)},[u]);const c="fixed top-5 right-5 z-50 p-4 rounded-md shadow-lg text-white flex items-center animate-fade-in-up",h=d==="success"?"bg-green-500":"bg-red-600";return l.jsxs("div",{className:`${c} ${h}`,role:"alert",children:[l.jsx("span",{className:"flex-grow",children:i}),l.jsx("button",{onClick:u,className:"ml-4 p-1 rounded-full hover:bg-white/20",children:l.jsx(Re,{className:"h-5 w-5"})})]})},_0=({token:i,onLogout:d})=>{const[u,c]=x.useState("dashboard"),[h,m]=x.useState(!1),[v,j]=x.useState(null),[w,g]=x.useState(null),[R,T]=x.useState(()=>{const P=localStorage.getItem("currentUser");return P?JSON.parse(P):null}),[Y,k]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const A=await Bp(i);T(A)}catch(A){console.error("Failed to fetch profile",A)}})()},[i]);const S=P=>{j(null),c(P)},_=P=>{j(P),c("babies")},H=(P,A="success")=>{g({message:P,type:A})},ee=async P=>{try{if(R&&R._id){const A=await Jm(i,R._id,P);T(A),localStorage.setItem("currentUser",JSON.stringify(A)),k(!1),H("Profil mis  jour avec succs !","success")}}catch(A){throw console.error("Failed to update profile",A),H("Erreur lors de la mise  jour du profil.","error"),A}};return l.jsxs("div",{className:"min-h-screen bg-background flex",children:[l.jsx(Kp,{isOpen:h,onClose:()=>m(!1),currentPage:u,onNavigate:S}),l.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[l.jsx(Ip,{onLogout:d,onMenuClick:()=>m(!0),user:R,onEditProfile:()=>k(!0)}),l.jsxs("main",{className:"flex-1 p-4 md:p-6 lg:p-8 overflow-y-auto",children:[u==="dashboard"&&l.jsx(vg,{token:i}),u==="users"&&l.jsx(kg,{token:i,onLogout:d,onNavigateToBaby:_}),u==="babies"&&l.jsx(Gg,{token:i,onLogout:d,initialBabyId:v,onClearInitialBabyId:()=>j(null)}),u==="doctors"&&l.jsx(Jg,{token:i,onLogout:d}),u==="categories"&&l.jsx(Pg,{token:i,onLogout:d}),u==="advices"&&l.jsx(s0,{token:i,onLogout:d}),u==="articles"&&l.jsx(c0,{token:i,onLogout:d}),u==="recipes"&&l.jsx(x0,{token:i,onLogout:d}),u==="avatars"&&l.jsx(D0,{token:i,onLogout:d}),u==="settings"&&l.jsx(y0,{token:i,onLogout:d}),u==="infos"&&l.jsx(z0,{token:i,onLogout:d})]})]}),l.jsx(lx,{isOpen:Y,onClose:()=>k(!1),onSave:ee,user:R,hideRole:!0,token:i}),w&&l.jsx(O0,{message:w.message,type:w.type,onClose:()=>g(null)})]})},U0=()=>{const[i,d]=x.useState(null);x.useEffect(()=>{const h=localStorage.getItem("authToken");h&&d(h),g0()},[]);const u=x.useCallback(h=>{localStorage.setItem("authToken",h),d(h)},[]),c=x.useCallback(()=>{localStorage.removeItem("authToken"),localStorage.removeItem("currentUser"),d(null)},[]);return l.jsx(l.Fragment,{children:i?l.jsx(_0,{token:i,onLogout:c}):l.jsx(Jp,{onLoginSuccess:u})})},rx=document.getElementById("root");if(!rx)throw new Error("L'lment racine est introuvable pour le montage");const B0=_p.createRoot(rx);B0.render(l.jsx(No.StrictMode,{children:l.jsx(U0,{})}));
